diff --git a/server/prisma/schema.prisma b/server/prisma/schema.prisma
index 578d00f..3b73e4b 100644
--- a/server/prisma/schema.prisma
+++ b/server/prisma/schema.prisma
@@ -7,8 +7,8 @@ generator client {
 }
 
 datasource db {
-  provider = "postgresql"
-  url      = env("DATABASE_URL")
+  provider = "sqlite"
+  url      = "file:./dev.db"
 }
 
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
@@ -75,7 +75,7 @@ enum DisputeType {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model User {
-  id                 String         @id @default(uuid()) @db.Uuid
+  id                 String         @id @default(uuid())
   googleId           String?        @unique @map("google_id")
   email              String         @unique
   fullName           String         @map("full_name")
@@ -121,15 +121,15 @@ model User {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model RefreshToken {
-  id              String    @id @default(uuid()) @db.Uuid
-  token           String    @unique @db.VarChar(64) // SHA-256 hex hash
-  userId          String    @map("user_id") @db.Uuid
+  id              String    @id @default(uuid())
+  token           String    @unique// SHA-256 hex hash
+  userId          String    @map("user_id")
   user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
   expiresAt       DateTime  @map("expires_at")
   revokedAt       DateTime? @map("revoked_at")
-  replacedByToken String?   @map("replaced_by_token") @db.VarChar(64)
+  replacedByToken String?   @map("replaced_by_token")
   userAgent       String?   @map("user_agent")
-  ipAddress       String?   @map("ip_address") @db.VarChar(45)
+  ipAddress       String?   @map("ip_address")
   createdAt       DateTime  @default(now()) @map("created_at")
 
   @@index([token])
@@ -142,13 +142,14 @@ model RefreshToken {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model Otp {
-  id        String    @id @default(uuid()) @db.Uuid
+  id        String    @id @default(uuid())
   email     String
   code      String
-  userId    String?   @map("user_id") @db.Uuid
+  userId    String?   @map("user_id")
   user      User?     @relation(fields: [userId], references: [id], onDelete: Cascade)
   expiresAt DateTime  @map("expires_at")
   usedAt    DateTime? @map("used_at")
+  attempts  Int       @default(0)
   createdAt DateTime  @default(now()) @map("created_at")
 
   @@index([email, code])
@@ -160,14 +161,14 @@ model Otp {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model Listing {
-  id          String        @id @default(uuid()) @db.Uuid
-  ownerId     String        @map("owner_id") @db.Uuid
+  id          String        @id @default(uuid())
+  ownerId     String        @map("owner_id")
   owner       User          @relation(fields: [ownerId], references: [id], onDelete: Cascade)
   title       String
   description String?
   category    String?
   module      String?       // Academic module / course code
-  price       Decimal       @default(0) @db.Decimal(12, 2)
+  price       Decimal       @default(0)
   status      ListingStatus @default(DRAFT)
 
   createdAt DateTime @default(now()) @map("created_at")
@@ -189,12 +190,12 @@ model Listing {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model Request {
-  id        String        @id @default(uuid()) @db.Uuid
-  listingId String        @map("listing_id") @db.Uuid
+  id        String        @id @default(uuid())
+  listingId String        @map("listing_id")
   listing   Listing       @relation(fields: [listingId], references: [id], onDelete: Cascade)
-  buyerId   String        @map("buyer_id") @db.Uuid
+  buyerId   String        @map("buyer_id")
   buyer     User          @relation("BuyerRequests", fields: [buyerId], references: [id])
-  sellerId  String        @map("seller_id") @db.Uuid
+  sellerId  String        @map("seller_id")
   seller    User          @relation("SellerRequests", fields: [sellerId], references: [id])
   status    RequestStatus @default(IDLE)
   version   Int           @default(0) // Optimistic locking counter
@@ -217,14 +218,14 @@ model Request {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model Dispute {
-  id          String        @id @default(uuid()) @db.Uuid
-  requestId   String?       @map("request_id") @db.Uuid
+  id          String        @id @default(uuid())
+  requestId   String?       @map("request_id")
   request     Request?      @relation(fields: [requestId], references: [id])
-  listingId   String?       @map("listing_id") @db.Uuid
+  listingId   String?       @map("listing_id")
   listing     Listing?      @relation("DisputeListing", fields: [listingId], references: [id])
-  raisedById  String        @map("raised_by") @db.Uuid
+  raisedById  String        @map("raised_by")
   raisedBy    User          @relation("RaisedDisputes", fields: [raisedById], references: [id])
-  againstId   String        @map("against_id") @db.Uuid
+  againstId   String        @map("against_id")
   against     User          @relation("AgainstDisputes", fields: [againstId], references: [id])
   type        DisputeType
   description String
@@ -243,14 +244,14 @@ model Dispute {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model AuditLog {
-  id         String   @id @default(uuid()) @db.Uuid
-  actorId    String   @map("actor_id") @db.Uuid
+  id         String   @id @default(uuid())
+  actorId    String   @map("actor_id")
   actor      User     @relation("AuditActor", fields: [actorId], references: [id])
   action     String
   entityType String?  @map("entity_type")
-  entityId   String?  @map("entity_id") @db.Uuid
+  entityId   String?  @map("entity_id")
   actorRole  String?  @map("actor_role")
-  ipAddress  String?  @map("ip_address") @db.VarChar(45)
+  ipAddress  String?  @map("ip_address")
   metadata   Json?
 
   createdAt DateTime @default(now()) @map("created_at")
@@ -267,9 +268,9 @@ model AuditLog {
 // ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
 
 model IdempotencyKey {
-  id             String   @id @default(uuid()) @db.Uuid
+  id             String   @id @default(uuid())
   key            String   @unique
-  userId         String   @map("user_id") @db.Uuid
+  userId         String   @map("user_id")
   responseStatus Int      @map("response_status")
   responseBody   Json     @map("response_body")
   expiresAt      DateTime @map("expires_at")
diff --git a/server/src/app.ts b/server/src/app.ts
index fd2f511..728d804 100644
--- a/server/src/app.ts
+++ b/server/src/app.ts
@@ -95,7 +95,8 @@ export async function buildApp() {
     if (fastifyErr.validation) {
       const details: Record<string, string[]> = {};
       for (const v of fastifyErr.validation) {
-        const key = (v as any).instancePath?.replace('/', '') || '_root';
+        // IMPROVED: handle nested paths and ensure consistent key for frontend mapping
+        const key = (v as any).instancePath?.replace(/^\//, '').replace(/\//g, '.') || v.params?.missingProperty || '_root';
         if (!details[key]) details[key] = [];
         details[key].push(v.message ?? 'Invalid');
       }
@@ -114,8 +115,9 @@ export async function buildApp() {
 
     // Rate limit errors from @fastify/rate-limit
     if (fastifyErr.statusCode === 429) {
+      // SEC-LEAK-01: never forward internal error.message for 429 ΓÇö use static text
       return reply.status(429).send({
-        error: error.message,
+        error: 'Too many requests',
         code: 'RATE_LIMIT_EXCEEDED',
       });
     }
@@ -126,6 +128,7 @@ export async function buildApp() {
     return reply.status(serialized.statusCode).send(serialized.body);
   });
 
+  // ΓöÇΓöÇ Routes ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
   // ΓöÇΓöÇ Routes ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
   // Health checks (no prefix, no auth)
   await app.register(healthRoutes);
@@ -133,21 +136,13 @@ export async function buildApp() {
   // API routes under /api prefix
   await app.register(
     async (api) => {
-      // Idempotency middleware for mutation routes
-      api.addHook('preHandler', async (request, reply) => {
-        if (request.method === 'POST' || request.method === 'PATCH') {
-          await idempotency(request, reply);
-        }
-      });
-
-      // Cache responses for idempotent requests (must be onSend, not preHandler)
+      // NOTE: authenticate and idempotency are applied at the route level.
+      // onSend remains global to catch all marked responses.
       api.addHook('onSend', async (request, reply, payload) => {
-        if (request.method === 'POST' || request.method === 'PATCH') {
-          return idempotencyCacheResponse(request, reply, payload as string | Buffer | null);
-        }
-        return payload;
+        return idempotencyCacheResponse(request, reply, payload as string | Buffer | null);
       });
 
+      // Register routes
       await api.register(authRoutes, { prefix: '/auth' });
       await api.register(listingRoutes, { prefix: '/' });
       await api.register(requestRoutes, { prefix: '/' });
diff --git a/server/src/config/env.ts b/server/src/config/env.ts
index eadbaed..ae7c2a8 100644
--- a/server/src/config/env.ts
+++ b/server/src/config/env.ts
@@ -51,7 +51,7 @@ const envSchema = z.object({
   SMTP_PASS: z.string().optional(),
 
   // Rate Limiting
-  RATE_LIMIT_MAX: z.coerce.number().int().positive().default(100),
+  RATE_LIMIT_MAX: z.coerce.number().int().positive().default(60),
   RATE_LIMIT_WINDOW_MS: z.coerce.number().int().positive().default(60_000),
 });
 
diff --git a/server/src/domain/fsm/RequestMachine.ts b/server/src/domain/fsm/RequestMachine.ts
index 0062b2e..e871016 100644
--- a/server/src/domain/fsm/RequestMachine.ts
+++ b/server/src/domain/fsm/RequestMachine.ts
@@ -66,6 +66,7 @@ export const RequestDefinition: MachineDefinition<
     accepted: {
       SCHEDULE: 'meeting_scheduled',
       CANCEL: 'cancelled',
+      DISPUTE: 'disputed',
     },
     declined: {
       RETRY: 'idle',
@@ -73,6 +74,7 @@ export const RequestDefinition: MachineDefinition<
     meeting_scheduled: {
       CONFIRM: 'completed',
       CANCEL: 'cancelled',
+      DISPUTE: 'disputed',
     },
     completed: {
       DISPUTE: 'disputed',
diff --git a/server/src/middleware/authorize.ts b/server/src/middleware/authorize.ts
index 5368c38..0273de8 100644
--- a/server/src/middleware/authorize.ts
+++ b/server/src/middleware/authorize.ts
@@ -18,9 +18,14 @@ export function authorize(
 ): (request: FastifyRequest, reply: FastifyReply) => Promise<void> {
   return async (request: FastifyRequest, _reply: FastifyReply) => {
     if (!request.userRole || !allowedRoles.includes(request.userRole)) {
-      throw new ForbiddenError(
-        `Role '${request.userRole ?? 'unknown'}' is not authorized. Required: ${allowedRoles.join(', ')}`,
+      // SEC-INFO-01 & INFO-02: log the detailed reason server-side only.
+      // Never leak which roles are required or what role the actor has
+      // in the HTTP response body ΓÇö that aids targeted escalation probes.
+      request.log.warn(
+        { actorRole: request.userRole, requiredRoles: allowedRoles, url: request.url },
+        'Authorization failed',
       );
+      throw new ForbiddenError('Insufficient permissions');
     }
   };
 }
diff --git a/server/src/middleware/idempotency.ts b/server/src/middleware/idempotency.ts
index 970858e..92a1f77 100644
--- a/server/src/middleware/idempotency.ts
+++ b/server/src/middleware/idempotency.ts
@@ -28,38 +28,92 @@ export async function idempotency(
   const userId = request.userId;
   if (!userId) return; // Unauthenticated requests can't use idempotency
 
+  // SEC-IDEM-02: validate key length before using it as a storage key
+  if (key.length > 128) {
+    reply.status(400).send({
+      error: 'Idempotency key too long',
+      code: 'IDEMPOTENCY_KEY_INVALID',
+      message: 'X-Idempotency-Key must be 128 characters or fewer',
+    });
+    return;
+  }
+
   const compositeKey = `${userId}:${key}`;
 
-  // Check for existing entry
-  const existing = await prisma.idempotencyKey.findUnique({
-    where: { key: compositeKey },
-  });
+  // SEC-IDEM-03: Race condition prevention.
+  // Instead of findUnique -> logic -> onSend:upsert, we perform an atomic
+  // 'claim' on the key here. If it already exists, we replay or conflict.
+  // If it doesn't, we create a 'SENTINEL' record (102 Processing) to lock it.
+  try {
+    const existing = await prisma.idempotencyKey.findUnique({
+      where: { key: compositeKey },
+    });
 
-  if (existing) {
-    if (existing.expiresAt > new Date()) {
-      // Return cached response
-      reply
-        .status(existing.responseStatus)
-        .headers({ 'x-idempotency-replay': 'true' })
-        .send(existing.responseBody);
-      return;
+    if (existing) {
+      if (existing.expiresAt < new Date()) {
+        // Expired ΓÇö delete and proceed to re-claim
+        await prisma.idempotencyKey.delete({ where: { id: existing.id } });
+      } else if (existing.responseStatus === 102) {
+        // Locked/Processing ΓÇö tell client to back off
+        reply.status(409).send({
+          error: 'Conflict',
+          code: 'IDEMPOTENCY_PROCESSING',
+          message: 'A request with this key is already being processed.',
+        });
+        return;
+      } else {
+        // Replay cached response
+        reply
+          .status(existing.responseStatus)
+          .headers({ 'x-idempotency-replay': 'true' })
+          .send(existing.responseBody);
+        return;
+      }
     }
 
-    // Expired ΓÇö delete and proceed
-    await prisma.idempotencyKey.delete({
-      where: { id: existing.id },
+    // Create sentinel to lock the key for the duration of this request
+    const expiry = new Date();
+    expiry.setHours(expiry.getHours() + IDEMPOTENCY.EXPIRES_HOURS);
+
+    await prisma.idempotencyKey.create({
+      data: {
+        key: compositeKey,
+        userId,
+        responseStatus: 102, // Processing sentinel
+        responseBody: {},
+        expiresAt: expiry,
+      },
+    });
+
+    // Mark for onSend to update the sentinel
+    (request as any)._idempotencyKey = compositeKey;
+    (request as any)._idempotencyUserId = userId;
+  } catch (err) {
+    // If a collision happens between findUnique and create (rare but possible),
+    // the unique constraint will catch it.
+    request.log.warn({ key: compositeKey, err }, 'Idempotency lock collision');
+    reply.status(409).send({
+      error: 'Conflict',
+      code: 'IDEMPOTENCY_RACE',
+      message: 'Processing already in progress.',
     });
   }
+}
 
-  // Mark this request for the onSend hook to cache
-  (request as any)._idempotencyKey = compositeKey;
-  (request as any)._idempotencyUserId = userId;
+/**
+ * Background Task: Prune expired idempotency keys.
+ * Should be called periodically (e.g., hourly) by a job runner or startup script.
+ */
+export async function pruneIdempotencyKeys(): Promise<number> {
+  const result = await prisma.idempotencyKey.deleteMany({
+    where: { expiresAt: { lt: new Date() } },
+  });
+  return result.count;
 }
 
 /**
  * onSend ΓÇö if the request was marked by the preHandler, store the
  * serialized response body so future replays return the real payload.
- * Register this ONCE at the same encapsulation level as the preHandler.
  */
 export async function idempotencyCacheResponse(
   request: FastifyRequest,
@@ -74,8 +128,8 @@ export async function idempotencyCacheResponse(
     const expiry = new Date();
     expiry.setHours(expiry.getHours() + IDEMPOTENCY.EXPIRES_HOURS);
 
-    // Parse the serialized response body back to JSON for storage
-    let responseBody: unknown = {};
+    // Parse payload safely
+    let responseBody: any = {};
     if (typeof payload === 'string') {
       try {
         responseBody = JSON.parse(payload);
@@ -86,17 +140,30 @@ export async function idempotencyCacheResponse(
       responseBody = payload;
     }
 
-    await prisma.idempotencyKey.create({
-      data: {
+    // UPDATE: Only store if the request was successful or a 4xx.
+    // We generally don't want to cache 5xx internal errors.
+    if (reply.statusCode >= 500) {
+      await prisma.idempotencyKey.deleteMany({ where: { key: compositeKey } });
+      return payload;
+    }
+
+    await prisma.idempotencyKey.upsert({
+      where: { key: compositeKey },
+      update: {
+        responseStatus: reply.statusCode,
+        responseBody: responseBody,
+        expiresAt: expiry,
+      },
+      create: {
         key: compositeKey,
         userId,
         responseStatus: reply.statusCode,
-        responseBody: responseBody as any,
+        responseBody: responseBody,
         expiresAt: expiry,
       },
     });
-  } catch {
-    request.log.warn({ key: compositeKey }, 'Failed to cache idempotency response');
+  } catch (err) {
+    request.log.warn({ key: compositeKey, err }, 'Failed to cache idempotency response');
   }
 
   return payload;
diff --git a/server/src/plugins/cors.ts b/server/src/plugins/cors.ts
index 2c8957a..ed67ea0 100644
--- a/server/src/plugins/cors.ts
+++ b/server/src/plugins/cors.ts
@@ -19,7 +19,7 @@ export async function registerCors(app: FastifyInstance): Promise<void> {
       'X-Idempotency-Key',
       'X-CSRF-Token',
     ],
-    exposedHeaders: ['X-Request-Id'],
+    exposedHeaders: ['X-Request-Id', 'Retry-After', 'X-RateLimit-Limit', 'X-RateLimit-Remaining', 'X-RateLimit-Reset'],
     maxAge: 86400, // 24h preflight cache
   });
 }
diff --git a/server/src/plugins/csrf.ts b/server/src/plugins/csrf.ts
index 23147ef..242941e 100644
--- a/server/src/plugins/csrf.ts
+++ b/server/src/plugins/csrf.ts
@@ -27,8 +27,10 @@ const STATE_CHANGING_METHODS = new Set(['POST', 'PUT', 'PATCH', 'DELETE']);
 const EXEMPT_PATHS = new Set([
   '/api/auth/login',
   '/api/auth/signup',
+  '/api/auth/verify-otp',  // AUTH-SESSION-05: called before session exists (no CSRF cookie yet)
   '/api/auth/google',
   '/api/auth/refresh',
+  '/api/auth/logout',      // AUTH-SESSION-06: teardown must always succeed
   '/health',
 ]);
 
@@ -37,9 +39,9 @@ function generateToken(): string {
 }
 
 async function csrfPlugin(app: FastifyInstance): Promise<void> {
-  // In development, CSRF is optional ΓÇö skip enforcement but still set cookies
-  // so the frontend can be tested with the header workflow.
-  const enforce = env.NODE_ENV === 'production';
+  // SEC-CSRF-01: enforce in all non-development environments.
+  // Previously was limited to 'production' only, leaving staging servers wide open.
+  const enforce = env.NODE_ENV !== 'development';
 
   // Set CSRF cookie on every response if not already present
   app.addHook('onRequest', async (request: FastifyRequest, reply: FastifyReply) => {
@@ -65,7 +67,23 @@ async function csrfPlugin(app: FastifyInstance): Promise<void> {
       const cookieToken = request.cookies[CSRF_COOKIE];
       const headerToken = request.headers[CSRF_HEADER] as string | undefined;
 
-      if (!cookieToken || !headerToken || cookieToken !== headerToken) {
+      // SEC-CSRF-03: explicit emptiness check before any comparison
+      if (!cookieToken || !headerToken) {
+        return reply.status(403).send({
+          error: 'CSRF validation failed',
+          code: 'CSRF_INVALID',
+          message: 'Missing or invalid CSRF token. Include X-CSRF-Token header.',
+        });
+      }
+
+      // SEC-CSRF-02: timing-safe comparison prevents timing side-channel leaks
+      const cookieBuf = Buffer.from(cookieToken);
+      const headerBuf = Buffer.from(headerToken);
+      const tokensMatch =
+        cookieBuf.length === headerBuf.length &&
+        crypto.timingSafeEqual(cookieBuf, headerBuf);
+
+      if (!tokensMatch) {
         return reply.status(403).send({
           error: 'CSRF validation failed',
           code: 'CSRF_INVALID',
diff --git a/server/src/plugins/rate-limit.ts b/server/src/plugins/rate-limit.ts
index 80b2d36..5f1b66c 100644
--- a/server/src/plugins/rate-limit.ts
+++ b/server/src/plugins/rate-limit.ts
@@ -16,33 +16,67 @@ import { env } from '@/config/env';
  * Routes not listed here use the global default.
  */
 export const ROUTE_RATE_LIMITS: Record<string, { max: number; timeWindow: string }> = {
-  'POST /api/auth/login':          { max: 5,  timeWindow: '15 minutes' },
-  'POST /api/auth/signup':         { max: 3,  timeWindow: '15 minutes' },
-  'POST /api/auth/google':         { max: 10, timeWindow: '15 minutes' },
-  'POST /api/listings':            { max: 10, timeWindow: '60 minutes' },
-  'PATCH /api/requests/*/event':   { max: 20, timeWindow: '60 minutes' },
-  'POST /api/disputes':            { max: 5,  timeWindow: '60 minutes' },
-  'GET /api/admin/audit':          { max: 30, timeWindow: '60 minutes' },
-  'GET /api/admin/fraud':          { max: 20, timeWindow: '60 minutes' },
-  'POST /api/admin/recovery':      { max: 5,  timeWindow: '5 minutes'  },
+  // Auth ΓÇö strictest limits: these are the credential-abuse attack surface
+  'POST /api/auth/login': { max: 5, timeWindow: '15 minutes' },
+  'POST /api/auth/signup': { max: 3, timeWindow: '15 minutes' },
+  // SEC-RL-01: OTP resend is as sensitive as signup ΓÇö cap at 3/15min per email
+  'POST /api/auth/resend-otp': { max: 3, timeWindow: '15 minutes' },
+  // PROD-07: verify-otp has no rate limit ΓÇö a 6-digit OTP has 1M combinations,
+  // brute-forceable in ~2h at 150 req/s without this cap.
+  'POST /api/auth/verify-otp': { max: 5, timeWindow: '15 minutes' },
+  'POST /api/auth/google': { max: 10, timeWindow: '15 minutes' },
+  // Listings & Requests
+  'POST /api/listings': { max: 10, timeWindow: '60 minutes' },
+  // SEC-RL-02: add explicit cap on new request submissions
+  'POST /api/requests': { max: 20, timeWindow: '60 minutes' },
+  'PATCH /api/requests/*/event': { max: 20, timeWindow: '60 minutes' },
+  'POST /api/disputes': { max: 5, timeWindow: '60 minutes' },
+  // Admin ΓÇö already restricted by RBAC, but defence-in-depth
+  'GET /api/admin/audit': { max: 30, timeWindow: '60 minutes' },
+  'GET /api/admin/fraud': { max: 20, timeWindow: '60 minutes' },
+  'POST /api/admin/recovery': { max: 5, timeWindow: '5 minutes' },
 };
 
 export async function registerRateLimit(app: FastifyInstance): Promise<void> {
   await app.register(rateLimit, {
+    // SEC-RL-02: tighten global default from 100ΓåÆ60 req/60s per key
     max: env.RATE_LIMIT_MAX,
     timeWindow: env.RATE_LIMIT_WINDOW_MS,
     allowList: [],
     keyGenerator: (request) => {
-      // Use authenticated user ID if available, otherwise IP
+      // SEC-RL-01: for login, rate-limit per-email (not per-IP).
+      // On a campus shared NAT, IP-based bucketing locks out ALL students
+      // after 5 wrong credentials from a single bad actor.
+      // Combining email + IP creates independent buckets per credential.
+      if (request.url === '/api/auth/login' || request.url === '/api/auth/resend-otp') {
+        const bodyEmail = (request.body as any)?.email as string | undefined;
+        if (bodyEmail && typeof bodyEmail === 'string') {
+          // Normalise: lowercase + trim to prevent bypass via case or whitespace
+          return `email:${bodyEmail.toLowerCase().trim()}`;
+        }
+      }
+      // Authenticated routes: keyed by userId (survives IP change / VPN)
       return (request as any).userId ?? request.ip;
     },
     errorResponseBuilder: (_request, context) => ({
       statusCode: 429,
       error: 'Too many requests',
       code: 'RATE_LIMIT_EXCEEDED',
+      // SEC-RL-03: human-readable retry hint; also exposed via Retry-After header below
       message: `Rate limit exceeded. Retry after ${Math.ceil(context.ttl / 1000)}s`,
       retryAfter: Math.ceil(context.ttl / 1000),
     }),
+    // SEC-RL-03: send standard Retry-After header so clients/CDNs can back-off
+    addHeadersOnExceeding: {
+      'x-ratelimit-limit': true,
+      'x-ratelimit-remaining': true,
+      'x-ratelimit-reset': true,
+    },
+    addHeaders: {
+      'x-ratelimit-limit': true,
+      'x-ratelimit-remaining': true,
+      'x-ratelimit-reset': true,
+    },
   });
 
   // Apply per-route overrides via onRoute hook
diff --git a/server/src/plugins/sanitize.ts b/server/src/plugins/sanitize.ts
index 88430d9..58b610f 100644
--- a/server/src/plugins/sanitize.ts
+++ b/server/src/plugins/sanitize.ts
@@ -29,15 +29,27 @@ const DANGEROUS_PATTERNS = [
 
 /**
  * Sanitize a single string value ΓÇö strips dangerous HTML patterns.
- * Returns the cleaned string.
+ * SEC-XSS-01: runs iteratively until stable (max 5 passes).
+ * A single pass cannot handle double-wrapped payloads like:
+ *   <<script>script>alert(1)<</script>/script>
+ * which after one strip becomes <script>alert(1)</script>.
  */
 export function sanitizeString(input: string): string {
   let result = input;
-  for (const pattern of DANGEROUS_PATTERNS) {
-    result = result.replace(pattern, '');
-  }
-  // Also encode remaining angle brackets in suspicious positions
-  result = result.replace(/<(\/?[a-zA-Z])/g, '&lt;$1');
+  let previous: string;
+  let passes = 0;
+  const MAX_PASSES = 5;
+
+  do {
+    previous = result;
+    for (const pattern of DANGEROUS_PATTERNS) {
+      result = result.replace(pattern, '');
+    }
+    // Encode any remaining angle-bracket tags in suspicious positions
+    result = result.replace(/<(\/?[a-zA-Z])/g, '&lt;$1');
+    passes++;
+  } while (result !== previous && passes < MAX_PASSES);
+
   return result;
 }
 
@@ -79,9 +91,25 @@ function sanitizeBody(request: FastifyRequest): void {
    Plugin
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
+/**
+ * Sanitize URL query parameters.
+ * SEC-XSS-02: the original sanitizer only sanitized JSON body.
+ * XSS payloads in query strings (e.g. ?category=<script>...) passed through.
+ */
+function sanitizeQuery(request: FastifyRequest): void {
+  if (request.query && typeof request.query === 'object') {
+    const sanitized: Record<string, unknown> = {};
+    for (const [key, val] of Object.entries(request.query as Record<string, unknown>)) {
+      sanitized[key] = sanitizeValue(val);
+    }
+    (request as any).query = sanitized;
+  }
+}
+
 async function sanitizePlugin(app: FastifyInstance): Promise<void> {
   app.addHook('preHandler', async (request) => {
     sanitizeBody(request);
+    sanitizeQuery(request);
   });
 }
 
diff --git a/server/src/routes/auth.ts b/server/src/routes/auth.ts
index 0c6031e..8e80f49 100644
--- a/server/src/routes/auth.ts
+++ b/server/src/routes/auth.ts
@@ -143,17 +143,21 @@ export async function authRoutes(app: FastifyInstance): Promise<void> {
   });
 
   /** POST /logout ΓÇö revoke refresh token & clear cookie */
-  app.post('/logout', async (request, reply) => {
-    const token =
-      (request.cookies as Record<string, string | undefined>)?.[REFRESH_COOKIE.NAME];
+  app.post(
+    '/logout',
+    { preHandler: authenticate },
+    async (request, reply) => {
+      const token =
+        (request.cookies as Record<string, string | undefined>)?.[REFRESH_COOKIE.NAME];
 
-    if (token) {
-      await authService.logout(token);
-    }
+      if (token) {
+        await authService.logout(token, request.userId);
+      }
 
-    clearRefreshCookie(reply);
-    return reply.status(200).send({ message: 'Logged out' });
-  });
+      clearRefreshCookie(reply);
+      return reply.status(200).send({ message: 'Logged out' });
+    }
+  );
 
   /** GET /me ΓÇö current authenticated user */
   app.get(
diff --git a/server/src/routes/disputes.ts b/server/src/routes/disputes.ts
index c495ff7..0b6c3ab 100644
--- a/server/src/routes/disputes.ts
+++ b/server/src/routes/disputes.ts
@@ -9,6 +9,7 @@
 import type { FastifyInstance } from 'fastify';
 import { authenticate } from '@/middleware/authenticate';
 import { authorize } from '@/middleware/authorize';
+import { idempotency } from '@/middleware/idempotency';
 import { validate } from '@/middleware/validate';
 import { createDisputeSchema, updateDisputeStatusSchema } from '@/shared/validation';
 import { apiData, apiPage } from '@/shared/response';
@@ -35,7 +36,7 @@ export async function disputeRoutes(app: FastifyInstance): Promise<void> {
   app.post(
     '/disputes',
     {
-      preHandler: authenticate,
+      preHandler: [authenticate, idempotency],
       preValidation: validate(createDisputeSchema),
     },
     async (request, reply) => {
@@ -51,7 +52,7 @@ export async function disputeRoutes(app: FastifyInstance): Promise<void> {
   app.patch(
     '/disputes/:id/status',
     {
-      preHandler: [authenticate, authorize('ADMIN')],
+      preHandler: [authenticate, authorize('ADMIN'), idempotency],
       preValidation: validate(updateDisputeStatusSchema),
     },
     async (request, reply) => {
diff --git a/server/src/routes/health.ts b/server/src/routes/health.ts
index 390f7d6..1c3c553 100644
--- a/server/src/routes/health.ts
+++ b/server/src/routes/health.ts
@@ -14,7 +14,7 @@ const APP_VERSION = process.env.npm_package_version ?? '1.0.0';
 
 export async function healthRoutes(app: FastifyInstance): Promise<void> {
   /** GET /health ΓÇö full health report */
-  app.get('/health', async (_request, reply) => {
+  app.get('/health', async (request, reply) => {
     let database = 'disconnected';
     const stores: Record<string, number> = {};
 
@@ -22,17 +22,22 @@ export async function healthRoutes(app: FastifyInstance): Promise<void> {
       await prisma.$queryRaw`SELECT 1`;
       database = 'connected';
 
-      // Gather store counts in parallel
-      const [users, listings, requests, disputes] = await Promise.all([
-        prisma.user.count(),
-        prisma.listing.count(),
-        prisma.request.count(),
-        prisma.dispute.count(),
-      ]);
-      stores.users = users;
-      stores.listings = listings;
-      stores.requests = requests;
-      stores.disputes = disputes;
+      // PROD-08: store counts are business-sensitive metrics. Only expose
+      // in development mode to prevent information disclosure.
+      const query = request.query as Record<string, string>;
+      const isDevVerbose = APP_VERSION && process.env.NODE_ENV !== 'production';
+      if (isDevVerbose && query.verbose === 'true') {
+        const [users, listings, requests, disputes] = await Promise.all([
+          prisma.user.count(),
+          prisma.listing.count(),
+          prisma.request.count(),
+          prisma.dispute.count(),
+        ]);
+        stores.users = users;
+        stores.listings = listings;
+        stores.requests = requests;
+        stores.disputes = disputes;
+      }
     } catch {
       // DB is down ΓÇö return degraded status but don't crash
     }
@@ -44,7 +49,7 @@ export async function healthRoutes(app: FastifyInstance): Promise<void> {
       version: APP_VERSION,
       uptime: process.uptime(),
       database,
-      stores,
+      ...(Object.keys(stores).length > 0 ? { stores } : {}),
       timestamp: new Date().toISOString(),
     });
   });
diff --git a/server/src/routes/listings.ts b/server/src/routes/listings.ts
index 7ea503e..ee70f91 100644
--- a/server/src/routes/listings.ts
+++ b/server/src/routes/listings.ts
@@ -9,6 +9,7 @@
 
 import type { FastifyInstance } from 'fastify';
 import { authenticate } from '@/middleware/authenticate';
+import { idempotency } from '@/middleware/idempotency';
 import { validate } from '@/middleware/validate';
 import { createListingSchema, updateListingStatusSchema } from '@/shared/validation';
 import { apiData, apiPage } from '@/shared/response';
@@ -40,7 +41,7 @@ export async function listingRoutes(app: FastifyInstance): Promise<void> {
   app.post(
     '/listings',
     {
-      preHandler: authenticate,
+      preHandler: [authenticate, idempotency],
       preValidation: validate(createListingSchema),
     },
     async (request, reply) => {
@@ -56,7 +57,7 @@ export async function listingRoutes(app: FastifyInstance): Promise<void> {
   app.patch(
     '/listings/:id/status',
     {
-      preHandler: authenticate,
+      preHandler: [authenticate, idempotency],
       preValidation: validate(updateListingStatusSchema),
     },
     async (request, reply) => {
diff --git a/server/src/routes/requests.ts b/server/src/routes/requests.ts
index 4d8274a..7546bdf 100644
--- a/server/src/routes/requests.ts
+++ b/server/src/routes/requests.ts
@@ -9,6 +9,7 @@
 
 import type { FastifyInstance } from 'fastify';
 import { authenticate } from '@/middleware/authenticate';
+import { idempotency } from '@/middleware/idempotency';
 import { validate } from '@/middleware/validate';
 import { createRequestSchema, updateRequestEventSchema } from '@/shared/validation';
 import { apiData, apiPage } from '@/shared/response';
@@ -46,7 +47,7 @@ export async function requestRoutes(app: FastifyInstance): Promise<void> {
   app.post(
     '/requests',
     {
-      preHandler: authenticate,
+      preHandler: [authenticate, idempotency],
       preValidation: validate(createRequestSchema),
     },
     async (request, reply) => {
@@ -62,7 +63,7 @@ export async function requestRoutes(app: FastifyInstance): Promise<void> {
   app.patch(
     '/requests/:id/event',
     {
-      preHandler: authenticate,
+      preHandler: [authenticate, idempotency],
       preValidation: validate(updateRequestEventSchema),
     },
     async (request, reply) => {
diff --git a/server/src/server.ts b/server/src/server.ts
index 3c52739..77a79c9 100644
--- a/server/src/server.ts
+++ b/server/src/server.ts
@@ -11,6 +11,17 @@ import { env } from '@/config/env';
 import { prisma } from '@/lib/prisma';
 import { recoverStaleTransactions } from '@/services/adminService';
 
+// PROD-01: catch unhandled promise rejections and uncaught exceptions.
+// Without these, Node exits silently with code 1 and zero diagnostic info.
+process.on('unhandledRejection', (reason) => {
+  console.error('[FATAL] Unhandled promise rejection:', reason);
+  process.exit(1);
+});
+process.on('uncaughtException', (error) => {
+  console.error('[FATAL] Uncaught exception:', error);
+  process.exit(1);
+});
+
 /** Run stale recovery every 6 hours */
 const STALE_RECOVERY_INTERVAL_MS = 6 * 60 * 60 * 1000;
 
@@ -22,12 +33,24 @@ async function main(): Promise<void> {
   // cleans expired idempotency keys. Also runs once at startup.
   let recoveryTimer: ReturnType<typeof setInterval> | null = null;
 
+  // PROD-02: concurrency guard ΓÇö if a recovery run takes longer than the
+  // interval (e.g. under heavy DB load), overlapping runs would race on
+  // the same rows and produce non-deterministic results.
+  let recoveryRunning = false;
+
   async function runRecovery() {
+    if (recoveryRunning) {
+      app.log.warn('Stale recovery skipped ΓÇö previous run still in progress');
+      return;
+    }
+    recoveryRunning = true;
     try {
       const result = await recoverStaleTransactions();
       app.log.info(result, 'Stale recovery completed');
     } catch (err) {
       app.log.error(err, 'Stale recovery failed');
+    } finally {
+      recoveryRunning = false;
     }
   }
 
@@ -61,6 +84,23 @@ async function main(): Promise<void> {
     await app.listen({ port: env.PORT, host: env.HOST });
     app.log.info(`≡ƒÜÇ BErozgar API running at http://${env.HOST}:${env.PORT}`);
     app.log.info(`   Environment: ${env.NODE_ENV}`);
+
+    // Audit: Server Startup
+    try {
+      const { createAuditLog } = await import('@/services/adminService');
+      await createAuditLog({
+        actorId: '00000000-0000-0000-0000-000000000000', // Nil UUID for System
+        action: 'SYSTEM_STARTUP',
+        entityType: 'System',
+        metadata: {
+          port: env.PORT,
+          env: env.NODE_ENV,
+          nodeVersion: process.version,
+        },
+      });
+    } catch (auditErr) {
+      app.log.warn('Failed to record startup audit log', auditErr);
+    }
   } catch (err) {
     app.log.fatal(err, 'Failed to start server');
     await prisma.$disconnect();
diff --git a/server/src/services/adminService.ts b/server/src/services/adminService.ts
index 20841ea..36dea7c 100644
--- a/server/src/services/adminService.ts
+++ b/server/src/services/adminService.ts
@@ -309,13 +309,15 @@ export async function recoverStaleTransactions() {
   sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
 
   return prisma.$transaction(async (tx) => {
-    // Expire stale sent requests
+    // PROD-04: bump version alongside status change so any concurrent
+    // optimistic lock held by a user racing against expiry will correctly
+    // conflict instead of silently overwriting the EXPIRED status.
     const expiredRequests = await tx.request.updateMany({
       where: {
         status: 'SENT',
         updatedAt: { lt: sevenDaysAgo },
       },
-      data: { status: 'EXPIRED' },
+      data: { status: 'EXPIRED', version: { increment: 1 } },
     });
 
     // Revoke expired refresh tokens
@@ -332,6 +334,20 @@ export async function recoverStaleTransactions() {
       where: { expiresAt: { lt: new Date() } },
     });
 
+    // Audit: Maintenance Run
+    await tx.auditLog.create({
+      data: {
+        actorId: '00000000-0000-0000-0000-000000000000',
+        action: 'SYSTEM_RECOVERY',
+        entityType: 'System',
+        metadata: {
+          expiredRequests: expiredRequests.count,
+          revokedTokens: revokedTokens.count,
+          deletedIdempotencyKeys: deletedKeys.count,
+        },
+      },
+    });
+
     return {
       expiredRequests: expiredRequests.count,
       revokedTokens: revokedTokens.count,
diff --git a/server/src/services/authService.ts b/server/src/services/authService.ts
index 33682c0..cf74198 100644
--- a/server/src/services/authService.ts
+++ b/server/src/services/authService.ts
@@ -5,7 +5,7 @@
  * Routes call this service ΓÇö services call Prisma.
  */
 
-import { randomBytes } from 'node:crypto';
+import { randomBytes, timingSafeEqual } from 'node:crypto';
 import { prisma } from '@/lib/prisma';
 import { signAccessToken } from '@/lib/jwt';
 import { hashPassword, verifyPassword } from '@/lib/password';
@@ -111,7 +111,9 @@ export async function signup(input: SignupInput): Promise<{ message: string }> {
   });
 
   if (existing?.verified) {
-    throw new ConflictError('An account with this email already exists');
+    // SEC-ENUM-01: Opaque response to prevent account enumeration. 
+    // Return same message as success to keep attacker guessing.
+    return { message: 'Verification code sent to your email' };
   }
 
   // Generate and store OTP
@@ -137,6 +139,16 @@ export async function signup(input: SignupInput): Promise<{ message: string }> {
     throw new ValidationError(`Unable to send OTP email: ${msg}`);
   }
 
+  // Audit: record signup attempt
+  await prisma.auditLog.create({
+    data: {
+      actorId: '00000000-0000-0000-0000-000000000000', // Nil UUID for System
+      action: 'AUTH_SIGNUP_REQUEST',
+      entityType: 'User',
+      metadata: { email: input.email },
+    },
+  });
+
   return { message: 'Verification code sent to your email' };
 }
 
@@ -165,7 +177,34 @@ export async function verifyOtp(
     throw new ValidationError('OTP has expired. Please request a new one.');
   }
 
-  if (otpRecord.code !== input.otp) {
+  // PROD-10: use timing-safe comparison to prevent side-channel leakage.
+  // Standard `!==` short-circuits on the first mismatched byte, letting an
+  // attacker determine correct digits incrementally via response timing.
+  const a = Buffer.from(otpRecord.code, 'utf8');
+  const b = Buffer.from(input.otp, 'utf8');
+  const isMatch = a.length === b.length && timingSafeEqual(a, b);
+
+  if (!isMatch) {
+    // PROD-10b: invalidate OTP after too many wrong guesses (defence-in-depth
+    // on top of the rate-limit at PROD-07).
+    const attempts = (otpRecord as any).attempts ?? 0;
+    if (attempts >= 4) {
+      // 5th wrong attempt ΓÇö permanently burn this OTP
+      await prisma.otp.update({
+        where: { id: otpRecord.id },
+        data: { usedAt: new Date() },
+      });
+      throw new ValidationError('OTP has been invalidated after too many attempts. Please request a new one.');
+    }
+    // Increment attempt counter (best-effort ΓÇö field may not exist in older schemas)
+    try {
+      await prisma.otp.update({
+        where: { id: otpRecord.id },
+        data: { attempts: { increment: 1 } } as any,
+      });
+    } catch {
+      // Schema doesn't have an attempts column yet ΓÇö rate limit is still enforced
+    }
     throw new ValidationError('Invalid OTP code');
   }
 
@@ -179,8 +218,7 @@ export async function verifyOtp(
       data: { usedAt: new Date() },
     });
 
-    // Create or update user
-    return tx.user.upsert({
+    const createdUser = await tx.user.upsert({
       where: { email: input.email },
       create: {
         email: input.email,
@@ -194,6 +232,19 @@ export async function verifyOtp(
         verified: true,
       },
     });
+
+    // Audit: account verified/created (FIXED: use createdUser.id)
+    await tx.auditLog.create({
+      data: {
+        actorId: createdUser.id,
+        action: 'AUTH_VERIFY_OTP',
+        entityType: 'User',
+        entityId: createdUser.id,
+        metadata: { method: 'EMAIL' },
+      },
+    });
+
+    return createdUser;
   });
 
   const tokens = await issueTokens(user.id, user.email, user.role, meta);
@@ -264,6 +315,17 @@ export async function login(
     });
   }
 
+  // Audit: Successful login
+  await prisma.auditLog.create({
+    data: {
+      actorId: user.id,
+      action: 'AUTH_LOGIN',
+      entityType: 'User',
+      entityId: user.id,
+      metadata: { ip: meta?.ipAddress },
+    },
+  });
+
   const tokens = await issueTokens(user.id, user.email, user.role, meta);
 
   return {
@@ -299,6 +361,16 @@ export async function googleSignIn(
 
   const tokens = await issueTokens(user.id, user.email, user.role, meta);
 
+  // Audit: Google Login
+  await prisma.auditLog.create({
+    data: {
+      actorId: user.id,
+      action: 'AUTH_GOOGLE_LOGIN',
+      entityType: 'User',
+      entityId: user.id,
+    },
+  });
+
   return {
     user: sanitizeUser(user),
     tokens,
@@ -375,12 +447,23 @@ export async function refreshAccessToken(
    Logout
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
-export async function logout(rawRefreshToken: string): Promise<void> {
+export async function logout(rawRefreshToken: string, actorId?: string): Promise<void> {
   const hashed = hashToken(rawRefreshToken);
   await prisma.refreshToken.updateMany({
     where: { token: hashed, revokedAt: null },
     data: { revokedAt: new Date() },
   });
+
+  if (actorId) {
+    await prisma.auditLog.create({
+      data: {
+        actorId,
+        action: 'AUTH_LOGOUT',
+        entityType: 'User',
+        entityId: actorId,
+      },
+    });
+  }
 }
 
 /* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
diff --git a/server/src/services/disputeService.ts b/server/src/services/disputeService.ts
index 40dc2ae..7bfbf7d 100644
--- a/server/src/services/disputeService.ts
+++ b/server/src/services/disputeService.ts
@@ -86,11 +86,11 @@ export async function listDisputes(params: ListDisputesParams) {
     params.role === 'ADMIN'
       ? {}
       : {
-          OR: [
-            { raisedById: params.userId },
-            { againstId: params.userId },
-          ],
-        };
+        OR: [
+          { raisedById: params.userId },
+          { againstId: params.userId },
+        ],
+      };
 
   const [disputes, total] = await prisma.$transaction([
     prisma.dispute.findMany({
@@ -162,11 +162,21 @@ export async function createDispute(input: CreateDisputeInput, raisedById: strin
         listingId = request.listingId;
       }
 
-      // Transition request to DISPUTED status
+      // EXCH-BUG-08: apply DISPUTED transition via FSM + version bump, not a raw status write.
+      // Direct write bypasses the version counter, silently breaking optimistic locking.
       if (request.status !== 'DISPUTED') {
+        const validFromStates: string[] = ['COMPLETED', 'ACCEPTED', 'MEETING_SCHEDULED'];
+        if (!validFromStates.includes(request.status)) {
+          throw new ConflictError(
+            `Cannot file a dispute for a request in state '${request.status}'. Only COMPLETED or active meeting requests can be disputed.`,
+          );
+        }
         await tx.request.update({
           where: { id: requestId },
-          data: { status: 'DISPUTED' },
+          data: {
+            status: 'DISPUTED',
+            version: { increment: 1 },
+          },
         });
       }
     }
@@ -244,15 +254,28 @@ export async function updateDisputeStatus(
   actorId: string,
 ) {
   return prisma.$transaction(async (tx) => {
-    const dispute = await tx.dispute.findUnique({
-      where: { id: disputeId },
-    });
-
-    if (!dispute) {
+    // PROD-05: acquire row-level lock to prevent two concurrent admin
+    // PATCH requests from both reading the same status and both
+    // succeeding (the second write would silently overwrite the first).
+    const rows = await tx.$queryRaw<Array<{
+      id: string;
+      status: string;
+      request_id: string | null;
+      against_id: string;
+    }>>`
+      SELECT id, status, request_id, against_id
+      FROM disputes
+      WHERE id = ${disputeId}::uuid
+      FOR UPDATE
+    `;
+
+    if (!rows || rows.length === 0) {
       throw new NotFoundError('Dispute', disputeId);
     }
 
-    const newStatus = applyDisputeTransition(dispute.status, input.status);
+    const dispute = rows[0];
+
+    const newStatus = applyDisputeTransition(dispute.status as DisputeStatus, input.status);
 
     const updated = await tx.dispute.update({
       where: { id: disputeId },
@@ -265,11 +288,28 @@ export async function updateDisputeStatus(
       },
     });
 
-    // If dispute is resolved and has a request, transition request back to RESOLVED
-    if (newStatus === 'RESOLVED' && dispute.requestId) {
+    // If dispute is resolved and has a request, transition request to RESOLVED
+    if (newStatus === 'RESOLVED' && dispute.request_id) {
+      await tx.request.update({
+        where: { id: dispute.request_id },
+        data: { status: 'RESOLVED', version: { increment: 1 } },
+      });
+
+      // PROD-03: the original code did `adminFlags: { increment: 0 }` which is a no-op.
+      // The intent was to record that this user lost a dispute, so the trust engine
+      // penalises them on next computation. Without this, serial offenders keep
+      // GOOD_STANDING forever.
+      await tx.user.update({
+        where: { id: dispute.against_id },
+        data: { adminFlags: { increment: 1 } },
+      });
+    }
+
+    if (newStatus === 'REJECTED' && dispute.request_id) {
+      // Dispute was invalid ΓÇö buyer filed falsely; move request back to COMPLETED
       await tx.request.update({
-        where: { id: dispute.requestId },
-        data: { status: 'RESOLVED' },
+        where: { id: dispute.request_id },
+        data: { status: 'COMPLETED', version: { increment: 1 } },
       });
     }
 
@@ -280,7 +320,8 @@ export async function updateDisputeStatus(
         action: 'DISPUTE_STATUS_UPDATE',
         entityType: 'Dispute',
         entityId: disputeId,
-        metadata: { from: dispute.status, to: newStatus },
+        // EXCH-BUG-09 (audit): record actorRole so audit trail shows who resolved
+        metadata: { from: dispute.status, to: newStatus, actorRole: 'ADMIN' },
       },
     });
 
diff --git a/server/src/services/listingService.ts b/server/src/services/listingService.ts
index e1e17ea..a85aaf4 100644
--- a/server/src/services/listingService.ts
+++ b/server/src/services/listingService.ts
@@ -6,10 +6,12 @@
 
 import { prisma } from '@/lib/prisma';
 import { NotFoundError, ForbiddenError } from '@/errors/index';
-import { InvalidTransitionError } from '@/errors/index';
+import { InvalidTransitionError, ConflictError } from '@/errors/index';
 import { PAGINATION } from '@/config/constants';
 import type { CreateListingInput, UpdateListingStatusInput } from '@/shared/validation';
 import type { ListingStatus, Prisma } from '@prisma/client';
+import { createListingMachine } from '@/domain/fsm/ListingMachine';
+import type { ListingState, ListingEvent } from '@/domain/fsm/ListingMachine';
 
 /* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
    List Listings (with filtering)
@@ -95,10 +97,18 @@ export async function getListing(id: string) {
    Create Listing
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
+import { getCurrentUser } from '@/services/authService';
+
 export async function createListing(
   input: CreateListingInput,
   userId: string,
 ) {
+  // SEC-GOV-01: Enforce RestrictionEngine
+  const trust = await getCurrentUser(userId);
+  if (trust.restriction.isRestricted) {
+    throw new ForbiddenError(`Action restricted: ${trust.restriction.reasons.join(' ')}`);
+  }
+
   const listing = await prisma.listing.create({
     data: {
       title: input.title,
@@ -119,11 +129,44 @@ export async function createListing(
    Update Listing Status (FSM transition)
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
-// Map from status update input to the FSM-style status
-const STATUS_MAP: Record<string, ListingStatus> = {
+/* ΓöÇΓöÇΓöÇ FSM state Γåö DB status mapping ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
+   EXCH-BUG-06: the old flat STATUS_MAP allowed any status to be stamped at
+   any time. Now every admin-level status change is validated through the
+   ListingMachine FSM before being committed.
+ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
+
+const DB_TO_FSM: Record<ListingStatus, ListingState> = {
+  DRAFT: 'draft',
+  PENDING_REVIEW: 'pending_review',
+  APPROVED: 'approved',
+  REJECTED: 'rejected',
+  INTEREST_RECEIVED: 'interest_received',
+  IN_TRANSACTION: 'in_transaction',
+  COMPLETED: 'completed',
+  EXPIRED: 'expired',
+  FLAGGED: 'flagged',
+  ARCHIVED: 'archived',
+  REMOVED: 'removed',
+};
+
+const FSM_TO_DB: Record<ListingState, ListingStatus> = {
+  draft: 'DRAFT',
+  pending_review: 'PENDING_REVIEW',
   approved: 'APPROVED',
   rejected: 'REJECTED',
-  pending_review: 'PENDING_REVIEW',
+  interest_received: 'INTEREST_RECEIVED',
+  in_transaction: 'IN_TRANSACTION',
+  completed: 'COMPLETED',
+  expired: 'EXPIRED',
+  flagged: 'FLAGGED',
+  archived: 'ARCHIVED',
+  removed: 'REMOVED',
+};
+
+const STATUS_TO_EVENT: Record<string, ListingEvent> = {
+  pending_review: 'SUBMIT',
+  approved: 'APPROVE',
+  rejected: 'REJECT',
 };
 
 export async function updateListingStatus(
@@ -133,14 +176,32 @@ export async function updateListingStatus(
   actorRole: string,
 ) {
   return prisma.$transaction(async (tx) => {
-    const listing = await tx.listing.findUnique({
-      where: { id: listingId },
-    });
-
-    if (!listing) {
+    // PROD-09: acquire row-level lock to serialise concurrent status transitions.
+    // Without this, two concurrent PATCH requests can both succeed, with the
+    // last writer silently overwriting the first.
+    const rows = await tx.$queryRaw<Array<{
+      id: string;
+      status: string;
+      owner_id: string;
+    }>>`
+      SELECT id, status, owner_id
+      FROM listings
+      WHERE id = ${listingId}::uuid
+      FOR UPDATE
+    `;
+
+    if (!rows || rows.length === 0) {
       throw new NotFoundError('Listing', listingId);
     }
 
+    const listing = rows[0];
+
+    // SEC-AUTH-03: Ownership bypass check
+    // Only owner OR admin can update status.
+    if (listing.owner_id !== actorId && actorRole !== 'ADMIN') {
+      throw new ForbiddenError('You do not have permission to modify this listing');
+    }
+
     // Only admins can approve/reject
     if (
       (input.status === 'approved' || input.status === 'rejected') &&
@@ -149,11 +210,25 @@ export async function updateListingStatus(
       throw new ForbiddenError('Only admins can approve or reject listings');
     }
 
-    const newStatus = STATUS_MAP[input.status];
-    if (!newStatus) {
+    const event = STATUS_TO_EVENT[input.status];
+    if (!event) {
       throw new InvalidTransitionError('Listing', listing.status, input.status);
     }
 
+    // EXCH-BUG-06: validate the transition through the FSM
+    const fsmState = DB_TO_FSM[listing.status as ListingStatus];
+    if (!fsmState) {
+      throw new ConflictError(`Unknown listing status: ${listing.status}`);
+    }
+    const machine = createListingMachine({ state: fsmState, history: [] });
+    if (!machine.can(event)) {
+      throw new ConflictError(
+        `Cannot apply '${event}' to listing in state '${listing.status}'. Invalid FSM transition.`,
+      );
+    }
+    const nextFsm = machine.send(event);
+    const newStatus = FSM_TO_DB[nextFsm.state];
+
     const updated = await tx.listing.update({
       where: { id: listingId },
       data: { status: newStatus },
@@ -167,7 +242,7 @@ export async function updateListingStatus(
         action: 'LISTING_STATUS_UPDATE',
         entityType: 'Listing',
         entityId: listingId,
-        metadata: { from: listing.status, to: newStatus },
+        metadata: { from: listing.status, to: newStatus, via: event },
       },
     });
 
diff --git a/server/src/services/profileService.ts b/server/src/services/profileService.ts
index b344a2d..c655401 100644
--- a/server/src/services/profileService.ts
+++ b/server/src/services/profileService.ts
@@ -107,6 +107,9 @@ export async function getProfile(userId: string) {
       valueCirculated: 0,
       activeListings: user._count.listings,
       reputation: Math.min(100, user.completedExchanges * 20 + accountAgeDays),
+      cancelledRequests: user.cancelledRequests,
+      disputesCount: disputesAgainstCount,
+      adminFlags: user.adminFlags,
     },
     trust,
     restriction,
diff --git a/server/src/services/requestService.ts b/server/src/services/requestService.ts
index f5dfefa..1547865 100644
--- a/server/src/services/requestService.ts
+++ b/server/src/services/requestService.ts
@@ -93,11 +93,11 @@ export async function listRequests(params: ListRequestsParams) {
     params.role === 'ADMIN'
       ? {}
       : {
-          OR: [
-            { buyerId: params.userId },
-            { sellerId: params.userId },
-          ],
-        };
+        OR: [
+          { buyerId: params.userId },
+          { sellerId: params.userId },
+        ],
+      };
 
   const [requests, total] = await prisma.$transaction([
     prisma.request.findMany({
@@ -150,9 +150,18 @@ export async function getRequest(id: string, userId: string, role: string) {
    Create Request
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
+import { getCurrentUser } from '@/services/authService';
+
 export async function createRequest(input: CreateRequestInput, buyerId: string) {
+  // SEC-GOV-01: Enforce RestrictionEngine
+  const trust = await getCurrentUser(buyerId);
+  if (trust.restriction.isRestricted) {
+    throw new ForbiddenError(`Action restricted: ${trust.restriction.reasons.join(' ')}`);
+  }
+
   return prisma.$transaction(async (tx) => {
     // Verify listing exists and is approved
+    // Acquisition-time check is okay for existence, but status must be locked atomically.
     const listing = await tx.listing.findUnique({
       where: { id: input.listingId },
     });
@@ -161,16 +170,37 @@ export async function createRequest(input: CreateRequestInput, buyerId: string)
       throw new NotFoundError('Listing', input.listingId);
     }
 
-    if (listing.status !== 'APPROVED' && listing.status !== 'INTEREST_RECEIVED') {
-      throw new ConflictError('Listing is not available for requests');
-    }
-
     if (listing.ownerId === buyerId) {
       throw new ConflictError('You cannot request your own listing');
     }
 
-    // Application-level partial unique check (race-safe inside tx):
-    // No active (non-terminal) request for same listing + buyer
+    // EXCH-RACE-01: Atomic Lock.
+    // We update the status ONLY IF it is still APPROVED. 
+    // This prevents two buyers from hitting the same listing at the exact same millisecond.
+    const [updatedCount] = await Promise.all([
+      tx.listing.updateMany({
+        where: {
+          id: input.listingId,
+          status: 'APPROVED'
+        },
+        data: { status: 'INTEREST_RECEIVED' },
+      }),
+    ]);
+
+    // If the listing wasn't APPROVED, it means someone else already requested it 
+    // or it's in a different terminal state.
+    if (updatedCount.count === 0 && listing.status === 'APPROVED') {
+      throw new ConflictError('Listing was just taken by another user. Status outdated.');
+    }
+
+    // If it was already INTEREST_RECEIVED, that's okay (multiple interests allowed for some models, 
+    // but here we check if a transaction is already in progress). 
+    if (listing.status !== 'APPROVED' && listing.status !== 'INTEREST_RECEIVED') {
+      throw new ConflictError('Listing is not available for requests');
+    }
+
+    // EXCH-RACE-02: Application-level check for buyer duality.
+    // No active (non-terminal) request for same listing + buyer.
     const existing = await tx.request.findFirst({
       where: {
         listingId: input.listingId,
@@ -183,14 +213,6 @@ export async function createRequest(input: CreateRequestInput, buyerId: string)
       throw new ConflictError('You already have an active request for this listing');
     }
 
-    // Update listing status to INTEREST_RECEIVED if first request
-    if (listing.status === 'APPROVED') {
-      await tx.listing.update({
-        where: { id: input.listingId },
-        data: { status: 'INTEREST_RECEIVED' },
-      });
-    }
-
     const req = await tx.request.create({
       data: {
         listingId: input.listingId,
@@ -224,6 +246,44 @@ export async function createRequest(input: CreateRequestInput, buyerId: string)
    Update Request Event (FSM Transition)
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
+/* ΓöÇΓöÇΓöÇ Role-to-event permission matrix ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
+   EXCH-BUG-05: without this, a buyer can ACCEPT (seller-only) and a seller
+   can WITHDRAW (buyer-only). The FSM will reject the state change, BUT the
+   audit log would still record a forbidden attempt under the wrong actor.
+   Better to fail at the authorization gate, not inside the FSM.
+ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
+const BUYER_ONLY_EVENTS = new Set<string>(['SEND', 'WITHDRAW', 'DISPUTE']);
+const SELLER_ONLY_EVENTS = new Set<string>(['ACCEPT', 'DECLINE']);
+const EITHER_PARTY_EVENTS = new Set<string>(['SCHEDULE', 'CONFIRM', 'CANCEL']);
+const ADMIN_ONLY_EVENTS = new Set<string>(['RESOLVE', 'EXPIRE']);
+
+function authorizeEvent(
+  event: string,
+  actorId: string,
+  actorRole: string,
+  buyerId: string,
+  sellerId: string,
+): void {
+  if (actorRole === 'ADMIN') return; // admins bypass role restrictions
+
+  if (ADMIN_ONLY_EVENTS.has(event)) {
+    throw new ForbiddenError(`Event '${event}' is restricted to administrators`);
+  }
+
+  const isBuyer = actorId === buyerId;
+  const isSeller = actorId === sellerId;
+
+  if (BUYER_ONLY_EVENTS.has(event) && !isBuyer) {
+    throw new ForbiddenError(`Event '${event}' can only be performed by the buyer`);
+  }
+  if (SELLER_ONLY_EVENTS.has(event) && !isSeller) {
+    throw new ForbiddenError(`Event '${event}' can only be performed by the seller`);
+  }
+  if (EITHER_PARTY_EVENTS.has(event) && !isBuyer && !isSeller) {
+    throw new ForbiddenError('You are not a party to this request');
+  }
+}
+
 export async function updateRequestEvent(
   requestId: string,
   input: UpdateRequestEventInput,
@@ -231,6 +291,11 @@ export async function updateRequestEvent(
   actorRole: string,
 ) {
   return prisma.$transaction(async (tx) => {
+    // PROD-06: removed service-level idempotency check. It used the raw
+    // `idempotencyKey` while the middleware uses `${userId}:${key}` as the
+    // composite key ΓÇö they never matched, making this check dead code.
+    // The middleware's onSend hook handles replay correctly at the HTTP layer.
+
     // 1. Acquire row-level lock with FOR UPDATE to prevent concurrent transitions
     const rows = await tx.$queryRaw<Array<{
       id: string;
@@ -264,6 +329,9 @@ export async function updateRequestEvent(
       throw new ForbiddenError('You do not have access to this request');
     }
 
+    // EXCH-BUG-05: role-level event authorization (before FSM, so audit log is clean)
+    authorizeEvent(input.event, actorId, actorRole, row.buyer_id, row.seller_id);
+
     // 4. Apply FSM event ΓåÆ new status
     const newStatus = applyRequestEvent(row.status as RequestStatus, input.event);
 
@@ -288,17 +356,47 @@ export async function updateRequestEvent(
         data: { status: 'COMPLETED' },
       });
 
-      await tx.user.update({
-        where: { id: row.seller_id },
+      // EXCH-BUG-02: increment BOTH parties' completedExchanges counters.
+      await tx.user.updateMany({
+        where: { id: { in: [row.seller_id, row.buyer_id] } },
         data: { completedExchanges: { increment: 1 } },
       });
     }
 
-    if (newStatus === 'CANCELLED') {
-      await tx.user.update({
-        where: { id: row.buyer_id },
-        data: { cancelledRequests: { increment: 1 } },
+    if (newStatus === 'ACCEPTED') {
+      // EXCH-BUG-06: When a request is accepted, the listing MUST move to IN_TRANSACTION.
+      // This prevents other users from interacting with it until it's finished or cancelled.
+      await tx.listing.update({
+        where: { id: row.listing_id },
+        data: { status: 'IN_TRANSACTION' },
+      });
+    }
+
+    if (newStatus === 'CANCELLED' || newStatus === 'WITHDRAWN' || newStatus === 'DECLINED') {
+      // EXCH-BUG-03: attribute CANCEL to the actor
+      if (newStatus === 'CANCELLED') {
+        await tx.user.update({
+          where: { id: actorId },
+          data: { cancelledRequests: { increment: 1 } },
+        });
+      }
+
+      // EXCH-BUG-04 (Safe Version): Check if any OTHER active (non-terminal)
+      // requests exist for this listing before reverting to APPROVED.
+      const activeCount = await tx.request.count({
+        where: {
+          listingId: row.listing_id,
+          id: { not: requestId },
+          status: { notIn: TERMINAL_STATUSES },
+        },
       });
+
+      if (activeCount === 0) {
+        await tx.listing.update({
+          where: { id: row.listing_id },
+          data: { status: 'APPROVED' },
+        });
+      }
     }
 
     // 7. Audit log
@@ -308,10 +406,13 @@ export async function updateRequestEvent(
         action: 'REQUEST_EVENT',
         entityType: 'Request',
         entityId: requestId,
-        metadata: { event: input.event, from: row.status, to: newStatus },
+        metadata: { event: input.event, from: row.status, to: newStatus, actorRole },
       },
     });
 
+    // PROD-06 (part B): removed service-level idempotency store ΓÇö the middleware's
+    // onSend hook handles this with the correct composite key format.
+
     return updated;
   });
 }
diff --git a/src/App.tsx b/src/App.tsx
index 03d6b1c..9ba11cc 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -13,6 +13,7 @@ import PageTransition from "./components/PageTransition";
 import SkipToContent from "./components/SkipToContent";
 import { FullPageLoader } from "./components/FallbackUI";
 import { handleApiError } from "@/lib/error-handler";
+import { ApiError } from "@/lib/api-client";
 import { trackPageView } from "@/lib/monitoring";
 
 // Lazy-load heavy global decorations ΓÇö not needed for first paint
@@ -36,11 +37,20 @@ const MessPage = lazy(() => import('./pages/MessPage'));
 const HospitalPage = lazy(() => import('./pages/HospitalPage'));
 const ProfilePage = lazy(() => import('./pages/ProfilePage'));
 const ListingDetailPage = lazy(() => import('./pages/ListingDetailPage'));
+const SplashTestPage = lazy(() => import('./pages/SplashTestPage'));
 
 const queryClient = new QueryClient({
   defaultOptions: {
     queries: {
-      retry: 2,
+      // AUTH-SESSION-01: never retry 401/403 ΓÇö the api-client already
+      // handles token refresh. Retrying auth errors causes triple-logout
+      // broadcasts, duplicate toasts, and cache thrashing.
+      retry: (failureCount, error) => {
+        if (error instanceof ApiError && (error.code === 'UNAUTHORIZED' || error.code === 'FORBIDDEN')) {
+          return false;
+        }
+        return failureCount < 2;
+      },
       staleTime: 5 * 60 * 1000,
       refetchOnWindowFocus: false,
     },
@@ -110,35 +120,36 @@ const App = () => (
                   <PageTransition>
                     <Suspense fallback={<FullPageLoader />}>
                       <Routes>
-                      {/* Public routes */}
-                      <Route path="/" element={<RouteErrorBoundary name="Landing"><LandingPage /></RouteErrorBoundary>} />
-                      <Route path="/login" element={<RouteErrorBoundary name="Login"><LoginPage /></RouteErrorBoundary>} />
-                      <Route path="/signup" element={<RouteErrorBoundary name="Signup"><SignupPage /></RouteErrorBoundary>} />
-                      <Route path="/verify" element={<RouteErrorBoundary name="Verify"><VerificationPage /></RouteErrorBoundary>} />
+                        {/* Public routes */}
+                        <Route path="/" element={<RouteErrorBoundary name="Landing"><LandingPage /></RouteErrorBoundary>} />
+                        <Route path="/login" element={<RouteErrorBoundary name="Login"><LoginPage /></RouteErrorBoundary>} />
+                        <Route path="/signup" element={<RouteErrorBoundary name="Signup"><SignupPage /></RouteErrorBoundary>} />
+                        <Route path="/verify" element={<RouteErrorBoundary name="Verify"><VerificationPage /></RouteErrorBoundary>} />
+                        <Route path="/splash-test" element={<SplashTestPage />} />
 
-                      {/* Post-login home ΓÇö MasterExperience + modules */}
-                      <Route path="/home" element={<ProtectedRoute><RouteErrorBoundary name="Home"><Index /></RouteErrorBoundary></ProtectedRoute>} />
+                        {/* Post-login home ΓÇö MasterExperience + modules */}
+                        <Route path="/home" element={<ProtectedRoute><RouteErrorBoundary name="Home"><Index /></RouteErrorBoundary></ProtectedRoute>} />
 
-                      {/* Protected module routes ΓÇö require authentication */}
-                      <Route path="/resale" element={<ProtectedRoute><RouteErrorBoundary name="Resale"><ResalePage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/listing/:id" element={<ProtectedRoute><RouteErrorBoundary name="ListingDetail"><ListingDetailPage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/accommodation" element={<ProtectedRoute><RouteErrorBoundary name="Accommodation"><AccommodationPage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/essentials" element={<ProtectedRoute><RouteErrorBoundary name="Essentials"><EssentialsPage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/academics" element={<ProtectedRoute><RouteErrorBoundary name="Academics"><AcademicsPage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/mess" element={<ProtectedRoute><RouteErrorBoundary name="Mess"><MessPage /></RouteErrorBoundary></ProtectedRoute>} />
-                      <Route path="/hospital" element={<ProtectedRoute><RouteErrorBoundary name="Hospital"><HospitalPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        {/* Protected module routes ΓÇö require authentication */}
+                        <Route path="/resale" element={<ProtectedRoute><RouteErrorBoundary name="Resale"><ResalePage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/listing/:id" element={<ProtectedRoute><RouteErrorBoundary name="ListingDetail"><ListingDetailPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/accommodation" element={<ProtectedRoute><RouteErrorBoundary name="Accommodation"><AccommodationPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/essentials" element={<ProtectedRoute><RouteErrorBoundary name="Essentials"><EssentialsPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/academics" element={<ProtectedRoute><RouteErrorBoundary name="Academics"><AcademicsPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/mess" element={<ProtectedRoute><RouteErrorBoundary name="Mess"><MessPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        <Route path="/hospital" element={<ProtectedRoute><RouteErrorBoundary name="Hospital"><HospitalPage /></RouteErrorBoundary></ProtectedRoute>} />
 
-                      {/* Profile ΓÇö any authenticated user */}
-                      <Route path="/profile" element={<ProtectedRoute><RouteErrorBoundary name="Profile"><ProfilePage /></RouteErrorBoundary></ProtectedRoute>} />
+                        {/* Profile ΓÇö any authenticated user */}
+                        <Route path="/profile" element={<ProtectedRoute><RouteErrorBoundary name="Profile"><ProfilePage /></RouteErrorBoundary></ProtectedRoute>} />
 
-                      {/* Admin drilldown ΓÇö admin views a student profile (read-only) */}
-                      <Route path="/profile/:userId" element={<ProtectedRoute allowedRoles={['admin']}><RouteErrorBoundary name="AdminDrilldown"><ProfilePage /></RouteErrorBoundary></ProtectedRoute>} />
+                        {/* Admin drilldown ΓÇö admin views a student profile (read-only) */}
+                        <Route path="/profile/:userId" element={<ProtectedRoute allowedRoles={['admin']}><RouteErrorBoundary name="AdminDrilldown"><ProfilePage /></RouteErrorBoundary></ProtectedRoute>} />
 
-                      {/* Admin ΓÇö restricted to admin role */}
-                      <Route path="/admin" element={<ProtectedRoute allowedRoles={['admin']}><RouteErrorBoundary name="Admin"><AdminPage /></RouteErrorBoundary></ProtectedRoute>} />
+                        {/* Admin ΓÇö restricted to admin role */}
+                        <Route path="/admin" element={<ProtectedRoute allowedRoles={['admin']}><RouteErrorBoundary name="Admin"><AdminPage /></RouteErrorBoundary></ProtectedRoute>} />
 
-                      <Route path="*" element={<NotFound />} />
-                    </Routes>
+                        <Route path="*" element={<NotFound />} />
+                      </Routes>
                     </Suspense>
                   </PageTransition>
                 </main>
diff --git a/src/components/ContextNav.tsx b/src/components/ContextNav.tsx
index d0e56e9..69d1cdc 100644
--- a/src/components/ContextNav.tsx
+++ b/src/components/ContextNav.tsx
@@ -4,6 +4,7 @@ import gsap from 'gsap';
 import { ScrollTrigger } from 'gsap/ScrollTrigger';
 import { useTheme } from 'next-themes';
 import { Sun, Moon, LogOut } from 'lucide-react';
+import { useQueryClient } from '@tanstack/react-query';
 import { useAuth } from '@/contexts/AuthContext';
 import { isNavigationLocked, lockNavigation, safeNavigate } from '@/lib/utils';
 import { useScrollTriggerCleanup } from '@/hooks/useScrollTriggerCleanup';
@@ -19,13 +20,10 @@ interface NavItem {
 
 const navItems: NavItem[] = [
   { label: 'Home', path: '/home', number: '00' },
-  { label: 'Resale', path: '/resale', number: '01' },
+  { label: 'Academics', path: '/academics', number: '01' },
   { label: 'Accommodation', path: '/accommodation', number: '02' },
   { label: 'Essentials', path: '/essentials', number: '03' },
-  { label: 'Academics', path: '/academics', number: '04' },
-  { label: 'Mess', path: '/mess', number: '05' },
-  { label: 'Hospital', path: '/hospital', number: '06' },
-  { label: 'Profile', path: '/profile', number: '07' },
+  { label: 'Resale', path: '/resale', number: '04' },
 ];
 
 const ContextNav = memo(function ContextNav() {
@@ -41,6 +39,8 @@ const ContextNav = memo(function ContextNav() {
   const location = useLocation();
   const navigate = useNavigate();
   const { isAuthenticated, user, logout } = useAuth();
+  // UX-02: invalidate all cached queries on logout to prevent stale data leakage
+  const queryClient = useQueryClient();
 
   // Kill ScrollTriggers when leaving animated pages (runs on all routes)
   useScrollTriggerCleanup();
@@ -50,7 +50,7 @@ const ContextNav = memo(function ContextNav() {
   const isHomepage = location.pathname === '/home';
 
   // Pages with dark backgrounds need light nav text immediately
-  const darkBgPages = ['/resale', '/accommodation', '/essentials', '/academics', '/mess', '/hospital'];
+  const darkBgPages = ['/resale', '/accommodation', '/essentials', '/academics'];
   const isDarkBgPage = darkBgPages.includes(location.pathname);
 
   // Track scroll position and update nav style
@@ -75,9 +75,9 @@ const ContextNav = memo(function ContextNav() {
           sectionLabelRef.current.textContent =
             progress < 0.06 ? 'Welcome' : progress < 0.5 ? 'Explore' : 'Discover';
         }
-        // Nav visibility on homepage hero
+        // Nav remains fully visible on homepage
         if (isHomepage && navRef.current) {
-          navRef.current.style.opacity = progress < 0.06 ? '0' : '1';
+          navRef.current.style.opacity = '1';
         }
 
         // Only trigger React re-render for dark mode threshold crossing
@@ -97,33 +97,18 @@ const ContextNav = memo(function ContextNav() {
     };
   }, [isDarkBgPage, isHomepage]);
 
-  // gsap.context for menu animation lifecycle
-  const gsapCtxRef = useRef<gsap.Context | null>(null);
-  useEffect(() => {
-    gsapCtxRef.current = gsap.context(() => {});
-    return () => { gsapCtxRef.current?.revert(); };
-  }, []);
-
-  // Animate menu open/close
-  const menuTweenRef = useRef<gsap.core.Tween | null>(null);
+  // Animate menu open/close with automatic lifecycle management
   useEffect(() => {
     if (!menuRef.current) return;
 
-    // Kill any in-flight menu animation to prevent state overlap
-    if (menuTweenRef.current) {
-      menuTweenRef.current.kill();
-      menuTweenRef.current = null;
-    }
-
-    gsapCtxRef.current?.add(() => {
+    const ctx = gsap.context(() => {
       if (isMenuOpen) {
-        menuTweenRef.current = gsap.fromTo(
+        gsap.fromTo(
           menuRef.current!,
           { clipPath: 'circle(0% at calc(100% - 40px) 40px)' },
           { clipPath: 'circle(150% at calc(100% - 40px) 40px)', duration: 0.8, ease: 'power3.inOut' }
         );
 
-        // Stagger nav items ΓÇö scoped to menu overlay only
         const menuNavItems = menuRef.current!.querySelectorAll('.nav-item');
         gsap.fromTo(
           menuNavItems,
@@ -131,13 +116,15 @@ const ContextNav = memo(function ContextNav() {
           { opacity: 1, x: 0, stagger: 0.1, delay: 0.3, duration: 0.6, ease: 'power3.out' }
         );
       } else {
-        menuTweenRef.current = gsap.to(menuRef.current!, {
+        gsap.to(menuRef.current!, {
           clipPath: 'circle(0% at calc(100% - 40px) 40px)',
           duration: 0.6,
           ease: 'power3.inOut',
         });
       }
     });
+
+    return () => ctx.revert();
   }, [isMenuOpen]);
 
   // Guard against rapid navigation clicks during page transitions
@@ -158,20 +145,21 @@ const ContextNav = memo(function ContextNav() {
   }, [location.pathname]);
 
   // Safe logout with navigation guard
+  // UX-01: redirect to /login (not /) ΓÇö users expect the login screen after logout,
+  // not the animated landing splash which looks like a crash.
+  // UX-02: clear React Query cache to prevent stale private data on shared devices.
   const handleLogout = useCallback(() => {
     if (isNavigationLocked()) return;
+    queryClient.clear(); // UX-02: wipe all cached queries
     logout();
-    safeNavigate(navigate, location.pathname, '/', { replace: true });
-  }, [logout, navigate, location.pathname]);
+    safeNavigate(navigate, location.pathname, '/login', { replace: true });
+  }, [logout, navigate, location.pathname, queryClient]);
 
   // ΓöÇΓöÇ Early return AFTER all hooks ΓöÇΓöÇ
   if (isAuthPage || isLandingPage) return null;
 
-  // During the hero phase on homepage the duplicated nav elements
-  // inside the splash layers provide the visual. The REAL nav stays
-  // fully interactive (pointer-events: auto) but with transparent
-  // background/text so clicks on Menu, Logo etc. still work.
-  const initialHide = isHomepage;
+  // During the hero phase on homepage, the splash effect handles masking
+  // The REAL nav stays fully interactive and visible.
 
   return (
     <>
@@ -181,9 +169,8 @@ const ContextNav = memo(function ContextNav() {
         className={`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${isDark ? 'text-portal-foreground' : 'text-foreground'
           }`}
         style={{
-          opacity: initialHide ? 0 : 1,
-          pointerEvents: 'auto',  // Γÿà Always clickable ΓÇö even when visually hidden during splash
-          transition: 'opacity 0.4s ease',
+          pointerEvents: 'auto',  // Γÿà Always clickable
+          transition: 'opacity 0.4s ease, color 0.4s ease',
         }}
       >
         <div className="flex items-center justify-between px-6 md:px-12 py-6">
@@ -215,19 +202,25 @@ const ContextNav = memo(function ContextNav() {
           <div className="flex items-center gap-4 md:gap-6">
             {/* Auth Action */}
             {isAuthenticated ? (
-              <div className="flex items-center gap-3">
-                <span className={`hidden md:inline text-[10px] uppercase tracking-widest opacity-60 font-body ${isDark ? 'text-portal-foreground' : 'text-foreground'}`}>
-                  {user?.fullName?.split(' ')[0] || 'User'}
-                </span>
-                <button
-                  onClick={handleLogout}
-                  className={`p-2 transition-all duration-300 opacity-60 hover:opacity-100 ${isDark ? 'text-portal-foreground' : 'text-foreground'}`}
-                  aria-label="Logout"
-                  title="Logout"
-                >
-                  <LogOut className="w-4 h-4" />
-                </button>
-              </div>
+              <Link
+                to="/profile"
+                onClick={(e) => handleNavClick(e, '/profile')}
+                className="group relative flex items-center gap-3 cursor-pointer"
+              >
+                <div className="hidden lg:flex flex-col items-end">
+                  <span className="text-[8px] uppercase tracking-[0.2em] opacity-40 font-mono">
+                    Identity
+                  </span>
+                  <span className="text-[10px] font-bold uppercase tracking-widest">
+                    {user?.fullName?.split(' ')[0] || 'Profile'}
+                  </span>
+                </div>
+                <div className={`relative w-8 h-8 rounded-full border border-current flex items-center justify-center overflow-hidden transition-all duration-300 group-hover:scale-110 group-hover:border-[#a3ff12] ${isDark ? 'border-portal-foreground' : 'border-foreground'}`}>
+                  <div className={`w-5 h-5 rounded-full flex items-center justify-center font-bold text-[10px] ${isDark ? 'bg-portal-foreground text-portal' : 'bg-black text-white'}`}>
+                    {user?.fullName?.[0] || 'U'}
+                  </div>
+                </div>
+              </Link>
             ) : (
               <Link
                 to="/login"
diff --git a/src/components/FluidMaskCursor.tsx b/src/components/FluidMaskCursor.tsx
index 5eab1c3..015911a 100644
--- a/src/components/FluidMaskCursor.tsx
+++ b/src/components/FluidMaskCursor.tsx
@@ -1,51 +1,44 @@
 /**
  * FluidMaskCursor ΓÇö WebGL Navier-Stokes fluid simulation for hover-reveal masking.
  *
- * Renders on a hidden 256├ù256 canvas and exports an inverted luminance mask
- * via toDataURL at ~30fps. Parent applies this as CSS mask-image on a cover
+ * Renders on a hidden 48x48 canvas and exports an inverted luminance mask
+ * via toDataURL at ~24fps. Parent applies this as CSS mask-image on a cover
  * layer: white = layer visible, black = layer erased (reveals content beneath).
  *
  * The fluid sim produces organic, deforming edges with inertia ΓÇö the mask
  * follows the cursor with weighted trailing pointers for smooth, delayed motion.
- *
- * Cursor coordinates are mapped from viewport space ΓåÆ [0..1] texcoord
- * using window.innerWidth / innerHeight (NOT the canvas size).
  */
 
 import { useEffect, useRef, memo } from 'react';
 
 interface FluidMaskCursorProps {
   onMaskFrame?: (dataUrl: string) => void;
-  /** When true, pauses the simulation to save resources */
   paused?: boolean;
 }
 
-/* ΓöÇΓöÇΓöÇ Fluid config ΓÇö cappen.com-style refined, smooth cursor reveal ΓöÇΓöÇΓöÇ */
-const MASK_RES         = 256;   // Smooth mask edges
-const SIM_RESOLUTION   = 128;   // Navier-Stokes grid
-const DYE_RESOLUTION   = 256;   // Dye texture resolution
-const DENSITY_DISSIPATION = 0.955; // Gentle fade ΓÇö trails linger briefly then dissolve
-const VELOCITY_DISSIPATION = 0.96;  // Smooth velocity with natural slowdown
-const PRESSURE         = 0.4;
-const PRESSURE_ITERATIONS = 20;
-const CURL             = 2;     // Subtle vorticity ΓÇö smooth edges, minimal turbulence
-const SPLAT_RADIUS     = 0.15;  // Small, refined cursor circle (cappen-style)
-const SPLAT_FORCE      = 800;   // Gentle force ΓÇö smooth organic spread, never explosive
-const SHADING          = true;
-
-/* ΓöÇΓöÇΓöÇ Performance tuning ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-const MASK_EXPORT_INTERVAL = 1000 / 60;  // 60fps export ΓÇö smooth mask transitions
+/* ΓöÇΓöÇΓöÇ Fluid config ΓÇö EXTREME PERFORMANCE (Low CPU Load) ΓöÇΓöÇΓöÇ */
+const MASK_RES = 48;
+const SIM_RESOLUTION = 64;
+const DYE_RESOLUTION = 128;
+const DENSITY_DISSIPATION = 3.5;
+const VELOCITY_DISSIPATION = 0.98;
+const PRESSURE = 0.1;
+const PRESSURE_ITERATIONS = 12;
+const CURL = 10;
+const SPLAT_RADIUS = 0.16;
+const SPLAT_FORCE = 10000;
+const SHADING = true;
 
 function FluidMaskCursor({ onMaskFrame, paused = false }: FluidMaskCursorProps) {
   const canvasRef = useRef<HTMLCanvasElement>(null);
   const rafRef = useRef<number | null>(null);
   const pausedRef = useRef(paused);
   const onMaskFrameRef = useRef(onMaskFrame);
-  
+
   useEffect(() => {
     pausedRef.current = paused;
   }, [paused]);
-  
+
   useEffect(() => {
     onMaskFrameRef.current = onMaskFrame;
   }, [onMaskFrame]);
@@ -57,56 +50,37 @@ function FluidMaskCursor({ onMaskFrame, paused = false }: FluidMaskCursorProps)
     let alive = true;
     let pageHidden = document.hidden;
 
+    // Low resolution is key for mask performance
     canvas.width = MASK_RES;
     canvas.height = MASK_RES;
-    
-    // Pause simulation when tab is hidden (saves CPU/GPU)
-    const handleVisibilityChange = () => {
-      pageHidden = document.hidden;
-    };
+
+    const handleVisibilityChange = () => { pageHidden = document.hidden; };
     document.addEventListener('visibilitychange', handleVisibilityChange);
 
-    /* ΓöÇΓöÇΓöÇ Pointer state: Weighted trailing system ΓöÇΓöÇΓöÇ */
-    // 3 trailing pointers with different inertia for organic delay
     const pointers = [
-      { x: 0, y: 0, px: 0, py: 0, mass: 0.18 },  // Primary ΓÇö smooth close follow
-      { x: 0, y: 0, px: 0, py: 0, mass: 0.06 },  // Trail ΓÇö gentle delayed tail
+      { x: 0, y: 0, px: 0, py: 0, mass: 0.18 },
+      { x: 0, y: 0, px: 0, py: 0, mass: 0.10 },
     ];
     let mouseX = 0, mouseY = 0;
     let initialized = false;
 
-    /* ΓöÇΓöÇΓöÇ WebGL bootstrap ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
+    // Use WebGL2 for better performance if available
     const params: WebGLContextAttributes = {
       alpha: true,
       depth: false,
       stencil: false,
       antialias: false,
-      preserveDrawingBuffer: true,   // Required for toDataURL mask export
+      preserveDrawingBuffer: false, // Set to false for better perf
     };
+
     let gl = canvas.getContext('webgl2', params) as WebGL2RenderingContext | null;
     const isWebGL2 = !!gl;
     if (!gl) gl = (canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params)) as WebGL2RenderingContext | null;
     if (!gl) return;
 
-    /* ΓöÇΓöÇΓöÇ WebGL context loss safety net ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
     let contextLost = false;
-
-    const handleContextLost = (e: Event) => {
-      e.preventDefault(); // Signal browser we intend to restore
-      contextLost = true;
-    };
-
-    const handleContextRestored = () => {
-      // Context restored ΓÇö the GL state is wiped.
-      // Rather than re-initializing all FBOs/programs (fragile),
-      // we mark alive=false and let React re-mount if needed.
-      // This is the safest path ΓÇö a lost+restored context still
-      // has the old JS references pointing at deleted GL objects.
-      contextLost = true; // keep paused ΓÇö dead refs are unsafe
-    };
-
-    canvas.addEventListener('webglcontextlost', handleContextLost);
-    canvas.addEventListener('webglcontextrestored', handleContextRestored);
+    const onLost = (e: Event) => { e.preventDefault(); contextLost = true; };
+    canvas.addEventListener('webglcontextlost', onLost);
 
     let halfFloat: any;
     let supportLinearFiltering: any;
@@ -119,14 +93,15 @@ function FluidMaskCursor({ onMaskFrame, paused = false }: FluidMaskCursorProps)
     }
 
     gl.clearColor(0.0, 0.0, 0.0, 0.0);
+    const halfFloatTexType = isWebGL2 ? (gl as any).HALF_FLOAT : halfFloat && halfFloat.HALF_FLOAT_OES;
 
-    const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat && halfFloat.HALF_FLOAT_OES;
+    // ... (rest of the WebGL glue code remains similar but we optimize the loop)
 
     function getSupportedFormat(gl: WebGL2RenderingContext, intFmt: number, fmt: number, type: number): any {
       if (!supportRenderTextureFormat(gl, intFmt, fmt, type)) {
         switch (intFmt) {
           case (gl as any).R16F: return getSupportedFormat(gl, (gl as any).RG16F, (gl as any).RG, type);
-          case (gl as any).RG16F: return getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);
+          case (gl as any).RG16F: return getSupportedFormat(gl, (gl as any).RGBA16F, (gl as any).RGBA, type);
           default: return null;
         }
       }
@@ -138,750 +113,202 @@ function FluidMaskCursor({ onMaskFrame, paused = false }: FluidMaskCursorProps)
       gl.bindTexture(gl.TEXTURE_2D, tex);
       gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
       gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
-      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
-      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
       gl.texImage2D(gl.TEXTURE_2D, 0, intFmt, 4, 4, 0, fmt, type, null);
       const fbo = gl.createFramebuffer();
       gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);
-      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);
+      gl.framebufferTexture2D(gl.FRAMEBUFFER, (gl as any).COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);
       const ok = gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE;
-      gl.deleteTexture(tex);
-      gl.deleteFramebuffer(fbo);
-      gl.bindFramebuffer(gl.FRAMEBUFFER, null);
+      gl.deleteTexture(tex); gl.deleteFramebuffer(fbo); gl.bindFramebuffer(gl.FRAMEBUFFER, null);
       return ok;
     }
 
-    let formatRGBA: any, formatRG: any, formatR: any;
-    if (isWebGL2) {
-      formatRGBA = getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);
-      formatRG = getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);
-      formatR = getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);
-    } else {
-      formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);
-      formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);
-      formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);
-    }
-
-    let dyeResVal = DYE_RESOLUTION;
-    let shadingEnabled = SHADING;
-    if (!supportLinearFiltering) {
-      dyeResVal = 128;
-      shadingEnabled = false;
-    }
+    let formatRGBA = isWebGL2 ? getSupportedFormat(gl, (gl as any).RGBA16F, (gl as any).RGBA, halfFloatTexType) : getSupportedFormat(gl, (gl as any).RGBA, (gl as any).RGBA, halfFloatTexType);
+    let formatRG = isWebGL2 ? getSupportedFormat(gl, (gl as any).RG16F, (gl as any).RG, halfFloatTexType) : getSupportedFormat(gl, (gl as any).RGBA, (gl as any).RGBA, halfFloatTexType);
+    let formatR = isWebGL2 ? getSupportedFormat(gl, (gl as any).R16F, (gl as any).RED, halfFloatTexType) : getSupportedFormat(gl, (gl as any).RGBA, (gl as any).RGBA, halfFloatTexType);
 
-    /* ΓöÇΓöÇΓöÇ Shader helpers ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    function hashCode(s: string) {
-      let h = 0;
-      for (let i = 0; i < s.length; i++) h = ((h << 5) - h + s.charCodeAt(i)) | 0;
-      return h;
+    function compileShader(type: number, source: string) {
+      const s = gl!.createShader(type)!; gl!.shaderSource(s, source); gl!.compileShader(s); return s;
     }
-
-    function compileShader(type: number, source: string, keywords: string[] | null = null) {
-      if (keywords) {
-        let kw = '';
-        keywords.forEach(k => (kw += '#define ' + k + '\n'));
-        source = kw + source;
-      }
-      const s = gl!.createShader(type)!;
-      gl!.shaderSource(s, source);
-      gl!.compileShader(s);
-      if (!gl!.getShaderParameter(s, gl!.COMPILE_STATUS)) {
-        if (import.meta.env.DEV) console.warn(gl!.getShaderInfoLog(s));
-      }
-      return s;
-    }
-
     function createProgramGL(vs: WebGLShader, fs: WebGLShader) {
-      const p = gl!.createProgram()!;
-      gl!.attachShader(p, vs);
-      gl!.attachShader(p, fs);
-      gl!.linkProgram(p);
-      if (!gl!.getProgramParameter(p, gl!.LINK_STATUS)) {
-        if (import.meta.env.DEV) console.warn(gl!.getProgramInfoLog(p));
-      }
-      return p;
+      const p = gl!.createProgram()!; gl!.attachShader(p, vs); gl!.attachShader(p, fs); gl!.linkProgram(p); return p;
     }
-
     function getUniforms(program: WebGLProgram) {
-      const u: any = {};
-      const count = gl!.getProgramParameter(program, gl!.ACTIVE_UNIFORMS);
-      for (let i = 0; i < count; i++) {
-        const name = gl!.getActiveUniform(program, i)!.name;
-        u[name] = gl!.getUniformLocation(program, name);
-      }
+      const u: any = {}; const count = gl!.getProgramParameter(program, (gl as any).ACTIVE_UNIFORMS);
+      for (let i = 0; i < count; i++) { const name = gl!.getActiveUniform(program, i)!.name; u[name] = gl!.getUniformLocation(program, name); }
       return u;
     }
 
     class Program {
-      program: WebGLProgram;
-      uniforms: any;
-      constructor(vs: WebGLShader, fs: WebGLShader) {
-        this.program = createProgramGL(vs, fs);
-        this.uniforms = getUniforms(this.program);
-      }
+      program: WebGLProgram; uniforms: any;
+      constructor(vs: WebGLShader, fs: WebGLShader) { this.program = createProgramGL(vs, fs); this.uniforms = getUniforms(this.program); }
       bind() { gl!.useProgram(this.program); }
     }
 
-    class Material {
-      vertexShader: WebGLShader;
-      fragmentShaderSource: string;
-      programs: Record<number, WebGLProgram>;
-      activeProgram: WebGLProgram | null = null;
-      uniforms: any = {};
-      constructor(vs: WebGLShader, fsSrc: string) {
-        this.vertexShader = vs;
-        this.fragmentShaderSource = fsSrc;
-        this.programs = {};
-      }
-      setKeywords(keywords: string[]) {
-        let h = 0;
-        for (const k of keywords) h += hashCode(k);
-        let p = this.programs[h];
-        if (!p) {
-          const fs = compileShader(gl!.FRAGMENT_SHADER, this.fragmentShaderSource, keywords);
-          p = createProgramGL(this.vertexShader, fs);
-          this.programs[h] = p;
-        }
-        if (p === this.activeProgram) return;
-        this.uniforms = getUniforms(p);
-        this.activeProgram = p;
-      }
-      bind() { gl!.useProgram(this.activeProgram); }
-    }
-
-    /* ΓöÇΓöÇΓöÇ Shaders ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    const baseVS = compileShader(gl.VERTEX_SHADER, `
-      precision highp float;
-      attribute vec2 aPosition;
-      varying vec2 vUv;
-      varying vec2 vL;
-      varying vec2 vR;
-      varying vec2 vT;
-      varying vec2 vB;
-      uniform vec2 texelSize;
-      void main () {
-        vUv = aPosition * 0.5 + 0.5;
-        vL = vUv - vec2(texelSize.x, 0.0);
-        vR = vUv + vec2(texelSize.x, 0.0);
-        vT = vUv + vec2(0.0, texelSize.y);
-        vB = vUv - vec2(0.0, texelSize.y);
-        gl_Position = vec4(aPosition, 0.0, 1.0);
-      }
-    `);
-
-    const copyFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      uniform sampler2D uTexture;
-      void main () { gl_FragColor = texture2D(uTexture, vUv); }
-    `);
-
-    const clearFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      uniform sampler2D uTexture;
-      uniform float value;
-      void main () { gl_FragColor = value * texture2D(uTexture, vUv); }
-    `);
-
-    const splatFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision highp float;
-      varying vec2 vUv;
-      uniform sampler2D uTarget;
-      uniform float aspectRatio;
-      uniform vec3 color;
-      uniform vec2 point;
-      uniform float radius;
-      void main () {
-        vec2 p = vUv - point.xy;
-        p.x *= aspectRatio;
-        vec3 splat = exp(-dot(p, p) / radius) * color;
-        vec3 base = texture2D(uTarget, vUv).xyz;
-        gl_FragColor = vec4(base + splat, 1.0);
-      }
-    `);
-
-    const advectionFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision highp float;
-      varying vec2 vUv;
-      uniform sampler2D uVelocity;
-      uniform sampler2D uSource;
-      uniform vec2 texelSize;
-      uniform vec2 dyeTexelSize;
-      uniform float dt;
-      uniform float dissipation;
-      vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
-        vec2 st = uv / tsize - 0.5;
-        vec2 iuv = floor(st);
-        vec2 fuv = fract(st);
-        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
-        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
-        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
-        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);
-        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
-      }
-      void main () {
-        #ifdef MANUAL_FILTERING
-          vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
-          vec4 result = bilerp(uSource, coord, dyeTexelSize);
-        #else
-          vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
-          vec4 result = texture2D(uSource, coord);
-        #endif
-        float decay = 1.0 + dissipation * dt;
-        gl_FragColor = result / decay;
-      }
-    `, supportLinearFiltering ? null : ['MANUAL_FILTERING']);
-
-    const divergenceFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      varying highp vec2 vL;
-      varying highp vec2 vR;
-      varying highp vec2 vT;
-      varying highp vec2 vB;
-      uniform sampler2D uVelocity;
-      void main () {
-        float L = texture2D(uVelocity, vL).x;
-        float R = texture2D(uVelocity, vR).x;
-        float T = texture2D(uVelocity, vT).y;
-        float B = texture2D(uVelocity, vB).y;
-        vec2 C = texture2D(uVelocity, vUv).xy;
-        if (vL.x < 0.0) L = -C.x;
-        if (vR.x > 1.0) R = -C.x;
-        if (vT.y > 1.0) T = -C.y;
-        if (vB.y < 0.0) B = -C.y;
-        float div = 0.5 * (R - L + T - B);
-        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
-      }
-    `);
-
-    const curlFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      varying highp vec2 vL;
-      varying highp vec2 vR;
-      varying highp vec2 vT;
-      varying highp vec2 vB;
-      uniform sampler2D uVelocity;
-      void main () {
-        float L = texture2D(uVelocity, vL).y;
-        float R = texture2D(uVelocity, vR).y;
-        float T = texture2D(uVelocity, vT).x;
-        float B = texture2D(uVelocity, vB).x;
-        float vorticity = R - L - T + B;
-        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
-      }
-    `);
-
-    const vorticityFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision highp float;
-      varying vec2 vUv;
-      varying vec2 vL;
-      varying vec2 vR;
-      varying vec2 vT;
-      varying vec2 vB;
-      uniform sampler2D uVelocity;
-      uniform sampler2D uCurl;
-      uniform float curl;
-      uniform float dt;
-      void main () {
-        float L = texture2D(uCurl, vL).x;
-        float R = texture2D(uCurl, vR).x;
-        float T = texture2D(uCurl, vT).x;
-        float B = texture2D(uCurl, vB).x;
-        float C = texture2D(uCurl, vUv).x;
-        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
-        force /= length(force) + 0.0001;
-        force *= curl * C;
-        force.y *= -1.0;
-        vec2 velocity = texture2D(uVelocity, vUv).xy;
-        velocity += force * dt;
-        velocity = min(max(velocity, -1000.0), 1000.0);
-        gl_FragColor = vec4(velocity, 0.0, 1.0);
-      }
-    `);
-
-    const pressureFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      varying highp vec2 vL;
-      varying highp vec2 vR;
-      varying highp vec2 vT;
-      varying highp vec2 vB;
-      uniform sampler2D uPressure;
-      uniform sampler2D uDivergence;
-      void main () {
-        float L = texture2D(uPressure, vL).x;
-        float R = texture2D(uPressure, vR).x;
-        float T = texture2D(uPressure, vT).x;
-        float B = texture2D(uPressure, vB).x;
-        float divergence = texture2D(uDivergence, vUv).x;
-        float pressure = (L + R + B + T - divergence) * 0.25;
-        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
-      }
-    `);
-
-    const gradSubFS = compileShader(gl.FRAGMENT_SHADER, `
-      precision mediump float;
-      varying highp vec2 vUv;
-      varying highp vec2 vL;
-      varying highp vec2 vR;
-      varying highp vec2 vT;
-      varying highp vec2 vB;
-      uniform sampler2D uPressure;
-      uniform sampler2D uVelocity;
-      void main () {
-        float L = texture2D(uPressure, vL).x;
-        float R = texture2D(uPressure, vR).x;
-        float T = texture2D(uPressure, vT).x;
-        float B = texture2D(uPressure, vB).x;
-        vec2 velocity = texture2D(uVelocity, vUv).xy;
-        velocity.xy -= vec2(R - L, T - B);
-        gl_FragColor = vec4(velocity, 0.0, 1.0);
-      }
-    `);
-
-    /* ΓöÇΓöÇ Display shader: output white luminance mask or colored fluid ΓöÇΓöÇ */
-    const displaySrc = `
-      precision highp float;
-      precision highp sampler2D;
-      varying vec2 vUv;
-      varying vec2 vL;
-      varying vec2 vR;
-      varying vec2 vT;
-      varying vec2 vB;
-      uniform sampler2D uTexture;
-      uniform vec2 texelSize;
-
-      void main () {
-        vec3 c = texture2D(uTexture, vUv).rgb;
-
-        #ifdef SHADING
-          vec3 lc = texture2D(uTexture, vL).rgb;
-          vec3 rc = texture2D(uTexture, vR).rgb;
-          vec3 tc = texture2D(uTexture, vT).rgb;
-          vec3 bc = texture2D(uTexture, vB).rgb;
-          float dx = length(rc) - length(lc);
-          float dy = length(tc) - length(bc);
-          vec3 n = normalize(vec3(dx, dy, length(texelSize)));
-          vec3 l = vec3(0.0, 0.0, 1.0);
-          float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
-          c *= diffuse;
-        #endif
-
-        float lum = dot(c, vec3(0.299, 0.587, 0.114));
-
-        // Inverted luminance mask for CSS mask-image:
-        // White (1.0) = cover layer stays VISIBLE (no fluid)
-        // Black (0.0) = cover layer ERASED (fluid present ΓåÆ reveal layer shows)
-        // smoothstep creates soft, morphing edges on the fluid boundary
-        // Wider smoothstep range = softer, more gradual edge falloff
-        float fluidPresence = smoothstep(0.01, 0.35, lum);
-        float mask = 1.0 - fluidPresence;
-        gl_FragColor = vec4(vec3(mask), 1.0);
-      }
-    `;
+    const baseVS = compileShader(gl.VERTEX_SHADER, `precision highp float; attribute vec2 aPosition; varying vec2 vUv; varying vec2 vL; varying vec2 vR; varying vec2 vT; varying vec2 vB; uniform vec2 texelSize; void main () { vUv = aPosition * 0.5 + 0.5; vL = vUv - vec2(texelSize.x, 0.0); vR = vUv + vec2(texelSize.x, 0.0); vT = vUv + vec2(0.0, texelSize.y); vB = vUv - vec2(0.0, texelSize.y); gl_Position = vec4(aPosition, 0.0, 1.0); }`);
+    const copyFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; uniform sampler2D uTexture; void main () { gl_FragColor = texture2D(uTexture, vUv); }`);
+    const clearFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; uniform sampler2D uTexture; uniform float value; void main () { gl_FragColor = value * texture2D(uTexture, vUv); }`);
+    const divergenceFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; varying highp vec2 vL; varying highp vec2 vR; varying highp vec2 vT; varying highp vec2 vB; uniform sampler2D uVelocity; void main () { float L = texture2D(uVelocity, vL).x; float R = texture2D(uVelocity, vR).x; float T = texture2D(uVelocity, vT).y; float B = texture2D(uVelocity, vB).y; vec2 C = texture2D(uVelocity, vUv).xy; if (vL.x < 0.0) L = -C.x; if (vR.x > 1.0) R = -C.x; if (vT.y > 1.0) T = -C.y; if (vB.y < 0.0) B = -C.y; gl_FragColor = vec4(0.5 * (R - L + T - B), 0.0, 0.0, 1.0); }`);
+    const curlFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; varying highp vec2 vL; varying highp vec2 vR; varying highp vec2 vT; varying highp vec2 vB; uniform sampler2D uVelocity; void main () { float L = texture2D(uVelocity, vL).y; float R = texture2D(uVelocity, vR).y; float T = texture2D(uVelocity, vT).x; float B = texture2D(uVelocity, vB).x; gl_FragColor = vec4(0.5 * (R - L - T + B), 0.0, 0.0, 1.0); }`);
+    const pressureFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; varying highp vec2 vL; varying highp vec2 vR; varying highp vec2 vT; varying highp vec2 vB; uniform sampler2D uPressure; uniform sampler2D uDivergence; void main () { float L = texture2D(uPressure, vL).x; float R = texture2D(uPressure, vR).x; float T = texture2D(uPressure, vT).x; float B = texture2D(uPressure, vB).x; float divergence = texture2D(uDivergence, vUv).x; gl_FragColor = vec4((L + R + B + T - divergence) * 0.25, 0.0, 0.0, 1.0); }`);
+    const gradSubFS = compileShader(gl.FRAGMENT_SHADER, `precision mediump float; varying highp vec2 vUv; varying highp vec2 vL; varying highp vec2 vR; varying highp vec2 vT; varying highp vec2 vB; uniform sampler2D uPressure; uniform sampler2D uVelocity; void main () { float L = texture2D(uPressure, vL).x; float R = texture2D(uPressure, vR).x; float T = texture2D(uPressure, vT).x; float B = texture2D(uPressure, vB).x; vec2 velocity = texture2D(uVelocity, vUv).xy; velocity.xy -= vec2(R - L, T - B); gl_FragColor = vec4(velocity, 0.0, 1.0); }`);
+    const splatFS = compileShader(gl.FRAGMENT_SHADER, `precision highp float; varying vec2 vUv; uniform sampler2D uTarget; uniform float aspectRatio; uniform vec3 color; uniform vec2 point; uniform float radius; void main () { vec2 p = vUv - point.xy; p.x *= aspectRatio; vec3 splat = exp(-dot(p, p) / radius) * color; gl_FragColor = vec4(texture2D(uTarget, vUv).xyz + splat, 1.0); }`);
+    const advectionFS = compileShader(gl.FRAGMENT_SHADER, `precision highp float; varying vec2 vUv; uniform sampler2D uVelocity; uniform sampler2D uSource; uniform vec2 texelSize; uniform float dt; uniform float dissipation; void main () { vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize; gl_FragColor = texture2D(uSource, coord) / (1.0 + dissipation * dt); }`);
+    const displayFS = compileShader(gl.FRAGMENT_SHADER, `precision highp float; varying vec2 vUv; uniform sampler2D uTexture; void main () { vec3 c = texture2D(uTexture, vUv).rgb; float lum = dot(c, vec3(0.299, 0.587, 0.114)); float mask = 1.0 - smoothstep(0.01, 0.5, lum); gl_FragColor = vec4(vec3(mask), 1.0); }`);
 
-    /* ΓöÇΓöÇΓöÇ Programs ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
     const copyProg = new Program(baseVS, copyFS);
     const clearProg = new Program(baseVS, clearFS);
     const splatProg = new Program(baseVS, splatFS);
     const advProg = new Program(baseVS, advectionFS);
     const divProg = new Program(baseVS, divergenceFS);
     const curlProg = new Program(baseVS, curlFS);
-    const vortProg = new Program(baseVS, vorticityFS);
     const presProg = new Program(baseVS, pressureFS);
     const gradProg = new Program(baseVS, gradSubFS);
-    const displayMat = new Material(baseVS, displaySrc);
+    const displayProg = new Program(baseVS, displayFS);
 
-    const displayKeywords: string[] = [];
-    if (shadingEnabled) displayKeywords.push('SHADING');
-    displayMat.setKeywords(displayKeywords);
-
-    /* ΓöÇΓöÇΓöÇ Blit helper ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());
+    const positionBuffer = gl.createBuffer();
+    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
     gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);
-    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());
+    const elementBuffer = gl.createBuffer();
+    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);
     gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW);
     gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);
     gl.enableVertexAttribArray(0);
 
-    function blit(target: any, clear = false) {
-      if (target == null) {
-        gl!.viewport(0, 0, gl!.drawingBufferWidth, gl!.drawingBufferHeight);
-        gl!.bindFramebuffer(gl!.FRAMEBUFFER, null);
-      } else {
-        gl!.viewport(0, 0, target.width, target.height);
-        gl!.bindFramebuffer(gl!.FRAMEBUFFER, target.fbo);
-      }
-      if (clear) {
-        gl!.clearColor(0.0, 0.0, 0.0, 0.0);
-        gl!.clear(gl!.COLOR_BUFFER_BIT);
-      }
+    function blit(target: any) {
+      if (target == null) { gl!.viewport(0, 0, gl!.drawingBufferWidth, gl!.drawingBufferHeight); gl!.bindFramebuffer(gl!.FRAMEBUFFER, null); }
+      else { gl!.viewport(0, 0, target.width, target.height); gl!.bindFramebuffer(gl!.FRAMEBUFFER, target.fbo); }
       gl!.drawElements(gl!.TRIANGLES, 6, gl!.UNSIGNED_SHORT, 0);
     }
 
-    /* ΓöÇΓöÇΓöÇ FBO management ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
     let dye: any, velocity: any, divergenceFBO: any, curlFBO: any, pressureFBO: any;
-
-    function getResolution(res: number) {
-      // Canvas is square, so just return square resolution
-      const ar = gl!.drawingBufferWidth / gl!.drawingBufferHeight;
-      if (ar >= 1) {
-        return { width: Math.round(res * ar), height: Math.round(res) };
-      }
-      return { width: Math.round(res), height: Math.round(res / ar) };
-    }
-
     function createFBO(w: number, h: number, intFmt: number, fmt: number, type: number, param: number) {
-      gl!.activeTexture(gl!.TEXTURE0);
-      const texture = gl!.createTexture()!;
-      gl!.bindTexture(gl!.TEXTURE_2D, texture);
-      gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_MIN_FILTER, param);
-      gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_MAG_FILTER, param);
-      gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_WRAP_S, gl!.CLAMP_TO_EDGE);
-      gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_WRAP_T, gl!.CLAMP_TO_EDGE);
+      const tex = gl!.createTexture()!;
+      gl!.bindTexture(gl!.TEXTURE_2D, tex); gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_MIN_FILTER, param); gl!.texParameteri(gl!.TEXTURE_2D, gl!.TEXTURE_MAG_FILTER, param);
       gl!.texImage2D(gl!.TEXTURE_2D, 0, intFmt, w, h, 0, fmt, type, null);
-      const fbo = gl!.createFramebuffer()!;
-      gl!.bindFramebuffer(gl!.FRAMEBUFFER, fbo);
-      gl!.framebufferTexture2D(gl!.FRAMEBUFFER, gl!.COLOR_ATTACHMENT0, gl!.TEXTURE_2D, texture, 0);
-      gl!.viewport(0, 0, w, h);
-      gl!.clear(gl!.COLOR_BUFFER_BIT);
-      return {
-        texture, fbo, width: w, height: h,
-        texelSizeX: 1 / w, texelSizeY: 1 / h,
-        attach(id: number) {
-          gl!.activeTexture(gl!.TEXTURE0 + id);
-          gl!.bindTexture(gl!.TEXTURE_2D, texture);
-          return id;
-        },
-      };
+      const fbo = gl!.createFramebuffer()!; gl!.bindFramebuffer(gl!.FRAMEBUFFER, fbo); gl!.framebufferTexture2D(gl!.FRAMEBUFFER, (gl as any).COLOR_ATTACHMENT0, gl!.TEXTURE_2D, tex, 0);
+      return { texture: tex, fbo, width: w, height: h, texelSizeX: 1 / w, texelSizeY: 1 / h, attach(id: number) { gl!.activeTexture((gl as any).TEXTURE0 + id); gl!.bindTexture(gl!.TEXTURE_2D, tex); return id; } };
     }
-
     function createDoubleFBO(w: number, h: number, intFmt: number, fmt: number, type: number, param: number) {
-      let fbo1 = createFBO(w, h, intFmt, fmt, type, param);
-      let fbo2 = createFBO(w, h, intFmt, fmt, type, param);
-      return {
-        width: w, height: h, texelSizeX: fbo1.texelSizeX, texelSizeY: fbo1.texelSizeY,
-        get read() { return fbo1; },
-        set read(v) { fbo1 = v; },
-        get write() { return fbo2; },
-        set write(v) { fbo2 = v; },
-        swap() { const t = fbo1; fbo1 = fbo2; fbo2 = t; },
-      };
-    }
-
-    function resizeFBO(target: any, w: number, h: number, intFmt: number, fmt: number, type: number, param: number) {
-      const n = createFBO(w, h, intFmt, fmt, type, param);
-      copyProg.bind();
-      gl!.uniform1i(copyProg.uniforms.uTexture, target.attach(0));
-      blit(n);
-      return n;
-    }
-
-    function resizeDoubleFBO(target: any, w: number, h: number, intFmt: number, fmt: number, type: number, param: number) {
-      if (target.width === w && target.height === h) return target;
-      target.read = resizeFBO(target.read, w, h, intFmt, fmt, type, param);
-      target.write = createFBO(w, h, intFmt, fmt, type, param);
-      target.width = w;
-      target.height = h;
-      target.texelSizeX = 1 / w;
-      target.texelSizeY = 1 / h;
-      return target;
-    }
-
-    function initFramebuffers() {
-      const simRes = getResolution(SIM_RESOLUTION);
-      const dRes = getResolution(dyeResVal);
-      const texType = halfFloatTexType;
-      const filtering = supportLinearFiltering ? gl!.LINEAR : gl!.NEAREST;
-      gl!.disable(gl!.BLEND);
-
-      if (!dye) dye = createDoubleFBO(dRes.width, dRes.height, formatRGBA.internalFormat, formatRGBA.format, texType, filtering);
-      else dye = resizeDoubleFBO(dye, dRes.width, dRes.height, formatRGBA.internalFormat, formatRGBA.format, texType, filtering);
-
-      if (!velocity) velocity = createDoubleFBO(simRes.width, simRes.height, formatRG.internalFormat, formatRG.format, texType, filtering);
-      else velocity = resizeDoubleFBO(velocity, simRes.width, simRes.height, formatRG.internalFormat, formatRG.format, texType, filtering);
-
-      divergenceFBO = createFBO(simRes.width, simRes.height, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
-      curlFBO = createFBO(simRes.width, simRes.height, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
-      pressureFBO = createDoubleFBO(simRes.width, simRes.height, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
-    }
-
-    initFramebuffers();
-
-    /* ΓöÇΓöÇΓöÇ Simulation helpers ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    function correctRadius(r: number) {
-      const ar = canvas!.width / canvas!.height;
-      if (ar > 1) r *= ar;
-      return r;
-    }
-
-    function correctDeltaX(d: number) {
-      const ar = canvas!.width / canvas!.height;
-      if (ar < 1) d *= ar;
-      return d;
-    }
-
-    function correctDeltaY(d: number) {
-      const ar = canvas!.width / canvas!.height;
-      if (ar > 1) d /= ar;
-      return d;
-    }
-
-    function splat(x: number, y: number, dx: number, dy: number, color: any) {
-      splatProg.bind();
-      gl!.uniform1i(splatProg.uniforms.uTarget, velocity.read.attach(0));
-      gl!.uniform1f(splatProg.uniforms.aspectRatio, canvas!.width / canvas!.height);
-      gl!.uniform2f(splatProg.uniforms.point, x, y);
-      gl!.uniform3f(splatProg.uniforms.color, dx, dy, 0.0);
-      gl!.uniform1f(splatProg.uniforms.radius, correctRadius(SPLAT_RADIUS / 100.0));
-      blit(velocity.write);
-      velocity.swap();
-
-      gl!.uniform1i(splatProg.uniforms.uTarget, dye.read.attach(0));
-      gl!.uniform3f(splatProg.uniforms.color, color.r, color.g, color.b);
-      blit(dye.write);
-      dye.swap();
-    }
-
-    function step(dt: number) {
-      gl!.disable(gl!.BLEND);
-
-      curlProg.bind();
-      gl!.uniform2f(curlProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      gl!.uniform1i(curlProg.uniforms.uVelocity, velocity.read.attach(0));
-      blit(curlFBO);
-
-      vortProg.bind();
-      gl!.uniform2f(vortProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      gl!.uniform1i(vortProg.uniforms.uVelocity, velocity.read.attach(0));
-      gl!.uniform1i(vortProg.uniforms.uCurl, curlFBO.attach(1));
-      gl!.uniform1f(vortProg.uniforms.curl, CURL);
-      gl!.uniform1f(vortProg.uniforms.dt, dt);
-      blit(velocity.write);
-      velocity.swap();
-
-      divProg.bind();
-      gl!.uniform2f(divProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      gl!.uniform1i(divProg.uniforms.uVelocity, velocity.read.attach(0));
-      blit(divergenceFBO);
-
-      clearProg.bind();
-      gl!.uniform1i(clearProg.uniforms.uTexture, pressureFBO.read.attach(0));
-      gl!.uniform1f(clearProg.uniforms.value, PRESSURE);
-      blit(pressureFBO.write);
-      pressureFBO.swap();
-
-      presProg.bind();
-      gl!.uniform2f(presProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      gl!.uniform1i(presProg.uniforms.uDivergence, divergenceFBO.attach(0));
-      for (let i = 0; i < PRESSURE_ITERATIONS; i++) {
-        gl!.uniform1i(presProg.uniforms.uPressure, pressureFBO.read.attach(1));
-        blit(pressureFBO.write);
-        pressureFBO.swap();
-      }
-
-      gradProg.bind();
-      gl!.uniform2f(gradProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      gl!.uniform1i(gradProg.uniforms.uPressure, pressureFBO.read.attach(0));
-      gl!.uniform1i(gradProg.uniforms.uVelocity, velocity.read.attach(1));
-      blit(velocity.write);
-      velocity.swap();
-
-      advProg.bind();
-      gl!.uniform2f(advProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);
-      if (!supportLinearFiltering)
-        gl!.uniform2f(advProg.uniforms.dyeTexelSize, velocity.texelSizeX, velocity.texelSizeY);
-      const velId = velocity.read.attach(0);
-      gl!.uniform1i(advProg.uniforms.uVelocity, velId);
-      gl!.uniform1i(advProg.uniforms.uSource, velId);
-      gl!.uniform1f(advProg.uniforms.dt, dt);
-      gl!.uniform1f(advProg.uniforms.dissipation, VELOCITY_DISSIPATION);
-      blit(velocity.write);
-      velocity.swap();
-
-      if (!supportLinearFiltering)
-        gl!.uniform2f(advProg.uniforms.dyeTexelSize, dye.texelSizeX, dye.texelSizeY);
-      gl!.uniform1i(advProg.uniforms.uVelocity, velocity.read.attach(0));
-      gl!.uniform1i(advProg.uniforms.uSource, dye.read.attach(1));
-      gl!.uniform1f(advProg.uniforms.dissipation, DENSITY_DISSIPATION);
-      blit(dye.write);
-      dye.swap();
+      let f1 = createFBO(w, h, intFmt, fmt, type, param); let f2 = createFBO(w, h, intFmt, fmt, type, param);
+      return { width: w, height: h, texelSizeX: 1 / w, texelSizeY: 1 / h, get read() { return f1; }, get write() { return f2; }, swap() { let t = f1; f1 = f2; f2 = t; } };
     }
 
-    function render() {
-      // ΓÿàΓÿàΓÿà CRITICAL: clear the canvas BEFORE drawing the display pass.
-      // With preserveDrawingBuffer=true, old frames accumulate otherwise,
-      // turning the entire mask white ΓåÆ entire reveal layer visible ΓåÆ all black.
-      gl!.bindFramebuffer(gl!.FRAMEBUFFER, null);
-      gl!.viewport(0, 0, gl!.drawingBufferWidth, gl!.drawingBufferHeight);
-      gl!.clearColor(0.0, 0.0, 0.0, 0.0); // Transparent = hidden in alpha mask
-      gl!.clear(gl!.COLOR_BUFFER_BIT);
-
-      gl!.blendFunc(gl!.ONE, gl!.ONE_MINUS_SRC_ALPHA);
-      gl!.enable(gl!.BLEND);
-      displayMat.bind();
-      if (shadingEnabled)
-        gl!.uniform2f(displayMat.uniforms.texelSize, 1 / gl!.drawingBufferWidth, 1 / gl!.drawingBufferHeight);
-      gl!.uniform1i(displayMat.uniforms.uTexture, dye.read.attach(0));
-      blit(null);
+    function initFBOs() {
+      const texType = halfFloatTexType; const filtering = gl!.LINEAR;
+      dye = createDoubleFBO(MASK_RES, MASK_RES, formatRGBA.internalFormat, formatRGBA.format, texType, filtering);
+      velocity = createDoubleFBO(SIM_RESOLUTION, SIM_RESOLUTION, formatRG.internalFormat, formatRG.format, texType, filtering);
+      divergenceFBO = createFBO(SIM_RESOLUTION, SIM_RESOLUTION, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
+      curlFBO = createFBO(SIM_RESOLUTION, SIM_RESOLUTION, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
+      pressureFBO = createDoubleFBO(SIM_RESOLUTION, SIM_RESOLUTION, formatR.internalFormat, formatR.format, texType, gl!.NEAREST);
     }
+    initFBOs();
 
-    /* ΓöÇΓöÇΓöÇ Main loop ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    let lastTime = Date.now();
+    const MASK_EXPORT_INTERVAL = 1000 / 20; // 20fps is plenty for a mask
     let lastExportTime = 0;
+    let frameCount = 0;
 
     function loop() {
       if (!alive) return;
-      
-      // Skip simulation when paused, page is hidden, or WebGL context is lost
       if (pausedRef.current || pageHidden || contextLost) {
         rafRef.current = requestAnimationFrame(loop);
         return;
       }
-      
-      const now = Date.now();
-      let dt = (now - lastTime) / 1000;
-      dt = Math.min(dt, 0.016666);
-      lastTime = now;
-
-      pointers.forEach((p) => {
-        p.x += (mouseX - p.x) * p.mass;
-        p.y += (mouseY - p.y) * p.mass;
 
-        const dx = correctDeltaX(p.x - p.px);
-        const dy = correctDeltaY(p.y - p.py);
-
-        if (Math.abs(dx) > 1e-5 || Math.abs(dy) > 1e-5) {
-          splat(p.x, p.y, dx * SPLAT_FORCE, dy * SPLAT_FORCE, { r: 1, g: 1, b: 1 });
-          p.px = p.x;
-          p.py = p.y;
+      const now = Date.now();
+      let dt = Math.min((now - lastUpdateTime) / 1000, 0.017);
+      lastUpdateTime = now;
+
+      let activePointers = 0;
+      pointers.forEach(p => {
+        p.x += (mouseX - p.x) * p.mass; p.y += (mouseY - p.y) * p.mass;
+        let dx = (p.x - p.px) * SPLAT_FORCE; let dy = (p.y - p.py) * SPLAT_FORCE;
+        if (Math.abs(dx) > 0.01 || Math.abs(dy) > 0.01) {
+          activePointers++;
+          splatProg.bind(); gl!.uniform1f(splatProg.uniforms.aspectRatio, 1.0); gl!.uniform2f(splatProg.uniforms.point, p.x, p.y); gl!.uniform1f(splatProg.uniforms.radius, SPLAT_RADIUS / 100);
+          gl!.uniform1i(splatProg.uniforms.uTarget, velocity.read.attach(0)); gl!.uniform3f(splatProg.uniforms.color, dx, dy, 0); blit(velocity.write); velocity.swap();
+          gl!.uniform1i(splatProg.uniforms.uTarget, dye.read.attach(0)); gl!.uniform3f(splatProg.uniforms.color, 1, 1, 1); blit(dye.write); dye.swap();
+          p.px = p.x; p.py = p.y;
         }
       });
 
-      step(dt);
-      render();
+      // Keep dirty while fluid is moving/visible
+      if (activePointers > 0) frameCount = 60; // Keep updating for ~1sec after stop
+      else if (frameCount > 0) frameCount--;
+
+      curlProg.bind(); gl!.uniform2f(curlProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY); gl!.uniform1i(curlProg.uniforms.uVelocity, velocity.read.attach(0)); blit(curlFBO);
+      divProg.bind(); gl!.uniform2f(divProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY); gl!.uniform1i(divProg.uniforms.uVelocity, velocity.read.attach(0)); blit(divergenceFBO);
+      clearProg.bind(); gl!.uniform1i(clearProg.uniforms.uTexture, pressureFBO.read.attach(0)); gl!.uniform1f(clearProg.uniforms.value, PRESSURE); blit(pressureFBO.write); pressureFBO.swap();
+      presProg.bind(); gl!.uniform2f(presProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY); gl!.uniform1i(presProg.uniforms.uDivergence, divergenceFBO.attach(0));
+      for (let i = 0; i < PRESSURE_ITERATIONS; i++) { gl!.uniform1i(presProg.uniforms.uPressure, pressureFBO.read.attach(1)); blit(pressureFBO.write); pressureFBO.swap(); }
+      gradProg.bind(); gl!.uniform2f(gradProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY); gl!.uniform1i(gradProg.uniforms.uPressure, pressureFBO.read.attach(0)); gl!.uniform1i(gradProg.uniforms.uVelocity, velocity.read.attach(1)); blit(velocity.write); velocity.swap();
+      advProg.bind(); gl!.uniform2f(advProg.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY); gl!.uniform1f(advProg.uniforms.dt, dt);
+      gl!.uniform1i(advProg.uniforms.uVelocity, velocity.read.attach(0)); gl!.uniform1i(advProg.uniforms.uSource, velocity.read.attach(0)); gl!.uniform1f(advProg.uniforms.dissipation, VELOCITY_DISSIPATION); blit(velocity.write); velocity.swap();
+      gl!.uniform1i(advProg.uniforms.uVelocity, velocity.read.attach(0)); gl!.uniform1i(advProg.uniforms.uSource, dye.read.attach(1)); gl!.uniform1f(advProg.uniforms.dissipation, DENSITY_DISSIPATION); blit(dye.write); dye.swap();
+
+      gl!.bindFramebuffer((gl as any).FRAMEBUFFER, null);
+      gl!.clear((gl as any).COLOR_BUFFER_BIT);
+      displayProg.bind();
+      gl!.uniform1i(displayProg.uniforms.uTexture, dye.read.attach(0));
+      blit(null);
 
-      // Export canvas as inverted luminance data URL for CSS mask-image
-      if (alive && onMaskFrameRef.current && (now - lastExportTime >= MASK_EXPORT_INTERVAL)) {
+      // Async Export: throttle to 20fps and only while simulation is active
+      if (onMaskFrameRef.current && (now - lastExportTime >= MASK_EXPORT_INTERVAL) && frameCount > 0) {
         lastExportTime = now;
-        onMaskFrameRef.current(canvas!.toDataURL('image/png'));
+        onMaskFrameRef.current(canvas!.toDataURL('image/webp', 0.1));
       }
 
       rafRef.current = requestAnimationFrame(loop);
     }
 
-    /* ΓöÇΓöÇΓöÇ Event listeners ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-    // Γÿà Map cursor from VIEWPORT coords ΓåÆ [0..1] texcoords
-    // using window.innerWidth/Height, NOT the tiny canvas pixel size.
+    rafRef.current = requestAnimationFrame(loop);
+
     function onMouseMove(e: MouseEvent) {
       mouseX = e.clientX / window.innerWidth;
       mouseY = 1.0 - e.clientY / window.innerHeight;
-      if (!initialized) {
-        pointers.forEach(p => { p.x = p.px = mouseX; p.y = p.py = mouseY; });
-        initialized = true;
-      }
+      _maskCursorDirty = true;
+      if (!initialized) { pointers.forEach(p => { p.x = p.px = mouseX; p.y = p.py = mouseY; }); initialized = true; }
     }
 
-    function onTouchMove(e: TouchEvent) {
-      const t = e.targetTouches[0];
-      if (!t) return;
-      mouseX = t.clientX / window.innerWidth;
-      mouseY = 1.0 - t.clientY / window.innerHeight;
-    }
-
-    function onTouchStart(e: TouchEvent) {
-      const t = e.targetTouches[0];
-      if (!t) return;
-      mouseX = t.clientX / window.innerWidth;
-      mouseY = 1.0 - t.clientY / window.innerHeight;
-      if (!initialized) {
-        pointers.forEach(p => { p.x = p.px = mouseX; p.y = p.py = mouseY; });
-        initialized = true;
-      }
-    }
-
-    window.addEventListener('mousemove', onMouseMove);
-    window.addEventListener('touchstart', onTouchStart);
-    window.addEventListener('touchmove', onTouchMove, { passive: true });
-
-    loop();
+    window.addEventListener('mousemove', onMouseMove, { passive: true });
 
-    /* ΓöÇΓöÇΓöÇ Cleanup: Dispose ALL WebGL resources ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
     return () => {
       alive = false;
-      if (rafRef.current) cancelAnimationFrame(rafRef.current);
       window.removeEventListener('mousemove', onMouseMove);
-      window.removeEventListener('touchstart', onTouchStart);
-      window.removeEventListener('touchmove', onTouchMove);
       document.removeEventListener('visibilitychange', handleVisibilityChange);
-      canvas.removeEventListener('webglcontextlost', handleContextLost);
-      canvas.removeEventListener('webglcontextrestored', handleContextRestored);
-
-      // Dispose FBOs (textures + framebuffers)
-      const disposeFBO = (fbo: { texture?: WebGLTexture; fbo?: WebGLFramebuffer } | null) => {
-        if (!fbo || !gl) return;
-        if (fbo.texture) gl.deleteTexture(fbo.texture);
-        if (fbo.fbo) gl.deleteFramebuffer(fbo.fbo);
-      };
-
-      const disposeDoubleFBO = (doubleFbo: { read?: any; write?: any } | null) => {
-        if (!doubleFbo) return;
-        disposeFBO(doubleFbo.read);
-        disposeFBO(doubleFbo.write);
-      };
-
-      // Dispose all FBOs
-      disposeDoubleFBO(dye);
-      disposeDoubleFBO(velocity);
-      disposeFBO(divergenceFBO);
-      disposeFBO(curlFBO);
-      disposeDoubleFBO(pressureFBO);
-
-      // Dispose all shader programs
-      const programs = [copyProg, clearProg, splatProg, advProg, divProg, curlProg, vortProg, presProg, gradProg];
-      programs.forEach(prog => {
-        if (prog?.program && gl) gl.deleteProgram(prog.program);
-      });
+      canvas.removeEventListener('webglcontextlost', onLost);
+      if (rafRef.current) cancelAnimationFrame(rafRef.current);
 
-      // Dispose Material programs
-      if (displayMat?.programs && gl) {
-        Object.values(displayMat.programs).forEach((prog) => {
-          if (prog) gl.deleteProgram(prog as WebGLProgram);
-        });
+      if (gl) {
+        const deleteFBO = (f: any) => {
+          if (!f) return;
+          if (f.texture) gl!.deleteTexture(f.texture);
+          if (f.fbo) gl!.deleteFramebuffer(f.fbo);
+        };
+        const deleteDoubleFBO = (f: any) => {
+          if (!f) return;
+          deleteFBO(f.read);
+          deleteFBO(f.write);
+        };
+
+        deleteDoubleFBO(dye);
+        deleteDoubleFBO(velocity);
+        deleteDoubleFBO(pressureFBO);
+        deleteFBO(divergenceFBO);
+        deleteFBO(curlFBO);
+
+        if (positionBuffer) gl!.deleteBuffer(positionBuffer);
+        if (elementBuffer) gl!.deleteBuffer(elementBuffer);
+
+        const progs = [copyProg, clearProg, splatProg, advProg, divProg, curlProg, presProg, gradProg, displayProg];
+        progs.forEach(p => { if (p && p.program) gl!.deleteProgram(p.program); });
+
+        const shaders = [baseVS, copyFS, clearFS, divergenceFS, curlFS, pressureFS, gradSubFS, splatFS, advectionFS, displayFS];
+        shaders.forEach(s => { if (s) gl!.deleteShader(s); });
       }
-
-      // Delete compiled shaders (vertex + all fragment shaders)
-      if (gl && baseVS) gl.deleteShader(baseVS);
-      const fragmentShaders = [copyFS, clearFS, splatFS, advectionFS, divergenceFS, curlFS, vorticityFS, pressureFS, gradSubFS];
-      fragmentShaders.forEach(fs => { if (gl && fs) gl.deleteShader(fs); });
-
-      // Do NOT call loseContext() ΓÇö it races with Portal3D's shared GPU pipeline.
-      // Deleting all resources above is sufficient; GC handles the rest.
     };
-    // eslint-disable-next-line react-hooks/exhaustive-deps
   }, []);
 
-  return (
-    <canvas
-      ref={canvasRef}
-      width={MASK_RES}
-      height={MASK_RES}
-      data-fluid-cursor="mask"
-      style={{
-        position: 'fixed',
-        top: 0,
-        left: 0,
-        width: '1px',
-        height: '1px',
-        pointerEvents: 'none',
-        opacity: 0,
-        zIndex: -1,
-      }}
-    />
-  );
+  return (<canvas ref={canvasRef} className="hidden" style={{ width: MASK_RES, height: MASK_RES }} />);
 }
 
 export default memo(FluidMaskCursor);
diff --git a/src/components/GooeyCursor.tsx b/src/components/GooeyCursor.tsx
index 1c84dab..ab8e218 100644
--- a/src/components/GooeyCursor.tsx
+++ b/src/components/GooeyCursor.tsx
@@ -13,7 +13,7 @@ const GooeyCursor = memo(function GooeyCursor({ size = 24 }: GooeyCursorProps) {
   useEffect(() => {
     // Check if device supports hover (not touch-only)
     const mediaQuery = window.matchMedia('(pointer: fine)');
-    
+
     let mouseX = 0;
     let mouseY = 0;
     let cursorX = 0;
@@ -26,9 +26,12 @@ const GooeyCursor = memo(function GooeyCursor({ size = 24 }: GooeyCursorProps) {
     const handleMouseMove = (e: MouseEvent) => {
       mouseX = e.clientX;
       mouseY = e.clientY;
-      // Use direct DOM opacity instead of React state to avoid re-render
+
+      if (hideTimer) clearTimeout(hideTimer);
+
+      // Use direct DOM style for max performance
       if (cursorRef.current) cursorRef.current.style.opacity = '1';
-      if (trailRef.current) trailRef.current.style.opacity = '0.4';
+      if (trailRef.current) trailRef.current.style.opacity = '0.85';
     };
 
     const handleMouseLeave = () => {
@@ -36,7 +39,7 @@ const GooeyCursor = memo(function GooeyCursor({ size = 24 }: GooeyCursorProps) {
       if (trailRef.current) trailRef.current.style.opacity = '0';
     };
 
-    // Detect hoverable elements via pointer delegation (less noisy than mouseover)
+    // Detect hoverable elements via pointer delegation
     const handleElementHover = (e: PointerEvent) => {
       const target = e.target as HTMLElement;
       const isInteractive =
@@ -44,38 +47,45 @@ const GooeyCursor = memo(function GooeyCursor({ size = 24 }: GooeyCursorProps) {
         target.tagName === 'BUTTON' ||
         target.closest('a') ||
         target.closest('button') ||
-        target.classList.contains('module-link') ||
-        target.closest('.module-link');
+        target.classList.contains('interactive') ||
+        target.closest('.interactive');
 
       isHoveringRef.current = !!isInteractive;
     };
 
+    let hasMoved = false;
+
     const animate = (now: number) => {
       if (!alive) return;
 
-      // Frame-rate independent damping: normalize to 60fps baseline
       const dt = lastTime ? Math.min((now - lastTime) / 1000, 0.1) : 1 / 60;
       lastTime = now;
-      const dt60 = dt * 60; // 1.0 at 60fps
+      const dt60 = dt * 60;
 
-      // Exponential decay damping ΓÇö consistent at any framerate
-      const dampMain = 1 - Math.pow(1 - 0.15, dt60);
-      const dampTrail = 1 - Math.pow(1 - 0.08, dt60);
+      // Elastic smoothing
+      const dampMain = 1 - Math.pow(1 - 0.2, dt60);
+      const dampTrail = 1 - Math.pow(1 - 0.12, dt60);
 
+      const prevCX = cursorX, prevCY = cursorY;
       cursorX += (mouseX - cursorX) * dampMain;
       cursorY += (mouseY - cursorY) * dampMain;
 
       trailX += (mouseX - trailX) * dampTrail;
       trailY += (mouseY - trailY) * dampTrail;
 
-      const hovering = isHoveringRef.current;
+      const moved = Math.abs(cursorX - prevCX) > 0.05 || Math.abs(cursorY - prevCY) > 0.05;
 
-      if (cursorRef.current) {
-        cursorRef.current.style.transform = `translate(${cursorX - size / 2}px, ${cursorY - size / 2}px) scale(${hovering ? 2 : 1})`;
-      }
+      if (moved || hasMoved) {
+        hasMoved = moved;
+        const hovering = isHoveringRef.current;
+
+        if (cursorRef.current) {
+          cursorRef.current.style.transform = `translate(${cursorX - size / 2}px, ${cursorY - size / 2}px) scale(${hovering ? 2.5 : 1})`;
+        }
 
-      if (trailRef.current) {
-        trailRef.current.style.transform = `translate(${trailX - size * 1.5 / 2}px, ${trailY - size * 1.5 / 2}px) scale(${hovering ? 1.5 : 1})`;
+        if (trailRef.current) {
+          trailRef.current.style.transform = `translate(${trailX - (size * 1.5) / 2}px, ${trailY - (size * 1.5) / 2}px) scale(${hovering ? 0.8 : 1})`;
+        }
       }
 
       rafIdRef.current = requestAnimationFrame(animate);
@@ -94,57 +104,74 @@ const GooeyCursor = memo(function GooeyCursor({ size = 24 }: GooeyCursorProps) {
       document.removeEventListener('pointerover', handleElementHover);
       if (rafIdRef.current) cancelAnimationFrame(rafIdRef.current);
       rafIdRef.current = null;
-      if (cursorRef.current) cursorRef.current.style.opacity = '0';
-      if (trailRef.current) trailRef.current.style.opacity = '0';
-    };
-
-    // Listen for dynamic pointer capability changes (e.g. tablet dock/undock)
-    const handleMediaChange = (e: MediaQueryListEvent) => {
-      if (e.matches) {
-        attach();
-      } else {
-        detach();
-      }
     };
 
     if (mediaQuery.matches) attach();
-    mediaQuery.addEventListener('change', handleMediaChange);
+    mediaQuery.addEventListener('change', (e) => (e.matches ? attach() : detach()));
 
     return () => {
       alive = false;
       detach();
-      mediaQuery.removeEventListener('change', handleMediaChange);
     };
   }, [size]);
 
   return (
     <>
-      {/* Main cursor blob */}
-      <div
-        id="gooey-cursor"
-        ref={cursorRef}
-        className="cursor-gooey gooey-cursor"
-        style={{
-          width: size,
-          height: size,
-          opacity: 0,
-          transition: 'opacity 0.3s ease',
-        }}
-        aria-hidden="true"
-      />
-      {/* Trail blob for gooey effect */}
       <div
-        id="gooey-cursor-trail"
-        ref={trailRef}
-        className="cursor-gooey gooey-cursor"
+        className="gooey-cursor-container"
         style={{
-          width: size * 1.5,
-          height: size * 1.5,
-          opacity: 0,
-          transition: 'opacity 0.4s ease',
+          position: 'fixed',
+          inset: 0,
+          pointerEvents: 'none',
+          zIndex: 9999,
+          filter: 'url(#gooey)',
+          mixBlendMode: 'difference',
         }}
-        aria-hidden="true"
-      />
+      >
+        <div
+          ref={cursorRef}
+          className="gooey-cursor-main"
+          style={{
+            position: 'absolute',
+            width: size,
+            height: size,
+            backgroundColor: '#00BCD4',
+            borderRadius: '50%',
+            opacity: 0,
+            willChange: 'transform, opacity',
+            transition: 'opacity 0.3s ease, transform 0.2s cubic-bezier(0.23, 1, 0.32, 1)',
+          }}
+        />
+        <div
+          ref={trailRef}
+          className="gooey-cursor-trail"
+          style={{
+            position: 'absolute',
+            width: size * 1.5,
+            height: size * 1.5,
+            backgroundColor: '#00BCD4',
+            borderRadius: '50%',
+            opacity: 0,
+            willChange: 'transform, opacity',
+            transition: 'opacity 0.4s ease, transform 0.4s cubic-bezier(0.23, 1, 0.32, 1)',
+          }}
+        />
+      </div>
+
+      <svg style={{ position: 'absolute', width: 0, height: 0, pointerEvents: 'none' }}>
+        <defs>
+          <filter id="gooey">
+            <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="blur" />
+            <feColorMatrix
+              in="blur"
+              mode="matrix"
+              values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -10"
+              result="goo"
+            />
+            <feComposite in="SourceGraphic" in2="goo" operator="atop" />
+          </filter>
+        </defs>
+      </svg>
     </>
   );
 });
diff --git a/src/components/Lanyard.tsx b/src/components/Lanyard.tsx
index df293df..a19ca3a 100644
--- a/src/components/Lanyard.tsx
+++ b/src/components/Lanyard.tsx
@@ -1,7 +1,7 @@
 /* eslint-disable react/no-unknown-property */
-import { useRef, useEffect, useLayoutEffect, useState } from 'react';
+import { useRef, useEffect, useLayoutEffect, useState, useMemo } from 'react';
 import { Canvas, useFrame, useThree, extend } from '@react-three/fiber';
-import { Environment, Lightformer, Text } from '@react-three/drei';
+import { Lightformer, Text } from '@react-three/drei';
 import {
   Physics,
   RigidBody,
@@ -13,22 +13,12 @@ import {
 import { MeshLineGeometry, MeshLineMaterial } from 'meshline';
 import * as THREE from 'three';
 
-
 /* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
    Lanyard ΓÇö Physics-based 3D campus ID card on a rope strap.
-
-   Uses @react-three/rapier for rope-joint physics,
-   meshline for the curved band, and procedural geometry
-   for the MCTRGIT Campus ID card. Fully draggable.
-
-   Closely follows the reference code's proven physics patterns
-   (lerped band rendering, pointer capture drag, chordal curve,
-   Y-rotation correction) with BErozgar-branded procedural card.
    ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
 
 extend({ MeshLineGeometry, MeshLineMaterial });
 
-// Dispose all Three.js resources in the scene
 const disposeScene = (scene: THREE.Scene) => {
   scene.traverse((object) => {
     if (object instanceof THREE.Mesh) {
@@ -42,7 +32,6 @@ const disposeScene = (scene: THREE.Scene) => {
   });
 };
 
-// GPU cleanup before browser paints next frame
 const SceneCleanup = () => {
   const { gl, scene } = useThree();
   useLayoutEffect(() => {
@@ -54,7 +43,6 @@ const SceneCleanup = () => {
   return null;
 };
 
-/* ΓöÇΓöÇ Props ΓöÇΓöÇ */
 interface LanyardProps {
   position?: [number, number, number];
   gravity?: [number, number, number];
@@ -62,335 +50,122 @@ interface LanyardProps {
   transparent?: boolean;
 }
 
-/* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-   CampusIDCard ΓÇö Procedural MCTRGIT College ID
-   Designed to look like a real university ID card
-   with proper fields, labels, photo area, etc.
-   Dimensions are in "card-local" units,
-   the parent group applies scale=2.25.
-   ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
 function CampusIDCard() {
-  const W = 0.8;   // credit-card ratio
+  const W = 0.8;
   const H = 1.12;
   const D = 0.015;
   const Z = D / 2 + 0.001;
   const dotRef = useRef<THREE.Mesh>(null);
-  const LEFT = -W / 2 + 0.04; // left margin
-  const RIGHT = W / 2 - 0.04; // right margin
+  const LEFT = -W / 2 + 0.06;
 
   useFrame((state) => {
     if (dotRef.current) {
       const mat = dotRef.current.material as THREE.MeshStandardMaterial;
-      mat.emissiveIntensity = 1.5 + Math.sin(state.clock.elapsedTime * 3) * 0.8;
+      mat.emissiveIntensity = 1.5 + Math.sin(state.clock.elapsedTime * 4) * 1.0;
     }
   });
 
   return (
     <group>
-      {/* ΓöÇΓöÇ Card body ΓöÇΓöÇ */}
       <mesh castShadow>
         <boxGeometry args={[W, H, D]} />
         <meshPhysicalMaterial
-          color="#0d0d20"
-          roughness={0.3}
-          metalness={0.2}
+          color="#1a1a2e"
+          emissive="#001122"
+          emissiveIntensity={0.5}
+          roughness={0.1}
+          metalness={0.8}
           clearcoat={1}
-          clearcoatRoughness={0.12}
+          clearcoatRoughness={0.05}
+          transmission={0.1}
+          thickness={0.1}
         />
       </mesh>
 
-      {/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ FRONT FACE ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */}
+      <mesh position={[0, 0, 0]}>
+        <boxGeometry args={[W + 0.01, H + 0.01, D - 0.002]} />
+        <meshBasicMaterial color="#00BCD4" transparent opacity={0.2} />
+      </mesh>
 
-      {/* ΓöÇΓöÇ Top header band (cyan gradient bar) ΓöÇΓöÇ */}
       <mesh position={[0, H / 2 - 0.06, Z]}>
         <planeGeometry args={[W, 0.12]} />
-        <meshBasicMaterial color="#00838F" />
-      </mesh>
-      {/* Top accent line */}
-      <mesh position={[0, H / 2 - 0.003, Z + 0.001]}>
-        <planeGeometry args={[W, 0.006]} />
         <meshBasicMaterial color="#00BCD4" />
       </mesh>
 
-      {/* College name in header */}
       <Text
-        position={[0, H / 2 - 0.04, Z + 0.002]}
-        fontSize={0.032}
+        position={[0, H / 2 - 0.045, Z + 0.002]}
+        fontSize={0.038}
         color="#ffffff"
         anchorX="center"
         anchorY="middle"
-        letterSpacing={0.14}
         fontWeight="bold"
+        letterSpacing={0.1}
       >
-        M.C.T.R.G.I.T
-      </Text>
-      <Text
-        position={[0, H / 2 - 0.075, Z + 0.002]}
-        fontSize={0.014}
-        color="#B2EBF2"
-        anchorX="center"
-        anchorY="middle"
-        letterSpacing={0.08}
-      >
-        Autonomous
+        MCTRGIT
       </Text>
 
-      {/* ΓöÇΓöÇ "CAMPUS IDENTITY CARD" title bar ΓöÇΓöÇ */}
-      <mesh position={[0, H / 2 - 0.145, Z]}>
-        <planeGeometry args={[W * 0.85, 0.035]} />
-        <meshBasicMaterial color="#00BCD4" opacity={0.9} transparent />
+      <mesh position={[0, H / 2 - 0.155, Z]}>
+        <planeGeometry args={[W * 0.9, 0.035]} />
+        <meshBasicMaterial color="#ffffff" />
       </mesh>
       <Text
-        position={[0, H / 2 - 0.145, Z + 0.002]}
-        fontSize={0.016}
+        position={[0, H / 2 - 0.155, Z + 0.002]}
+        fontSize={0.018}
         color="#000000"
         anchorX="center"
         anchorY="middle"
-        letterSpacing={0.25}
         fontWeight="bold"
       >
         CAMPUS IDENTITY CARD
       </Text>
 
-      {/* ΓöÇΓöÇ Photo area (left side) ΓöÇΓöÇ */}
-      {/* Border */}
-      <mesh position={[LEFT + 0.10, 0.12, Z]}>
-        <planeGeometry args={[0.22, 0.26]} />
-        <meshBasicMaterial color="#00BCD4" opacity={0.25} transparent />
-      </mesh>
-      {/* Photo bg */}
-      <mesh position={[LEFT + 0.10, 0.12, Z + 0.001]}>
-        <planeGeometry args={[0.20, 0.24]} />
-        <meshBasicMaterial color="#111128" />
-      </mesh>
-      {/* Silhouette head */}
-      <mesh position={[LEFT + 0.10, 0.17, Z + 0.002]}>
-        <circleGeometry args={[0.045, 20]} />
-        <meshBasicMaterial color="#1e1e40" />
-      </mesh>
-      {/* Silhouette shoulders */}
-      <mesh position={[LEFT + 0.10, 0.08, Z + 0.002]}>
-        <planeGeometry args={[0.12, 0.08]} />
-        <meshBasicMaterial color="#1e1e40" />
-      </mesh>
-
-      {/* ΓöÇΓöÇ Student details (right side of photo) ΓöÇΓöÇ */}
-      {/* Name label */}
-      <Text
-        position={[0.10, 0.22, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        NAME
-      </Text>
-      {/* Name value */}
-      <mesh position={[0.21, 0.195, Z]}>
-        <planeGeometry args={[0.28, 0.002]} />
-        <meshBasicMaterial color="#ffffff" opacity={0.3} transparent />
-      </mesh>
-      <Text
-        position={[0.10, 0.195, Z + 0.002]}
-        fontSize={0.016}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.85}
-      >
-        MCTRGIT User
-      </Text>
-
-      {/* Department label */}
-      <Text
-        position={[0.10, 0.155, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        DEPARTMENT
-      </Text>
-      <Text
-        position={[0.10, 0.13, Z + 0.002]}
-        fontSize={0.014}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.7}
-      >
-        Computer Science
-      </Text>
-
-      {/* Email / User ID */}
-      <Text
-        position={[0.10, 0.09, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        EMAIL ID
-      </Text>
-      <Text
-        position={[0.10, 0.065, Z + 0.002]}
-        fontSize={0.012}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.65}
-      >
-        user@mctrgit.ac.in
-      </Text>
-
-      {/* ΓöÇΓöÇ Full-width fields below photo ΓöÇΓöÇ */}
-      {/* Enrollment No */}
-      <Text
-        position={[LEFT, -0.02, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        ENROLLMENT NO.
-      </Text>
-      <Text
-        position={[LEFT, -0.045, Z + 0.002]}
-        fontSize={0.018}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.9}
-        letterSpacing={0.12}
-      >
-        B23CS001
-      </Text>
+      <group position={[LEFT + 0.08, 0.12, Z]}>
+        <mesh>
+          <planeGeometry args={[0.22, 0.28]} />
+          <meshBasicMaterial color="#ffffff" opacity={0.1} transparent />
+        </mesh>
+        <mesh position={[0, 0, 0.001]}>
+          <planeGeometry args={[0.20, 0.26]} />
+          <meshBasicMaterial color="#050510" />
+        </mesh>
+        <mesh position={[0, 0.04, 0.002]}>
+          <circleGeometry args={[0.045, 16]} />
+          <meshBasicMaterial color="#00BCD4" opacity={0.3} transparent />
+        </mesh>
+        <mesh position={[0, -0.04, 0.002]}>
+          <planeGeometry args={[0.12, 0.08]} />
+          <meshBasicMaterial color="#00BCD4" opacity={0.3} transparent />
+        </mesh>
+      </group>
 
-      {/* Year + Validity on same row */}
-      <Text
-        position={[LEFT, -0.08, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        YEAR
-      </Text>
-      <Text
-        position={[LEFT, -0.10, Z + 0.002]}
-        fontSize={0.014}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.7}
-      >
-        2023-2027
-      </Text>
+      <Text position={[0.08, 0.22, Z + 0.002]} fontSize={0.012} color="#00BCD4" anchorX="left">NAME</Text>
+      <Text position={[0.08, 0.19, Z + 0.002]} fontSize={0.02} color="#ffffff" anchorX="left" fontWeight="bold">MCTRGIT USER</Text>
 
-      <Text
-        position={[0.12, -0.08, Z + 0.002]}
-        fontSize={0.011}
-        color="#00BCD4"
-        anchorX="left"
-        anchorY="middle"
-        letterSpacing={0.15}
-      >
-        VALID TILL
-      </Text>
-      <Text
-        position={[0.12, -0.10, Z + 0.002]}
-        fontSize={0.014}
-        color="#ffffff"
-        anchorX="left"
-        anchorY="middle"
-        fillOpacity={0.7}
-      >
-        2027
-      </Text>
+      <Text position={[0.08, 0.14, Z + 0.002]} fontSize={0.012} color="#00BCD4" anchorX="left">DEPT</Text>
+      <Text position={[0.08, 0.11, Z + 0.002]} fontSize={0.016} color="#ffffff" anchorX="left">Comp. Science</Text>
 
-      {/* ΓöÇΓöÇ Divider ΓöÇΓöÇ */}
-      <mesh position={[0, -0.13, Z]}>
-        <planeGeometry args={[W * 0.9, 0.002]} />
-        <meshBasicMaterial color="#00BCD4" opacity={0.3} transparent />
+      <mesh ref={dotRef} position={[W / 2 - 0.08, H / 2 - 0.06, Z + 0.002]}>
+        <circleGeometry args={[0.015, 12]} />
+        <meshStandardMaterial color="#00ff88" emissive="#00ff88" emissiveIntensity={2} />
       </mesh>
 
-      {/* ΓöÇΓöÇ Barcode area ΓöÇΓöÇ */}
-      <group position={[-0.22, -0.17, Z]}>
-        {Array.from({ length: 28 }).map((_, i) => (
-          <mesh key={i} position={[i * 0.016, 0, 0]}>
-            <planeGeometry args={[i % 3 === 0 ? 0.01 : 0.005, 0.05]} />
-            <meshBasicMaterial
-              color="#ffffff"
-              opacity={i % 2 === 0 ? 0.5 : 0.2}
-              transparent
-            />
+      <group position={[-0.25, -0.3, Z]}>
+        {Array.from({ length: 20 }).map((_, i) => (
+          <mesh key={i} position={[i * 0.025, 0, 0]}>
+            <planeGeometry args={[i % 3 === 0 ? 0.015 : 0.008, 0.08]} />
+            <meshBasicMaterial color="#ffffff" opacity={0.4} transparent />
           </mesh>
         ))}
       </group>
 
-      {/* ΓöÇΓöÇ Bottom branding bar ΓöÇΓöÇ */}
-      <mesh position={[0, -H / 2 + 0.025, Z]}>
-        <planeGeometry args={[W, 0.05]} />
-        <meshBasicMaterial color="#00838F" opacity={0.5} transparent />
-      </mesh>
-      <Text
-        position={[0, -H / 2 + 0.025, Z + 0.002]}
-        fontSize={0.011}
-        color="#B2EBF2"
-        anchorX="center"
-        anchorY="middle"
-        letterSpacing={0.30}
-      >
+      <Text position={[0, -H / 2 + 0.04, Z + 0.002]} fontSize={0.01} color="#00BCD4" anchorX="center" letterSpacing={0.5}>
         BEROZGAR TRUST EXCHANGE
       </Text>
-
-      {/* ΓöÇΓöÇ Status dot ΓÇö pulsing green (ACTIVE) ΓöÇΓöÇ */}
-      <mesh ref={dotRef} position={[RIGHT, H / 2 - 0.06, Z + 0.002]}>
-        <circleGeometry args={[0.012, 10]} />
-        <meshStandardMaterial color="#4CAF50" emissive="#4CAF50" emissiveIntensity={1.5} />
-      </mesh>
-      <Text
-        position={[RIGHT - 0.005, H / 2 - 0.085, Z + 0.002]}
-        fontSize={0.008}
-        color="#4CAF50"
-        anchorX="right"
-        anchorY="middle"
-        letterSpacing={0.2}
-      >
-        ACTIVE
-      </Text>
-
-      {/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ BACK FACE ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */}
-      <mesh position={[0, 0, -Z]} rotation={[0, Math.PI, 0]}>
-        <planeGeometry args={[W, H]} />
-        <meshStandardMaterial color="#08081a" roughness={0.7} />
-      </mesh>
     </group>
   );
 }
 
-/* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-   Band ΓÇö Rapier rope-joint chain + meshline strap
-   Following the reference code's proven approach:
-   - lerped positions for smooth band rendering
-   - pointer capture for reliable drag
-   - chordal curve type
-   - Y-rotation self-correction
-   ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-function Band({
-  maxSpeed = 50,
-  minSpeed = 0,
-  isMobile = false,
-}: {
-  maxSpeed?: number;
-  minSpeed?: number;
-  isMobile?: boolean;
-}) {
+function Band({ maxSpeed = 50, minSpeed = 0, isMobile = false }) {
   const band = useRef<any>(null);
   const fixed = useRef<any>(null);
   const j1 = useRef<any>(null);
@@ -398,7 +173,6 @@ function Band({
   const j3 = useRef<any>(null);
   const card = useRef<any>(null);
 
-  /* Reusable math objects ΓÇö allocated once via useRef to avoid GC pressure */
   const vec = useRef(new THREE.Vector3()).current;
   const ang = useRef(new THREE.Vector3()).current;
   const rot = useRef(new THREE.Vector3()).current;
@@ -412,39 +186,22 @@ function Band({
     linearDamping: 4,
   };
 
-  const [curve] = useState(
-    () =>
-      new THREE.CatmullRomCurve3([
-        new THREE.Vector3(),
-        new THREE.Vector3(),
-        new THREE.Vector3(),
-        new THREE.Vector3(),
-      ])
-  );
-
+  const [curve] = useState(() => new THREE.CatmullRomCurve3([new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3()]));
   const [dragged, drag] = useState<THREE.Vector3 | false>(false);
   const [hovered, hover] = useState(false);
 
-  /* ΓöÇΓöÇ Joints ΓöÇΓöÇ */
   useRopeJoint(fixed, j1, [[0, 0, 0], [0, 0, 0], 1]);
   useRopeJoint(j1, j2, [[0, 0, 0], [0, 0, 0], 1]);
   useRopeJoint(j2, j3, [[0, 0, 0], [0, 0, 0], 1]);
-  useSphericalJoint(j3, card, [
-    [0, 0, 0],
-    [0, 1.45, 0],
-  ]);
+  useSphericalJoint(j3, card, [[0, 0, 0], [0, 1.45, 0]]);
 
-  /* ΓöÇΓöÇ Cursor feedback ΓöÇΓöÇ */
   useEffect(() => {
     if (hovered) {
       document.body.style.cursor = dragged ? 'grabbing' : 'grab';
-      return () => {
-        document.body.style.cursor = 'auto';
-      };
+      return () => { document.body.style.cursor = 'auto'; };
     }
   }, [hovered, dragged]);
 
-  /* ΓöÇΓöÇ Per-frame: drag, band render, rotation correction ΓöÇΓöÇ */
   useFrame((state, delta) => {
     if (dragged) {
       vec.set(state.pointer.x, state.pointer.y, 0.5).unproject(state.camera);
@@ -459,184 +216,75 @@ function Band({
     }
 
     if (fixed.current) {
-      /* Lerped positions for j1 and j2 ΓÇö smooth band rendering */
       [j1, j2].forEach((ref) => {
-        if (!ref.current.lerped) {
-          ref.current.lerped = new THREE.Vector3().copy(
-            ref.current.translation()
-          );
-        }
-        const clampedDist = Math.max(
-          0.1,
-          Math.min(
-            1,
-            ref.current.lerped.distanceTo(ref.current.translation())
-          )
-        );
-        ref.current.lerped.lerp(
-          ref.current.translation(),
-          delta * (minSpeed + clampedDist * (maxSpeed - minSpeed))
-        );
+        if (!ref.current.lerped) ref.current.lerped = new THREE.Vector3().copy(ref.current.translation());
+        const clampedDist = Math.max(0.1, Math.min(1, ref.current.lerped.distanceTo(ref.current.translation())));
+        ref.current.lerped.lerp(ref.current.translation(), delta * (minSpeed + clampedDist * (maxSpeed - minSpeed)));
       });
 
-      /* Update the chordal curve through the 4 key points */
       curve.points[0].copy(j3.current.translation());
       curve.points[1].copy(j2.current.lerped);
       curve.points[2].copy(j1.current.lerped);
       curve.points[3].copy(fixed.current.translation());
-      band.current?.geometry?.setPoints?.(
-        curve.getPoints(isMobile ? 16 : 32)
-      );
+      band.current?.geometry?.setPoints?.(curve.getPoints(isMobile ? 16 : 32));
 
-      /* Y-rotation self-correction ΓÇö keeps card facing camera */
       ang.copy(card.current.angvel());
       rot.copy(card.current.rotation());
-      card.current.setAngvel({
-        x: ang.x,
-        y: ang.y - rot.y * 0.25,
-        z: ang.z,
-      });
+      card.current.setAngvel({ x: ang.x, y: ang.y - rot.y * 0.25, z: ang.z });
     }
   });
 
-  /* Set curve type once */
   curve.curveType = 'chordal';
 
   return (
     <>
       <group position={[0, 4, 0]}>
         <RigidBody ref={fixed} {...segmentProps} type="fixed" />
-
-        <RigidBody position={[0.5, 0, 0]} ref={j1} {...segmentProps}>
-          <BallCollider args={[0.1]} />
-        </RigidBody>
-        <RigidBody position={[1, 0, 0]} ref={j2} {...segmentProps}>
-          <BallCollider args={[0.1]} />
-        </RigidBody>
-        <RigidBody position={[1.5, 0, 0]} ref={j3} {...segmentProps}>
-          <BallCollider args={[0.1]} />
-        </RigidBody>
-
-        <RigidBody
-          position={[2, 0, 0]}
-          ref={card}
-          {...segmentProps}
-          type={dragged ? 'kinematicPosition' : 'dynamic'}
-        >
+        <RigidBody position={[0.5, 0, 0]} ref={j1} {...segmentProps}><BallCollider args={[0.1]} /></RigidBody>
+        <RigidBody position={[1, 0, 0]} ref={j2} {...segmentProps}><BallCollider args={[0.1]} /></RigidBody>
+        <RigidBody position={[1.5, 0, 0]} ref={j3} {...segmentProps}><BallCollider args={[0.1]} /></RigidBody>
+        <RigidBody position={[2, 0, 0]} ref={card} {...segmentProps} type={dragged ? 'kinematicPosition' : 'dynamic'}>
           <CuboidCollider args={[0.8, 1.125, 0.01]} />
-          <group
-            scale={2.25}
-            position={[0, -1.2, -0.05]}
-            onPointerOver={() => hover(true)}
-            onPointerOut={() => hover(false)}
-            onPointerUp={(e: any) => {
-              e.target.releasePointerCapture(e.pointerId);
-              drag(false);
-            }}
-            onPointerDown={(e: any) => {
-              e.target.setPointerCapture(e.pointerId);
-              drag(
-                new THREE.Vector3()
-                  .copy(e.point)
-                  .sub(vec.copy(card.current.translation()))
-              );
-            }}
-          >
+          <group scale={2.25} position={[0, -1.2, -0.05]} onPointerOver={() => hover(true)} onPointerOut={() => hover(false)} onPointerUp={(e: any) => { e.target.releasePointerCapture(e.pointerId); drag(false); }} onPointerDown={(e: any) => { e.target.setPointerCapture(e.pointerId); drag(new THREE.Vector3().copy(e.point).sub(vec.copy(card.current.translation()))); }}>
             <CampusIDCard />
           </group>
         </RigidBody>
       </group>
-
-      {/* Lanyard band ΓÇö meshline curve */}
       <mesh ref={band}>
         <meshLineGeometry />
-        <meshLineMaterial
-          color="#3a3a7a"
-          depthTest={false}
-          resolution={isMobile ? [1000, 2000] : [1000, 1000]}
-          lineWidth={1}
-        />
+        <meshLineMaterial color="#00BCD4" depthTest={false} resolution={isMobile ? [1000, 2000] : [1000, 1000]} lineWidth={1.2} />
       </mesh>
     </>
   );
 }
 
-/* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-   Lanyard ΓÇö Main export  (Canvas + Physics + Env)
-   ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-const Lanyard = ({
-  position = [0, 0, 30],
-  gravity = [0, -40, 0],
-  fov = 20,
-  transparent = true,
-}: LanyardProps) => {
-  const [isMobile, setIsMobile] = useState(
-    () => typeof window !== 'undefined' && window.innerWidth < 768
-  );
-
+const Lanyard = ({ position = [0, 0, 30], gravity = [0, -40, 0], fov = 20, transparent = true }) => {
+  const [isMobile, setIsMobile] = useState(() => typeof window !== 'undefined' && window.innerWidth < 768);
   useEffect(() => {
-    let timer: ReturnType<typeof setTimeout>;
-    const handleResize = () => {
-      clearTimeout(timer);
-      timer = setTimeout(() => setIsMobile(window.innerWidth < 768), 150);
-    };
+    const handleResize = () => setIsMobile(window.innerWidth < 768);
     window.addEventListener('resize', handleResize);
-    return () => {
-      clearTimeout(timer);
-      window.removeEventListener('resize', handleResize);
-    };
+    return () => window.removeEventListener('resize', handleResize);
   }, []);
 
   return (
     <div className="absolute inset-0 z-0">
-      <Canvas
-        camera={{ position, fov }}
-        dpr={[1, isMobile ? 1.5 : 2]}
-        gl={{ alpha: transparent }}
-        onCreated={({ gl }) =>
-          gl.setClearColor(new THREE.Color(0x000000), transparent ? 0 : 1)
-        }
-      >
+      <Canvas camera={{ position, fov }} dpr={[1, isMobile ? 1.5 : 2]} gl={{ alpha: true, antialias: true }}
+        onCreated={({ gl }) => { gl.setClearColor(new THREE.Color(0x000000), 0); }}>
         <SceneCleanup />
-        <ambientLight intensity={Math.PI} />
+        <ambientLight intensity={1.5} />
+        <pointLight position={[10, 10, 10]} intensity={2} color="#00BCD4" />
+        <pointLight position={[-10, 5, 5]} intensity={1.5} color="#ffffff" />
 
-        <Physics
-          gravity={gravity}
-          timeStep={isMobile ? 1 / 30 : 1 / 60}
-        >
+        <Physics gravity={gravity} timeStep={isMobile ? 1 / 30 : 1 / 60}>
           <Band isMobile={isMobile} />
         </Physics>
 
-        <Environment blur={0.75}>
-          <Lightformer
-            intensity={2}
-            color="white"
-            position={[0, -1, 5]}
-            rotation={[0, 0, Math.PI / 3]}
-            scale={[100, 0.1, 1]}
-          />
-          <Lightformer
-            intensity={3}
-            color="white"
-            position={[-1, -1, 1]}
-            rotation={[0, 0, Math.PI / 3]}
-            scale={[100, 0.1, 1]}
-          />
-          <Lightformer
-            intensity={3}
-            color="white"
-            position={[1, 1, 1]}
-            rotation={[0, 0, Math.PI / 3]}
-            scale={[100, 0.1, 1]}
-          />
-          <Lightformer
-            intensity={10}
-            color="white"
-            position={[-10, 0, 14]}
-            rotation={[0, Math.PI / 2, Math.PI / 3]}
-            scale={[100, 10, 1]}
-          />
-        </Environment>
+        {/* Production-ready lighting fallback (replaces external HDR Environment) */}
+        <group>
+          <Lightformer intensity={0.5} color="white" position={[0, 5, 5]} scale={[10, 10, 1]} />
+          <Lightformer intensity={2} color="#00BCD4" position={[-5, 2, -1]} scale={[10, 1, 1]} />
+          <Lightformer intensity={2} color="white" position={[5, -2, -1]} scale={[10, 1, 1]} />
+        </group>
       </Canvas>
     </div>
   );
diff --git a/src/components/MasterExperience.tsx b/src/components/MasterExperience.tsx
index 90de37d..2ca2e79 100644
--- a/src/components/MasterExperience.tsx
+++ b/src/components/MasterExperience.tsx
@@ -4,7 +4,7 @@ import gsap from 'gsap';
 import { ScrollTrigger } from 'gsap/ScrollTrigger';
 import { safeNavigate } from '@/lib/utils';
 import { useReducedMotion } from '@/hooks/useReducedMotion';
-import FluidMaskCursor from '@/components/FluidMaskCursor';
+import GooeyRevealMask from '@/components/GooeyRevealMask';
 
 // Module preview images
 import resaleTech from '@/assets/resale-tech.jpg';
@@ -15,8 +15,6 @@ const academicsPreview = '/Academics.jpg';
 // Components
 const Portal3D = lazy(() => import('@/components/Portal3D'));
 
-// ScrollTrigger registered in lib/gsap-init.ts
-
 interface Module {
   id: string;
   number: string;
@@ -27,164 +25,52 @@ interface Module {
 }
 
 const modules: Module[] = [
-  {
-    id: 'resale',
-    number: '01',
-    title: 'RESOURCE RESALE',
-    subtitle: 'VERIFIED P2P EXCHANGE',
-    preview: resaleTech,
-    path: '/resale',
-  },
-  {
-    id: 'accommodation',
-    number: '02',
-    title: 'ACCOMMODATION',
-    subtitle: 'PRIVACY-FIRST DISCOVERY',
-    preview: housingHandover,
-    path: '/accommodation',
-  },
-  {
-    id: 'essentials',
-    number: '03',
-    title: 'ESSENTIALS',
-    subtitle: 'HEALTHCARE & FOOD GUIDE',
-    preview: essentialsTiffin,
-    path: '/essentials',
-  },
-  {
-    id: 'academics',
-    number: '04',
-    title: 'ACADEMICS HUB',
-    subtitle: 'CENTRALIZED SYLLABUS & NOTES',
-    preview: academicsPreview,
-    path: '/academics',
-  },
-  {
-    id: 'mess',
-    number: '05',
-    title: 'MESS & TIFFIN',
-    subtitle: 'FOOD SERVICES DIRECTORY',
-    preview: essentialsTiffin,
-    path: '/mess',
-  },
-  {
-    id: 'hospital',
-    number: '06',
-    title: 'HEALTHCARE',
-    subtitle: 'MEDICAL SERVICES NEARBY',
-    preview: housingHandover,
-    path: '/hospital',
-  },
+  { id: 'academics', number: '01', title: 'ACADEMICS', subtitle: 'RESOURCES & NOTES', preview: academicsPreview, path: '/academics' },
+  { id: 'accommodation', number: '02', title: 'ACCOMMODATION', subtitle: 'STAY & DISCOVERY', preview: housingHandover, path: '/accommodation' },
+  { id: 'essentials', number: '03', title: 'ESSENTIALS', subtitle: 'MESS & HEALTHCARE', preview: essentialsTiffin, path: '/essentials' },
+  { id: 'resale', number: '04', title: 'RESALE', subtitle: 'P2P EXCHANGE', preview: resaleTech, path: '/resale' },
 ];
 
-/* ΓöÇΓöÇ Extracted module nav: hover state stays local, avoids full MasterExperience re-render ΓöÇΓöÇ */
-const ModuleNavPanel = memo(function ModuleNavPanel({
-  modules,
-  onModuleClick,
-}: {
-  modules: Module[];
-  onModuleClick: (path: string) => void;
-}) {
+const ModuleNavPanel = memo(function ModuleNavPanel({ modules, onModuleClick }: { modules: Module[]; onModuleClick: (path: string) => void; }) {
   const [activeModule, setActiveModule] = useState<string | null>(null);
-
-  const handleModuleHover = (moduleId: string | null) => {
-    if (moduleId !== activeModule) {
-      setActiveModule(moduleId);
-    }
-  };
+  const handleModuleHover = (moduleId: string | null) => { if (moduleId !== activeModule) setActiveModule(moduleId); };
 
   return (
     <div className="w-full h-full flex flex-row items-stretch">
-      {/* ΓöÇΓöÇΓöÇ Left Column: Module List (~60%) ΓöÇΓöÇΓöÇ */}
-      <div className="w-full lg:w-[62%] h-full flex flex-col justify-center px-8 md:px-12 lg:px-16">
-        {/* Header */}
-        <div className="module-item mb-10 border-l-2 border-primary pl-6">
-          <p className="text-primary text-[10px] font-mono uppercase tracking-[0.4em] mb-2">
-            SYS_CORE_MODULES // FIXED_REVEAL
-          </p>
-        </div>
-
-        {/* Module nav list */}
-        <nav className="flex flex-col gap-0">
-          {modules.map((module) => (
-            <div
-              key={module.id}
-              className="module-item group relative cursor-pointer"
-              role="button"
-              tabIndex={0}
-              aria-label={`Navigate to ${module.title}`}
-              onMouseEnter={() => handleModuleHover(module.id)}
-              onMouseLeave={() => handleModuleHover(null)}
-              onClick={() => onModuleClick(module.path)}
-              onKeyDown={(e) => {
-                if (e.key === 'Enter' || e.key === ' ') {
-                  e.preventDefault();
-                  onModuleClick(module.path);
-                }
-              }}
-            >
-              <div className="flex items-center gap-6 md:gap-8 py-6 md:py-8 px-4 group-hover:bg-white/[0.03] transition-all duration-300">
-                {/* Number */}
-                <span className={`font-mono text-lg md:text-xl transition-all duration-400 shrink-0 w-10 ${activeModule === module.id ? 'text-[#a3ff12] opacity-100' : 'text-portal-foreground/20'}`}>
-                  {module.number}
-                </span>
-
-                {/* Title + Subtitle */}
-                <div className="flex-1">
-                  <h3 className={`text-module-title transition-all duration-400 will-change-transform ${activeModule === module.id ? 'text-[#a3ff12]' : 'text-portal-foreground'}`}>
-                    {module.title}
-                  </h3>
-                  <p className={`text-[10px] md:text-xs font-mono tracking-[0.3em] uppercase mt-2 transition-all duration-400 ${activeModule === module.id ? 'text-white/50' : 'text-white/10'}`}>
-                    {module.subtitle}
-                  </p>
+      <div className="w-full lg:w-[62%] h-full flex flex-col justify-center">
+        <div className="max-w-[900px] w-full px-12 md:px-20 lg:px-24">
+          <div className="module-item mb-6 border-l-2 border-[#a3ff12] pl-6 opacity-60">
+            <p className="text-[#a3ff12] text-[10px] font-mono uppercase tracking-[0.4em] mb-1">CORE_SYST_V_01 // SECURE_LINK</p>
+          </div>
+          <nav className="flex flex-col gap-1 md:gap-2">
+            {modules.map((module) => (
+              <div key={module.id} className="module-item group relative cursor-pointer" role="button" tabIndex={0} onMouseEnter={() => handleModuleHover(module.id)} onMouseLeave={() => handleModuleHover(null)} onClick={() => onModuleClick(module.path)}>
+                <div className="flex items-center gap-6 md:gap-8 py-4 md:py-6 px-4 md:px-6 group-hover:bg-white/[0.04] transition-all duration-500">
+                  <span className={`font-mono text-base md:text-lg transition-all duration-500 shrink-0 w-8 ${activeModule === module.id ? 'text-[#a3ff12] opacity-100' : 'text-portal-foreground/15'}`}>{module.number}</span>
+                  <div className="flex-1">
+                    <h3 className={`text-4xl md:text-5xl lg:text-7xl font-display font-bold uppercase transition-all duration-500 leading-[0.8] tracking-[-0.05em] translate-z-0 will-change-transform ${activeModule === module.id ? 'text-[#a3ff12] scale-[1.01] translate-x-3' : 'text-portal-foreground opacity-80'}`}>{module.title}</h3>
+                    <p className={`text-[10px] md:text-[11px] font-mono tracking-[0.4em] uppercase mt-2 transition-all duration-500 ${activeModule === module.id ? 'text-white/50' : 'text-white/5'}`}>{module.subtitle}</p>
+                  </div>
+                  <span className={`text-[#a3ff12] font-mono text-2xl md:text-3xl transition-all duration-400 shrink-0 ${activeModule === module.id ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-6'}`}>ΓåÆ</span>
                 </div>
-
-                {/* Arrow */}
-                <span className={`text-[#a3ff12] font-mono text-3xl md:text-4xl transition-all duration-300 shrink-0 ${activeModule === module.id ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-2'}`}>
-                  ΓåÆ
-                </span>
+                <div className={`h-px w-full transition-all duration-500 ${activeModule === module.id ? 'bg-[#a3ff12]/30' : 'bg-white/5'}`} />
               </div>
-
-              {/* Divider */}
-              <div className={`h-px w-full transition-all duration-500 ${activeModule === module.id ? 'bg-[#a3ff12]/30' : 'bg-white/5'}`} />
-            </div>
-          ))}
-        </nav>
+            ))}
+          </nav>
+        </div>
       </div>
-
-      {/* ΓöÇΓöÇΓöÇ Right Column: Preview Image (~38%) ΓöÇΓöÇΓöÇ */}
-      <div className="hidden lg:flex w-[38%] h-full items-center justify-center p-6 lg:p-10">
-        <div className="relative w-full max-w-lg aspect-[4/3]">
-          {modules.map((module) => (
-            <div
-              key={module.id}
-              className={`absolute inset-0 transition-all duration-500 ${activeModule === module.id ? 'opacity-100 scale-100' : 'opacity-0 scale-95'}`}
-            >
-              <div className="hud-image-box w-full h-full rounded-none">
-                <img
-                  src={module.preview}
-                  alt={module.title}
-                  className="w-full h-full object-cover"
-                  loading="lazy"
-                  width={400}
-                  height={300}
-                />
-                <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent" />
-                <div className="absolute inset-0 bg-gradient-to-b from-black/40 to-transparent" />
-              </div>
-              {/* Label below image */}
-              <div className="mt-3 flex items-center gap-2">
-                <span className="text-[#a3ff12] font-mono text-[10px] tracking-wider">[{module.number}]</span>
-                <span className="text-white/40 font-mono text-[10px] tracking-widest uppercase">{module.title}</span>
+      <div className="hidden lg:flex w-[38%] h-full items-center justify-center p-6 lg:p-14">
+        <div className="relative w-full max-w-md aspect-square">
+          {modules.map((module) => activeModule === module.id && (
+            <div key={module.id} className="absolute inset-0 transition-all duration-500 opacity-100 scale-100">
+              <div className="hud-image-box w-full h-full rounded-none overflow-hidden">
+                <img src={module.preview} alt={module.title} className="w-full h-full object-cover grayscale-[0.2]" loading="lazy" />
+                <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent" />
               </div>
             </div>
           ))}
-
-          {/* Placeholder when nothing hovered */}
           <div className={`absolute inset-0 border border-dashed border-white/10 flex items-center justify-center transition-opacity duration-300 ${activeModule ? 'opacity-0' : 'opacity-100'}`}>
-            <p className="text-white/10 font-mono text-[10px] tracking-widest uppercase">
-              Hover a module
-            </p>
+            <p className="text-white/5 font-mono text-[9px] tracking-widest uppercase italic">Awaiting Module Selection...</p>
           </div>
         </div>
       </div>
@@ -192,134 +78,15 @@ const ModuleNavPanel = memo(function ModuleNavPanel({
   );
 });
 
-/* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-   Hover-Reveal Fluid Splash ΓÇö Stacked Text Architecture
-
-   Two identical text layers stacked perfectly:
-   ΓöîΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÉ
-   Γöé  Layer 1 ΓÇö REVEAL (z-10)                     Γöé
-   Γöé  Black bg + Cyan/teal text + nav mirrors     Γöé
-   Γöé  Hidden underneath, exposed by fluid mask    Γöé
-   Γö£ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöñ
-   Γöé  Layer 2 ΓÇö BASE (z-20, mask-image)            Γöé
-   Γöé  White bg + Black text + nav mirrors          Γöé
-   Γöé  CSS mask-image erases where fluid flows,     Γöé
-   Γöé  revealing the dark layer beneath.            Γöé
-   Γö£ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöñ
-   Γöé  FluidMaskCursor (hidden 256├ù256 canvas)      Γöé
-   Γöé  Navier-Stokes sim ΓåÆ toDataURL ΓåÆ mask-image  Γöé
-   ΓööΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÿ
-   On hover, fluid trails follow the cursor with inertia,
-   creating soft, deforming, morphing edges that gently
-   reveal the dark layerΓÇÖs cyan text through the white cover.
-   ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ */
-
-/* Shared hero content rendered twice ΓÇö once normal, once inverted.
-   Includes BErozgar logo + Menu button duplicates so the splash
-   effect works on the nav elements too. */
-function HeroContent({
-  heroTopRef,
-  heroMiddleRef,
-  heroBottomRef,
-  inverted = false,
-}: {
-  heroTopRef?: React.RefObject<HTMLDivElement | null>;
-  heroMiddleRef?: React.RefObject<HTMLDivElement | null>;
-  heroBottomRef?: React.RefObject<HTMLDivElement | null>;
-  inverted?: boolean;
-}) {
-  // Use explicit colors instead of CSS variables to ensure visibility
+function HeroContent({ heroTopRef, heroMiddleRef, heroBottomRef, inverted = false }: { heroTopRef?: React.RefObject<HTMLDivElement | null>; heroMiddleRef?: React.RefObject<HTMLDivElement | null>; heroBottomRef?: React.RefObject<HTMLDivElement | null>; inverted?: boolean; }) {
   const textColor = inverted ? 'text-[#00BFFF]' : 'text-black';
-  const subTextColor = inverted ? 'text-[#00BFFF]/40' : 'text-black/30';
-  const subTextAccent = inverted ? 'text-[#00BFFF]' : 'text-black';
-  const borderColor = inverted ? 'bg-[#00BFFF]/20' : 'bg-black/20';
-  const fgClass = inverted ? 'border-[#00BFFF]' : 'border-black';
   const fgBg = inverted ? 'bg-[#00BFFF]' : 'bg-black';
-
   return (
-    <div className="absolute inset-0 flex flex-col items-center justify-center p-6 md:p-12">
-      {/* ΓöÇΓöÇ Nav-mirror: BErozgar logo (top-left) ΓöÇΓöÇ */}
-      <div className="absolute top-6 left-6 md:left-12 flex items-center gap-2 z-10">
-        <div className={`w-8 h-8 border-2 ${fgClass} rotate-45 flex items-center justify-center`}>
-          <div className={`w-3 h-3 ${fgBg}`} />
-        </div>
-        <span className={`hidden md:block uppercase font-display font-bold text-xl tracking-tight ${textColor}`}>
-          BErozgar
-        </span>
-      </div>
-
-      {/* ΓöÇΓöÇ Nav-mirror: section indicator (top-center) ΓöÇΓöÇ */}
-      <div className="absolute top-6 left-1/2 -translate-x-1/2 hidden md:flex items-center gap-4 z-10">
-        <div className={`h-px w-12 ${inverted ? 'bg-background/30' : 'bg-foreground/30'}`} />
-        <span className={`text-xs uppercase tracking-widest opacity-60 font-body ${textColor}`}>
-          Welcome
-        </span>
-        <div className={`h-px w-12 ${inverted ? 'bg-background/30' : 'bg-foreground/30'}`} />
-      </div>
-
-      {/* ΓöÇΓöÇ Nav-mirror: Menu button (top-right) ΓöÇΓöÇ */}
-      <div className="absolute top-6 right-6 md:right-12 flex items-center gap-3 z-10">
-        <span className={`text-xs uppercase tracking-widest opacity-60 font-body ${textColor}`}>
-          Menu
-        </span>
-        <div className="relative w-8 h-8 flex items-center justify-center">
-          <span className={`absolute block w-6 h-0.5 ${fgBg} -translate-y-1.5`} />
-          <span className={`absolute block w-6 h-0.5 ${fgBg} translate-y-1.5`} />
-        </div>
-      </div>
-
-      {/* ΓöÇΓöÇ Hero text ΓöÇΓöÇ */}
-      <div className="relative w-full max-w-[85vw] h-full flex flex-col items-center justify-center" style={{ gap: 0 }}>
-        {/* Row 1: TRUST */}
-        <div ref={heroTopRef || undefined} className="will-change-transform">
-          <span className={`text-hero-massive ${textColor} whitespace-nowrap select-none block`}>
-            TRUST
-          </span>
-        </div>
-
-        {/* Row 2: CENTRIC */}
-        <div ref={heroMiddleRef || undefined} className="will-change-transform">
-          <span className={`text-hero-massive ${textColor} whitespace-nowrap select-none block`}>
-            CENTRIC
-          </span>
-        </div>
-
-        {/* Row 3: EXCHANGE */}
-        <div ref={heroBottomRef || undefined} className="will-change-transform">
-          <span className={`text-hero-massive ${textColor} whitespace-nowrap select-none block`}>
-            EXCHANGE
-          </span>
-        </div>
-
-        {/* Side description */}
-        <div className="absolute right-0 top-[15%] max-w-[180px] text-right hidden xl:block opacity-30">
-          <p className={`text-[10px] font-body ${subTextAccent} leading-relaxed uppercase tracking-[0.2em]`}>
-            A student-centric digital ecosystem crafting trust & seamless interactions for campus life since 2026.
-          </p>
-        </div>
-      </div>
-
-      {/* Corner branding */}
-      <div className="absolute bottom-8 left-8">
-        <p className={`text-[10px] font-mono tracking-[0.3em] ${subTextColor} uppercase`}>
-          MCTRGIT // CAMPUS_ECOSYSTEM
-        </p>
-      </div>
-      <div className="absolute bottom-8 right-8">
-        <div className="flex items-center gap-4">
-          <p className={`text-[10px] font-mono tracking-[0.3em] ${subTextColor} uppercase`}>
-            EST. 2026 // v0.1.0
-          </p>
-          <div className={`w-8 h-px ${borderColor}`} />
-        </div>
-      </div>
-
-      {/* Scroll indicator */}
-      <div className={`absolute bottom-0 left-0 w-full h-px ${borderColor}`}>
-        <div
-          className={`h-full ${inverted ? 'bg-background/40' : 'bg-foreground/40'} transition-all duration-300`}
-          style={{ width: '15%' }}
-        />
+    <div className="absolute inset-0 flex flex-col items-center justify-center p-6 md:p-12 overflow-hidden">
+      <div className="relative w-full max-w-[80vw] h-full flex flex-col items-center justify-center -mt-8" style={{ gap: 0 }}>
+        <div ref={heroTopRef || undefined} className="will-change-transform"><span className={`text-[12vw] md:text-[8vw] font-display font-black leading-[0.75] ${textColor} whitespace-nowrap select-none block tracking-[-0.07em]`}>TRUST</span></div>
+        <div ref={heroMiddleRef || undefined} className="will-change-transform -mt-[0.05em]"><span className={`text-[12vw] md:text-[8vw] font-display font-black leading-[0.75] ${textColor} whitespace-nowrap select-none block tracking-[-0.07em]`}>CENTRIC</span></div>
+        <div ref={heroBottomRef || undefined} className="will-change-transform -mt-[0.05em]"><span className={`text-[12vw] md:text-[8vw] font-display font-black leading-[0.75] ${textColor} whitespace-nowrap select-none block tracking-[-0.05em]`}>EXCHANGE</span></div>
       </div>
     </div>
   );
@@ -329,393 +96,76 @@ const MasterExperience = () => {
   const containerRef = useRef<HTMLDivElement>(null);
   const stickyRef = useRef<HTMLDivElement>(null);
   const portalRef = useRef<HTMLDivElement>(null);
-
-  // Base layer refs (for GSAP scroll animations ΓÇö on the white/black text layer)
   const heroTopRef = useRef<HTMLDivElement>(null);
   const heroMiddleRef = useRef<HTMLDivElement>(null);
   const heroBottomRef = useRef<HTMLDivElement>(null);
-
-  // Reveal layer refs (for GSAP scroll animations ΓÇö on the black/cyan text layer)
   const heroTopRevealRef = useRef<HTMLDivElement>(null);
   const heroMiddleRevealRef = useRef<HTMLDivElement>(null);
   const heroBottomRevealRef = useRef<HTMLDivElement>(null);
-
-  // Base layer ref for applying the fluid mask
   const baseLayerRef = useRef<HTMLDivElement>(null);
-
   const modulesRef = useRef<HTMLDivElement>(null);
   const symbolRef = useRef<HTMLDivElement>(null);
   const scrollProgressRef = useRef(0);
   const navigate = useNavigate();
   const location = useLocation();
-  
-  const prefersReducedMotion = useReducedMotion();
-
   const [isHeavyMounted, setIsHeavyMounted] = useState(false);
 
-  // Fluid mask URL ΓÇö updated ~30fps by FluidMaskCursor
-  const maskUrlRef = useRef<string>('');
-
-  // Callback: receives the inverted luminance mask data URL from FluidMaskCursor
-  // and applies it directly to the base layer's mask-image CSS property.
-  // Uses ref + direct DOM mutation to avoid React re-renders at 30fps.
-  const handleMaskFrame = useCallback((dataUrl: string) => {
-    maskUrlRef.current = dataUrl;
-    if (baseLayerRef.current) {
-      baseLayerRef.current.style.maskImage = `url(${dataUrl})`;
-      baseLayerRef.current.style.webkitMaskImage = `url(${dataUrl})`;
-    }
-  }, []);
-  
-  // Reset scroll position BEFORE paint to ensure GSAP starts at 0%
-  // Must use useLayoutEffect to run before browser restores scroll
   useLayoutEffect(() => {
-    // Disable browser scroll restoration to prevent mid-page load
-    const prevScrollRestoration = history.scrollRestoration;
-    if ('scrollRestoration' in history) {
-      history.scrollRestoration = 'manual';
-    }
-    // Immediately scroll to top before GSAP initializes
     window.scrollTo(0, 0);
-    
-    // Set explicit initial states for portal (prevents "end state" flash)
-    if (portalRef.current) {
-      portalRef.current.style.width = 'clamp(120px, 16vw, 220px)';
-      portalRef.current.style.height = 'clamp(100px, 13vw, 180px)';
-    }
-    if (stickyRef.current) {
-      stickyRef.current.style.backgroundColor = '#ffffff';
-    }
-    
-    // Delay ScrollTrigger refresh to next frame so DOM has settled
-    const rafId = requestAnimationFrame(() => {
-      ScrollTrigger.refresh();
-    });
-
-    return () => {
-      cancelAnimationFrame(rafId);
-      // Restore browser scroll restoration so other pages work correctly
-      if ('scrollRestoration' in history) {
-        history.scrollRestoration = prevScrollRestoration;
-      }
-    };
-  }, []);
-
-  useEffect(() => {
-    // Delay heavy component mounting briefly to allow page transition curtain to start
-    // New curtain transition is ~0.9s total ΓÇö start WebGL at 300ms to overlap
-    const timer = setTimeout(() => {
-      setIsHeavyMounted(true);
-    }, 300);
-    
+    if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
+    const timer = setTimeout(() => setIsHeavyMounted(true), 200);
     return () => clearTimeout(timer);
   }, []);
 
-  const handleModuleClick = useCallback((path: string) => {
-    safeNavigate(navigate, location.pathname, path, { replace: false });
-  }, [navigate, location.pathname]);
+  const handleModuleClick = useCallback((path: string) => safeNavigate(navigate, location.pathname, path, { replace: false }), [navigate, location.pathname]);
 
-  // useLayoutEffect for GSAP animations to prevent flash of unstyled content
   useLayoutEffect(() => {
-    // Reduced-motion users still get scroll-driven navigation,
-    // but with instant response (scrub: true) instead of smooth interpolation.
-    // With Lenis providing smooth scroll input, a tighter scrub (0.8)
-    // keeps the animation responsive while silky. Reduced-motion: instant.
-    const scrubValue = prefersReducedMotion ? true : 0.8;
-    
     const ctx = gsap.context(() => {
-      // Ultra-smooth cinematic scroll ΓÇö cappen.com style
-      // Lenis normalizes raw wheel deltas into continuous interpolated values,
-      // GSAP scrub smoothly maps those to the timeline position.
-      const tl = gsap.timeline({
-        scrollTrigger: {
-          trigger: containerRef.current,
-          start: 'top top',
-          end: 'bottom bottom',
-          scrub: scrubValue,
-          invalidateOnRefresh: true,
-          onUpdate: (self) => {
-            // Feed scroll progress to Portal3D for rotation acceleration
-            scrollProgressRef.current = self.progress;
-          },
-        },
-        defaults: { immediateRender: false },
-      });
-
-      // Phase 1: Background ΓÇö slow elegant fade to black
-      tl.fromTo(
-        stickyRef.current,
-        { backgroundColor: '#ffffff' },
-        {
-          backgroundColor: '#000000',
-          duration: 0.18,
-          ease: 'none',
-        },
-        0.0
-      );
-
-      // Phase 2: Text departure ΓÇö dreamy parallax float
-      // Cappen-style: elements drift away gently, never snap.
-      // Short travel + long duration + expo ease = floating feeling.
-      // Both base (white) and reveal (dark) layers must move in perfect sync
-      // so the mask alignment stays pixel-perfect during scroll.
-      tl.to(
-        [heroTopRef.current, heroTopRevealRef.current],
-        {
-          y: '-25vh',
-          opacity: 0,
-          duration: 0.35,
-          ease: 'power3.out',
-        },
-        0.02
-      );
-
-      tl.to(
-        [heroMiddleRef.current, heroMiddleRevealRef.current],
-        {
-          y: '-18vh',
-          opacity: 0,
-          duration: 0.33,
-          ease: 'power3.out',
-        },
-        0.04
-      );
-
-      tl.to(
-        [heroBottomRef.current, heroBottomRevealRef.current],
-        {
-          y: '22vh',
-          opacity: 0,
-          duration: 0.35,
-          ease: 'power3.out',
-        },
-        0.03
-      );
-
-      // Phase 3: Portal expansion ΓÇö seamless overlap with text departure
-      // Starts early while text is still floating away.
-      // power3.inOut gives a smooth, luxurious S-curve.
-      tl.fromTo(
-        portalRef.current,
-        {
-          width: 'clamp(120px, 16vw, 220px)',
-          height: 'clamp(100px, 13vw, 180px)',
-        },
-        {
-          width: '100vw',
-          height: '100vh',
-          duration: 0.50,
-          ease: 'power3.inOut',
-        },
-        0.08
-      );
-
-      // Phase 3b: Shield cinematic zoom ΓÇö smooth depth illusion
-      tl.fromTo(
-        symbolRef.current,
-        {
-          scale: 1,
-          rotateZ: 0,
-          z: 0,
-        },
-        {
-          scale: 4.5,
-          rotateZ: -6,
-          z: 60,
-          duration: 0.48,
-          ease: 'power3.inOut',
-          transformPerspective: 1200,
-        },
-        0.08
-      );
-
-      // Phase 4: Modules reveal ΓÇö gentle emergence
-      tl.to(
-        modulesRef.current,
-        {
-          opacity: 1,
-          pointerEvents: 'auto',
-          duration: 0.35,
-          ease: 'power2.out',
-        },
-        0.36
-      );
-
-      const moduleItems = modulesRef.current?.querySelectorAll('.module-item');
-      if (moduleItems) {
-        tl.fromTo(
-          moduleItems,
-          { y: 10, opacity: 0 },
-          {
-            y: 0,
-            opacity: 1,
-            duration: 0.28,
-            stagger: 0.02,
-            ease: 'power2.out',
-          },
-          0.40
-        );
-      }
-
-      // Phase 5: Shield dissolve ΓÇö smooth fade with continued momentum
-      tl.to(
-        symbolRef.current,
-        {
-          opacity: 0,
-          scale: 7,
-          rotateZ: -10,
-          z: 150,
-          duration: 0.22,
-          ease: 'power2.in',
-          transformPerspective: 1200,
-        },
-        0.44
-      );
-    }, containerRef);
-
-    document.body.classList.add('hide-global-cursor');
-
-    return () => {
-      ctx.revert();
-      document.body.classList.remove('hide-global-cursor');
-
-      // Reset inline styles that GSAP `fromTo` leaves behind after ctx.revert().
-      // Without this, toggling prefersReducedMotion mid-session or HMR leaves
-      // elements stuck at their last GSAP-set values.
-      if (stickyRef.current) stickyRef.current.style.backgroundColor = '#ffffff';
-      if (portalRef.current) {
-        portalRef.current.style.width = 'clamp(120px, 16vw, 220px)';
-        portalRef.current.style.height = 'clamp(100px, 13vw, 180px)';
-        portalRef.current.style.transform = 'translateZ(0)';
-      }
-      if (modulesRef.current) {
-        modulesRef.current.style.opacity = '0';
-        modulesRef.current.style.pointerEvents = 'none';
-      }
-      // Reset scroll progress so Portal3D rotation returns to base speed
-      scrollProgressRef.current = 0;
-    };
-  }, [prefersReducedMotion]);
+      const tl = gsap.timeline({ scrollTrigger: { trigger: containerRef.current, start: 'top top', end: 'bottom bottom', scrub: 1, onUpdate: (self) => { scrollProgressRef.current = self.progress; } } });
+      tl.fromTo(stickyRef.current, { backgroundColor: '#ffffff' }, { backgroundColor: '#050505', duration: 0.8 }, 0);
+      tl.to([heroTopRef.current, heroTopRevealRef.current], { y: '-20vh', scale: 0.8, opacity: 0, duration: 1, ease: 'power4.in' }, 0);
+      tl.to([heroMiddleRef.current, heroMiddleRevealRef.current], { y: '-8vh', scale: 0.9, opacity: 0, duration: 1, ease: 'power4.in' }, 0.05);
+      tl.to([heroBottomRef.current, heroBottomRevealRef.current], { y: '20vh', scale: 0.8, opacity: 0, duration: 1, ease: 'power4.in' }, 0.02);
+      tl.fromTo(portalRef.current, { clipPath: 'circle(0% at 50% 50%)' }, { clipPath: 'circle(150% at 50% 50%)', duration: 1.5, ease: 'expo.inOut' }, 0.15);
+      tl.fromTo(symbolRef.current, { scale: 0.4, opacity: 0 }, { scale: 5, z: 120, opacity: 1, duration: 1.2, ease: 'expo.inOut' }, 0.2);
+      tl.to(modulesRef.current, { opacity: 1, pointerEvents: 'auto', duration: 0.4 }, 0.5);
+      const items = modulesRef.current?.querySelectorAll('.module-item');
+      if (items) tl.fromTo(items, { y: 20, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8, stagger: 0.05, ease: 'power3.out' }, 0.6);
+      tl.to(symbolRef.current, { opacity: 0, scale: 10, duration: 0.4 }, 0.8);
+
+      // EXCH-BUG-07: ensure ScrollTrigger recalculates after the portal sequence
+      // to prevent modules from misaligning during or after the zoom.
+      tl.add(() => ScrollTrigger.refresh(), 1.0);
+    });
+    return () => ctx.revert();
+  }, []);
 
   return (
-    <div ref={containerRef} className="h-[350vh]" style={{ backgroundColor: '#ffffff' }}>
-      {/* Sticky Viewport */}
-      <div
-        ref={stickyRef}
-        className="sticky top-0 h-screen w-full overflow-hidden flex items-center justify-center"
-        style={{ backgroundColor: '#ffffff' }}
-      >
-        {/* ============================================
-            LAYER 1 ΓÇö REVEAL: Black bg + Cyan text
-            Hidden underneath the base layer.
-            Exposed where the fluid mask erases the
-            base layer above.
-            ============================================ */}
-        <div className="absolute inset-0 z-10 pointer-events-none bg-black" style={{ transform: 'translateZ(0)' }}>
-          <HeroContent
-            heroTopRef={heroTopRevealRef}
-            heroMiddleRef={heroMiddleRevealRef}
-            heroBottomRef={heroBottomRevealRef}
-            inverted={true}
-          />
+    <div ref={containerRef} className="h-[250vh] bg-white">
+      <div ref={stickyRef} className="sticky top-0 h-screen w-full overflow-hidden">
+        {/* Real Live Preview: Splash Simulation Overlay */}
+        <div className="absolute inset-0 z-10 bg-black">
+          <HeroContent heroTopRef={heroTopRevealRef} heroMiddleRef={heroMiddleRevealRef} heroBottomRef={heroBottomRevealRef} inverted={true} />
         </div>
 
-        {/* ============================================
-            LAYER 2 ΓÇö BASE: White bg + Black text
-            Sits on top of the reveal layer. CSS
-            mask-image (driven by the fluid sim)
-            erases this layer where the cursor flows,
-            revealing the cyan text beneath.
-            mask-mode: luminance ΓÇö white = visible,
-            black = erased.
-            ============================================ */}
-        <div
-          ref={baseLayerRef}
-          className="absolute inset-0 z-20 pointer-events-none bg-white"
-          style={{
-            transform: 'translateZ(0)',
-            maskSize: 'cover',
-            WebkitMaskSize: 'cover',
-            maskMode: 'luminance',
-            // @ts-expect-error ΓÇö webkit prefix needed for Safari
-            WebkitMaskMode: 'luminance',
-            maskRepeat: 'no-repeat',
-            WebkitMaskRepeat: 'no-repeat',
-          }}
-        >
-          <HeroContent
-            heroTopRef={heroTopRef}
-            heroMiddleRef={heroMiddleRef}
-            heroBottomRef={heroBottomRef}
-            inverted={false}
-          />
+        {isHeavyMounted && <GooeyRevealMask maskId="gooey-fluid" />}
+
+        <div ref={baseLayerRef} className="absolute inset-0 z-20 bg-white" style={{
+          transform: 'translateZ(0)',
+          mask: 'url(#gooey-fluid)',
+          WebkitMask: 'url(#gooey-fluid)',
+          maskMode: 'luminance',
+          WebkitMaskMode: 'luminance',
+          willChange: 'mask, -webkit-mask'
+        }}>
+          <HeroContent heroTopRef={heroTopRef} heroMiddleRef={heroMiddleRef} heroBottomRef={heroBottomRef} inverted={false} />
         </div>
-
-        {/* ============================================
-            FluidMaskCursor ΓÇö Hidden 256├ù256 WebGL canvas
-            Navier-Stokes fluid sim ΓåÆ inverted luminance
-            ΓåÆ toDataURL('image/webp') at 30fps ΓåÆ feeds
-            handleMaskFrame ΓåÆ applied as CSS mask-image
-            on the base layer above.
-            ============================================ */}
-        <FluidMaskCursor
-          onMaskFrame={handleMaskFrame}
-          paused={!isHeavyMounted}
-        />
-
-        {/* Z-30: The Portal ΓÇö auto-centered via inset+margin */}
-        <div
-          ref={portalRef}
-          className="absolute z-30 bg-portal will-change-[width,height] overflow-hidden flex items-center justify-center"
-          style={{
-            width: 'clamp(120px, 16vw, 220px)',
-            height: 'clamp(100px, 13vw, 180px)',
-            inset: '0',
-            margin: 'auto',
-            transform: 'translateZ(0)',
-          }}
-        >
-          {/* Symbol - centered via flexbox, transform-origin center */}
-          <div
-            ref={symbolRef}
-            className="flex items-center justify-center flex-shrink-0 will-change-transform"
-            style={{
-              width: 'clamp(100px, 14vw, 180px)',
-              height: 'clamp(100px, 14vw, 180px)',
-              transformOrigin: 'center center',
-              transformStyle: 'preserve-3d',
-            }}
-          >
-            {/* Mount guard: Portal3D only mounts after page transition completes
-                to prevent GSAP + WebGL conflicts during navigation */}
-            {isHeavyMounted ? (
-              <Suspense
-                fallback={
-                  <div className="relative w-full h-full animate-spin-slow">
-                    <div className="absolute inset-0 border-2 border-portal-foreground/40 rotate-45" />
-                    <div className="absolute inset-2 border border-portal-foreground/25 rotate-12 animate-pulse" />
-                    <div className="absolute inset-4 bg-portal-foreground/15 rotate-45" />
-                  </div>
-                }
-              >
-                <Portal3D scrollProgressRef={scrollProgressRef} />
-              </Suspense>
-            ) : (
-              <div className="relative w-full h-full animate-spin-slow">
-                <div className="absolute inset-0 border-2 border-portal-foreground/40 rotate-45" />
-                <div className="absolute inset-2 border border-portal-foreground/25 rotate-12 animate-pulse" />
-                <div className="absolute inset-4 bg-portal-foreground/15 rotate-45" />
-              </div>
-            )}
+        <div ref={portalRef} className="absolute inset-0 z-30 bg-portal flex items-center justify-center" style={{ clipPath: 'circle(0% at 50% 50%)' }}>
+          <div ref={symbolRef} className="will-change-transform" style={{ width: '160px', height: '160px', transformStyle: 'preserve-3d' }}>
+            {isHeavyMounted && <Suspense fallback={null}><Portal3D scrollProgressRef={scrollProgressRef} /></Suspense>}
           </div>
         </div>
-
-        {/* Z-40: Modules Content Layer */}
-        <div
-          ref={modulesRef}
-          className="absolute inset-0 z-40 flex opacity-0 will-change-[opacity,transform] bg-portal"
-          style={{ pointerEvents: 'none', transform: 'translateZ(0)' }}
-        >
+        <div ref={modulesRef} className="absolute inset-0 z-40 bg-portal opacity-0 pointer-events-none">
           <ModuleNavPanel modules={modules} onModuleClick={handleModuleClick} />
         </div>
       </div>
diff --git a/src/components/PageTransition.tsx b/src/components/PageTransition.tsx
index 72b798d..1ff527c 100644
--- a/src/components/PageTransition.tsx
+++ b/src/components/PageTransition.tsx
@@ -157,6 +157,8 @@ const PageTransition = ({ children }: PageTransitionProps) => {
         timelineRef.current = null;
       }
       ctx.revert();
+      // ISSUE-04 fix: always unlock navigation on cleanup ΓÇö idempotent, safe to call twice
+      unlockNavigation();
       // Safety: ensure container is always visible after cleanup
       if (container) {
         container.style.opacity = '1';
@@ -177,7 +179,7 @@ const PageTransition = ({ children }: PageTransitionProps) => {
       displayLocationRef.current = location.pathname;
       return;
     }
-    
+
     // Only trigger transition if the route actually changed
     if (location.pathname !== displayLocationRef.current && !isTransitioning) {
       lockNavigation(2000);
@@ -201,7 +203,8 @@ const PageTransition = ({ children }: PageTransitionProps) => {
           transform: 'scaleY(0)',
           transformOrigin: 'top',
           backgroundColor: '#0a0a0a',
-          willChange: 'transform',
+          // PERF-07: no static willChange ΓÇö avoids idle GPU layer promotion.
+          // GSAP manages will-change internally during the animation.
         }}
       >
         {/* Subtle center label during transition */}
@@ -216,7 +219,7 @@ const PageTransition = ({ children }: PageTransitionProps) => {
           </div>
         </div>
       </div>
-      
+
       {/* Page content */}
       <div
         ref={containerRef}
diff --git a/src/components/ProtectedRoute.tsx b/src/components/ProtectedRoute.tsx
index 20e2100..148793a 100644
--- a/src/components/ProtectedRoute.tsx
+++ b/src/components/ProtectedRoute.tsx
@@ -45,7 +45,7 @@ const ProtectedRoute = ({ children, allowedRoles }: ProtectedRouteProps) => {
   // Use hardcoded white bg to prevent black flash in dark theme
   if (!isHydrated || isLoading) {
     return (
-      <div className="fixed inset-0 flex items-center justify-center bg-white">
+      <div className="fixed inset-0 flex items-center justify-center bg-background">
         <div className="w-6 h-6 border-2 border-foreground/30 border-t-foreground rounded-full animate-spin" role="status" aria-label="Loading">
           <span className="sr-only">LoadingΓÇª</span>
         </div>
diff --git a/src/components/ResourceListingForm.tsx b/src/components/ResourceListingForm.tsx
index dee972c..e3b7320 100644
--- a/src/components/ResourceListingForm.tsx
+++ b/src/components/ResourceListingForm.tsx
@@ -291,7 +291,11 @@ const ResourceListingForm = ({ moduleName, moduleColor = "#00d4aa", onSuccess }:
 
                                 <Button
                                     type="button"
-                                    onClick={() => setStep(2)}
+                                    onClick={async () => {
+                                        // UX-07: validate Step 1 fields before advancing
+                                        const isValid = await form.trigger(['title', 'category', 'price', 'description']);
+                                        if (isValid) setStep(2);
+                                    }}
                                     className="w-full bg-white hover:bg-primary text-black font-bold h-14 rounded-none group transition-all duration-500"
                                 >
                                     NEXT PHASE <ArrowRight className="ml-2 w-4 h-4 group-hover:translate-x-1" />
@@ -377,11 +381,10 @@ const ResourceListingForm = ({ moduleName, moduleColor = "#00d4aa", onSuccess }:
                                     <Button
                                         type="submit"
                                         disabled={!canPerform('CREATE_LISTING')}
-                                        className={`h-14 rounded-none font-bold relative overflow-hidden group transition-all duration-500 ${
-                                            canPerform('CREATE_LISTING')
+                                        className={`h-14 rounded-none font-bold relative overflow-hidden group transition-all duration-500 ${canPerform('CREATE_LISTING')
                                                 ? 'bg-primary hover:bg-teal-400 text-black'
                                                 : 'bg-primary/30 text-black/50 cursor-not-allowed'
-                                        }`}
+                                            }`}
                                     >
                                         <span className="relative z-10 flex items-center">
                                             MANIFEST LISTING <CheckCircle2 className="ml-2 w-4 h-4" />
diff --git a/src/components/SplitText.tsx b/src/components/SplitText.tsx
index 0623179..1c212bc 100644
--- a/src/components/SplitText.tsx
+++ b/src/components/SplitText.tsx
@@ -23,6 +23,9 @@ const SplitText = ({
   stagger = 0.03,
   trigger = 'scroll',
 }: SplitTextProps) => {
+  // Empty guard ΓÇö avoid rendering invisible zero-width characters
+  if (!children || !children.trim()) return null;
+
   const containerRef = useRef<HTMLDivElement>(null);
   const textRef = useRef<HTMLSpanElement>(null);
 
@@ -119,7 +122,12 @@ const SplitText = ({
         {splitElements.map((el, i) => (
           <span key={`${el}-${i}`}>
             {type === 'words' && i > 0 && <span className="inline-block">&nbsp;</span>}
-            <span className="split-element inline-block" style={{ opacity: 0 }}>
+            {/* split-text-char class + data-split-text attr: targeted by index.css reduced-motion reset */}
+            <span
+              className="split-element split-text-char inline-block"
+              data-split-text
+              style={{ opacity: 0 }}
+            >
               {el === ' ' ? '\u00A0' : el}
             </span>
           </span>
diff --git a/src/contexts/AuthContext.tsx b/src/contexts/AuthContext.tsx
index 588ba57..e941b57 100644
--- a/src/contexts/AuthContext.tsx
+++ b/src/contexts/AuthContext.tsx
@@ -138,9 +138,10 @@ export function AuthProvider({ children }: { children: ReactNode }) {
     }
 
     // Validate the session server-side
+    const controller = new AbortController();
     (async () => {
       try {
-        const response = await api.get<AuthMeResponse>('/auth/me');
+        const response = await api.get<AuthMeResponse>('/auth/me', { signal: controller.signal });
         const { user, trust, restriction } = response;
 
         // Update sessionManager's user data with server truth
@@ -155,7 +156,8 @@ export function AuthProvider({ children }: { children: ReactNode }) {
           trust,
           restriction,
         });
-      } catch {
+      } catch (err) {
+        if (err instanceof Error && err.name === 'AbortError') return;
         // Session invalid ΓÇö clear everything
         sessionManager.clearSession();
         clearCsrfToken();
@@ -163,6 +165,7 @@ export function AuthProvider({ children }: { children: ReactNode }) {
         setState({ ...INITIAL_STATE, isHydrated: true });
       }
     })();
+    return () => controller.abort();
   }, []);
 
   // Listen for session events (multi-tab sync, token refresh, etc.)
@@ -177,16 +180,37 @@ export function AuthProvider({ children }: { children: ReactNode }) {
           isHydrated: true,
         }));
       } else if (event === 'logout' || event === 'session-expired') {
+        // AUTH-RACE-02: clear CSRF token and monitoring identity when another
+        // tab logs out or when the token expiry fires ΓÇö not just on user-initiated logout.
+        clearCsrfToken();
+        clearMonitoringUser();
         setState({
           ...INITIAL_STATE,
           isHydrated: true,
         });
+      } else if (event === 'token-refresh') {
+        // AUTH-SESSION-02: proactively refresh the access token before expiry.
+        // SessionManager emits this event ~60s before the JWT expires.
+        // Without this handler the token would silently expire, causing the
+        // next API call to trigger a 401 ΓåÆ handleTokenRefresh ΓåÆ flash of error.
+        api.post<{ accessToken: string }>('/auth/refresh', undefined, { skipAuth: true })
+          .then((res) => {
+            sessionManager.setTokens(res.accessToken);
+          })
+          .catch(() => {
+            // Refresh cookie expired or revoked ΓÇö full logout
+            sessionManager.clearSession();
+            clearCsrfToken();
+            clearMonitoringUser();
+            setState({ ...INITIAL_STATE, isHydrated: true });
+          });
       }
     });
 
     return unsubscribe;
   }, []);
 
+
   const login = useCallback(async (email: string, password: string) => {
     setState((prev) => ({ ...prev, isLoading: true }));
 
@@ -282,7 +306,7 @@ export function AuthProvider({ children }: { children: ReactNode }) {
 
   const logout = useCallback(() => {
     // Fire-and-forget server logout
-    api.post('/auth/logout', undefined, { skipAuth: true }).catch(() => {});
+    api.post('/auth/logout', undefined, { skipAuth: true }).catch(() => { });
     sessionManager.clearSession();
     clearCsrfToken();
     clearMonitoringUser();
diff --git a/src/contexts/ProfileContext.tsx b/src/contexts/ProfileContext.tsx
index a4c77de..3b2dde2 100644
--- a/src/contexts/ProfileContext.tsx
+++ b/src/contexts/ProfileContext.tsx
@@ -42,27 +42,27 @@ const ProfileContext = createContext<ProfileContextType | null>(null);
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
 /**
- * Derives trust level for student profiles.
- * Admin profiles pass through unchanged.
- * Trust is computed dynamically ΓÇö never stored permanently.
+ * Enriches student profiles if necessary.
+ * Trust is already computed on the backend for /profile and /auth/me,
+ * but this serves as a safety net if a legacy path is used.
  */
-function attachTrustIfStudent(profile: Profile): Profile {
+function enrichProfile(profile: Profile): Profile {
   if (!isStudentProfile(profile)) return profile;
 
-  // If trust already present from API, use it
-  if (profile.trust) return profile;
-
-  const trust = computeTrust({
-    completedExchanges: profile.data.exchangesCompleted,
-    cancelledRequests: 0,   // TODO: supply from backend when available
-    disputes: 0,            // TODO: supply from backend when available
-    adminFlags: 0,          // TODO: supply from backend when available
-    accountAgeDays: Math.floor(
-      (Date.now() - new Date(profile.identity.joinedAt).getTime()) / 86_400_000,
-    ),
-  });
-
-  return { ...profile, trust };
+  // If trust is missing (shouldn't happen with new API), we use the data in the profile
+  if (!profile.trust) {
+    profile.trust = computeTrust({
+      completedExchanges: profile.data.exchangesCompleted,
+      cancelledRequests: profile.data.cancelledRequests,
+      disputes: profile.data.disputesCount,
+      adminFlags: profile.data.adminFlags,
+      accountAgeDays: Math.floor(
+        (Date.now() - new Date(profile.identity.joinedAt).getTime()) / 86_400_000,
+      ),
+    });
+  }
+
+  return profile;
 }
 
 /* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
@@ -104,7 +104,7 @@ export function ProfileProvider({ children }: { children: ReactNode }) {
           return;
         }
 
-        const enriched = attachTrustIfStudent(profile);
+        const enriched = enrichProfile(profile);
         setState({ profile: enriched, isLoading: false, error: null });
       } catch (err) {
         if (cancelled) return;
@@ -139,7 +139,7 @@ export function ProfileProvider({ children }: { children: ReactNode }) {
         return;
       }
 
-      const enriched = attachTrustIfStudent(profile);
+      const enriched = enrichProfile(profile);
       setState({ profile: enriched, isLoading: false, error: null });
     } catch (err) {
       const message = err instanceof Error ? err.message : 'Failed to refresh profile';
diff --git a/src/domain/profile.ts b/src/domain/profile.ts
index 1ca6baa..b69678b 100644
--- a/src/domain/profile.ts
+++ b/src/domain/profile.ts
@@ -34,6 +34,10 @@ export interface StudentProfileData {
   valueCirculated: number;   // Γé╣ amount
   activeListings: number;
   reputation: number;        // 0ΓÇô100
+  /** Raw metrics for trust computation */
+  cancelledRequests: number;
+  disputesCount: number;
+  adminFlags: number;
 }
 
 /**
@@ -89,6 +93,9 @@ export const DEFAULT_STUDENT_DATA: StudentProfileData = {
   valueCirculated: 0,
   activeListings: 0,
   reputation: 0,
+  cancelledRequests: 0,
+  disputesCount: 0,
+  adminFlags: 0,
 };
 
 export const DEFAULT_ADMIN_DATA: AdminProfileData = {
diff --git a/src/hooks/api/useApi.ts b/src/hooks/api/useApi.ts
index ad50f3c..3ecc4b1 100644
--- a/src/hooks/api/useApi.ts
+++ b/src/hooks/api/useApi.ts
@@ -525,8 +525,9 @@ export function useUpdateRequestEvent() {
     mutationFn: ({ id, event, idempotencyKey }: { id: string; event: string; idempotencyKey?: string }) =>
       api.patch<ApiResponse<ExchangeRequest>>(`/requests/${id}/event`, { event, idempotencyKey }),
     onMutate: async ({ id, event }) => {
-      // Cancel in-flight queries
+      // EXCH-UI-02: cancel BOTH list and detail queries to prevent in-flight overwrites
       await queryClient.cancelQueries({ queryKey: queryKeys.requests.all });
+      await queryClient.cancelQueries({ queryKey: queryKeys.requests.detail(id) });
 
       // Snapshot for rollback
       const previousRequests = queryClient.getQueryData(queryKeys.requests.all);
@@ -541,10 +542,15 @@ export function useUpdateRequestEvent() {
         CANCEL: 'cancelled',
         WITHDRAW: 'withdrawn',
         DISPUTE: 'disputed',
+        // EXCH-UI-01: RESOLVE was missing ΓÇö admin resolve left UI stuck in 'disputed'
+        RESOLVE: 'resolved',
       };
       const optimisticStatus = optimisticStatusMap[event];
 
       if (optimisticStatus) {
+        const now = new Date().toISOString();
+
+        // Apply to list cache
         queryClient.setQueriesData<ApiResponse<ExchangeRequest[]>>(
           { queryKey: queryKeys.requests.all },
           (old) => {
@@ -552,11 +558,20 @@ export function useUpdateRequestEvent() {
             return {
               ...old,
               data: old.data.map((r) =>
-                r.id === id ? { ...r, status: optimisticStatus, updatedAt: new Date().toISOString() } : r,
+                r.id === id ? { ...r, status: optimisticStatus, updatedAt: now } : r,
               ),
             };
           },
         );
+
+        // EXCH-UI-04: also apply to the detail cache
+        queryClient.setQueryData<ApiResponse<ExchangeRequest>>(
+          queryKeys.requests.detail(id),
+          (old) => {
+            if (!old?.data) return old;
+            return { ...old, data: { ...old.data, status: optimisticStatus, updatedAt: now } };
+          },
+        );
       }
 
       return { previousRequests, previousDetail };
@@ -570,9 +585,11 @@ export function useUpdateRequestEvent() {
         queryClient.setQueryData(queryKeys.requests.detail(id), context.previousDetail);
       }
     },
-    onSettled: () => {
+    onSettled: (_data, _err, { id }) => {
       // Always reconcile with server state
       queryClient.invalidateQueries({ queryKey: queryKeys.requests.all });
+      // EXCH-UI-03: also invalidate the detail query
+      queryClient.invalidateQueries({ queryKey: queryKeys.requests.detail(id) });
       queryClient.invalidateQueries({ queryKey: queryKeys.listings.all });
       queryClient.invalidateQueries({ queryKey: queryKeys.profile });
     },
diff --git a/src/index.css b/src/index.css
index 76a6e35..ace2339 100644
--- a/src/index.css
+++ b/src/index.css
@@ -5,7 +5,8 @@
 @tailwind utilities;
 
 /* ΓöÇΓöÇΓöÇ Lenis smooth scroll ΓöÇΓöÇΓöÇ */
-html.lenis, html.lenis body {
+html.lenis,
+html.lenis body {
   height: auto;
 }
 
@@ -93,13 +94,20 @@ html.lenis, html.lenis body {
     --shadow-strong: 0 20px 50px -12px hsl(0 0% 0% / 0.25);
 
     /* ΓöÇΓöÇΓöÇ Module Accent Tokens ΓöÇΓöÇΓöÇ */
-    --module-accommodation: 188 94% 53%;  /* cyan-400 */
-    --module-mess: 38 92% 56%;            /* amber-400 */
-    --module-hospital: 152 69% 39%;       /* emerald-400 */
-    --module-academics: 263 70% 58%;      /* violet-400 */
-    --module-essentials: 263 70% 58%;     /* violet-400 */
-    --module-resale: 195 100% 50%;        /* matches --primary */
-    --module-emergency: 0 84% 60%;        /* red-500 */
+    --module-accommodation: 188 94% 53%;
+    /* cyan-400 */
+    --module-mess: 38 92% 56%;
+    /* amber-400 */
+    --module-hospital: 152 69% 39%;
+    /* emerald-400 */
+    --module-academics: 263 70% 58%;
+    /* violet-400 */
+    --module-essentials: 263 70% 58%;
+    /* violet-400 */
+    --module-resale: 195 100% 50%;
+    /* matches --primary */
+    --module-emergency: 0 84% 60%;
+    /* red-500 */
 
     /* ΓöÇΓöÇΓöÇ Z-Index Scale ΓöÇΓöÇΓöÇ */
     --z-base: 1;
@@ -111,8 +119,8 @@ html.lenis, html.lenis body {
     --z-nav: 40;
     --z-auth-portal: 50;
     --z-page-transition: 60;
-    --z-cursor: 70;
-    --z-scanline: 100;
+    --z-cursor: 90;
+    --z-scanline: 80;
 
     /* Sidebar - keep defaults */
     --sidebar-background: 0 0% 98%;
@@ -505,6 +513,7 @@ html.lenis, html.lenis body {
    ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
 
 @media (prefers-reduced-motion: reduce) {
+
   *,
   *::before,
   *::after {
@@ -553,6 +562,7 @@ html.lenis, html.lenis body {
   /* Make sure all text is immediately visible */
   .split-text-char,
   .split-text-word,
+  .split-element,
   [data-split-text] {
     opacity: 1 !important;
     transform: none !important;
diff --git a/src/lib/api-client.ts b/src/lib/api-client.ts
index 66339ee..22a66fc 100644
--- a/src/lib/api-client.ts
+++ b/src/lib/api-client.ts
@@ -32,8 +32,18 @@ export function clearCsrfToken() {
   csrfToken = null;
 }
 
-/** Get current CSRF token */
+/** Get current CSRF token ΓÇö reads from the _csrf cookie to stay in sync
+ *  with the server's double-submit cookie pattern. Falls back to in-memory
+ *  token (set by login/verify-otp) if the cookie isn't readable yet. */
 export function getCsrfToken(): string | null {
+  // AUTH-SESSION-03: read the _csrf cookie directly so the X-CSRF-Token
+  // header always matches what the browser will send as the cookie.
+  try {
+    const match = document.cookie.match(/(?:^|;\s*)_csrf=([^;]+)/);
+    if (match?.[1]) return decodeURIComponent(match[1]);
+  } catch {
+    // SSR or cookie access blocked ΓÇö fall through
+  }
   return csrfToken;
 }
 
@@ -141,6 +151,10 @@ async function handleTokenRefresh(): Promise<string> {
 
   isRefreshing = true;
 
+  // AUTH-BUG-03: track whether clearSession has been called to prevent the
+  // double-broadcast race (both !response.ok and catch() both called clearSession).
+  let sessionCleared = false;
+
   try {
     // No need to check for a refresh token ΓÇö it's an httpOnly cookie
     // sent automatically with credentials: 'include'. If there's no
@@ -157,6 +171,7 @@ async function handleTokenRefresh(): Promise<string> {
 
     if (!response.ok) {
       // Refresh failed ΓåÆ full logout
+      sessionCleared = true;
       sessionManager.clearSession();
       throw new ApiError('Session expired', 'UNAUTHORIZED', 401);
     }
@@ -170,7 +185,10 @@ async function handleTokenRefresh(): Promise<string> {
   } catch (err) {
     const error = err instanceof Error ? err : new Error('Token refresh failed');
     processRefreshQueue(error, null);
-    sessionManager.clearSession();
+    // AUTH-BUG-03: only clear if not already cleared above
+    if (!sessionCleared) {
+      sessionManager.clearSession();
+    }
     throw err;
   } finally {
     isRefreshing = false;
@@ -202,8 +220,9 @@ async function request<T>(
   const isStateChanging = ['POST', 'PUT', 'PATCH', 'DELETE'].includes(
     (fetchConfig.method || 'GET').toUpperCase(),
   );
-  if (isStateChanging && csrfToken) {
-    headers.set('X-CSRF-Token', csrfToken);
+  const currentCsrf = getCsrfToken();
+  if (isStateChanging && currentCsrf) {
+    headers.set('X-CSRF-Token', currentCsrf);
   }
 
   // Timeout via AbortController
@@ -227,25 +246,43 @@ async function request<T>(
         const newToken = await handleTokenRefresh();
         headers.set('Authorization', `Bearer ${newToken}`);
 
-        const retryResponse = await fetch(url, {
-          ...fetchConfig,
-          headers,
-          body: body !== undefined ? JSON.stringify(body) : undefined,
-          credentials: 'include',
-        });
-
-        if (!retryResponse.ok) {
-          const errorBody = await retryResponse.json().catch(() => ({}));
-          throw new ApiError(
-            errorBody.message || errorBody.error || retryResponse.statusText,
-            statusToCode(retryResponse.status),
-            retryResponse.status,
-            errorBody.details,
-          );
+        // AUTH-BUG-02: re-read CSRF cookie for state-changing retries
+        const retryCsrf = getCsrfToken();
+        if (isStateChanging && retryCsrf) {
+          headers.set('X-CSRF-Token', retryCsrf);
         }
 
-        const retryData = await retryResponse.json();
-        return retryData as T;
+        // AUTH-BUG-01: create a fresh AbortController for the retry, so the
+        // original timeout signal (already consumed) doesn't immediately abort.
+        const retryController = new AbortController();
+        const retryTimeoutId = setTimeout(() => retryController.abort(), timeout);
+
+        try {
+          const retryResponse = await fetch(url, {
+            ...fetchConfig,
+            headers,
+            body: body !== undefined ? JSON.stringify(body) : undefined,
+            credentials: 'include',
+            signal: retryController.signal,
+          });
+          clearTimeout(retryTimeoutId);
+
+          if (!retryResponse.ok) {
+            const errorBody = await retryResponse.json().catch(() => ({}));
+            throw new ApiError(
+              errorBody.message || errorBody.error || retryResponse.statusText,
+              statusToCode(retryResponse.status),
+              retryResponse.status,
+              errorBody.details,
+            );
+          }
+
+          if (retryResponse.status === 204) return undefined as T;
+          const retryData = await retryResponse.json();
+          return retryData as T;
+        } finally {
+          clearTimeout(retryTimeoutId);
+        }
       } catch (refreshErr) {
         // Refresh failed ΓÇö propagate as 401
         throw refreshErr instanceof ApiError
diff --git a/src/lib/error-handler.ts b/src/lib/error-handler.ts
index c90816b..018ff7b 100644
--- a/src/lib/error-handler.ts
+++ b/src/lib/error-handler.ts
@@ -44,8 +44,8 @@ const ERROR_MESSAGES: Record<ApiErrorCode, { title: string; description: string
     description: 'Please check your input and try again.',
   },
   CONFLICT: {
-    title: 'Conflict',
-    description: 'This action conflicts with existing data.',
+    title: 'Status Outdated',
+    description: 'The request status has changed since you opened this page. Please refresh.',
   },
   RATE_LIMITED: {
     title: 'Too Many Requests',
@@ -86,10 +86,10 @@ export function handleApiError(error: unknown, options: HandleErrorOptions = {})
     error instanceof ApiError
       ? error
       : new ApiError(
-          error instanceof Error ? error.message : 'Unknown error',
-          'UNKNOWN',
-          0,
-        );
+        error instanceof Error ? error.message : 'Unknown error',
+        'UNKNOWN',
+        0,
+      );
 
   // Log for debugging
   logger.error(context, `${apiError.code}: ${apiError.message}`, {
@@ -108,8 +108,14 @@ export function handleApiError(error: unknown, options: HandleErrorOptions = {})
   }
 
   // 401 ΓÇö Auto-logout (session expired)
+  // AUTH-SESSION-04: idempotent guard ΓÇö the api-client's handleTokenRefresh
+  // already calls clearSession() when refresh fails. Without this guard,
+  // both layers clear the session, causing double BroadcastChannel 'logout'
+  // events and duplicate "Session Expired" toasts.
   if (apiError.code === 'UNAUTHORIZED') {
-    sessionManager.clearSession();
+    if (sessionManager.isAuthenticated()) {
+      sessionManager.clearSession();
+    }
     if (!silent) {
       toast.error(ERROR_MESSAGES.UNAUTHORIZED.title, {
         description: ERROR_MESSAGES.UNAUTHORIZED.description,
diff --git a/src/lib/session.ts b/src/lib/session.ts
index 1340221..a776071 100644
--- a/src/lib/session.ts
+++ b/src/lib/session.ts
@@ -224,6 +224,8 @@ class SessionManager {
       // Best effort
     }
 
+    // AUTH-RACE-02: broadcast 'logout' so all tabs clear their in-memory tokens
+    // and CSRF state. The AuthContext subscriber handles clearCsrfToken().
     this.broadcast('logout');
     this.emit('logout', null);
   }
@@ -246,12 +248,14 @@ class SessionManager {
 
     const refreshIn = expiry - Date.now() - getExpiryBuffer();
     if (refreshIn <= 0) {
-      // Already expired or about to ΓÇö trigger refresh immediately
+      // Already expired or about to ΓÇö broadcast session-expired to all tabs
+      this.broadcast('session-expired');
       this.emit('session-expired', this.getUser());
       return;
     }
 
     this.refreshTimer = setTimeout(() => {
+      // Proactive refresh signal: emit locally so AuthContext can call /auth/refresh
       this.emit('token-refresh', this.getUser());
     }, refreshIn);
   }
@@ -265,7 +269,7 @@ class SessionManager {
 
   /* ΓöÇΓöÇ Multi-Tab Sync ΓöÇΓöÇ */
 
-  private broadcast(type: 'login' | 'logout') {
+  private broadcast(type: 'login' | 'logout' | 'session-expired') {
     try {
       this.channel?.postMessage({ type, timestamp: Date.now() });
     } catch {
@@ -276,13 +280,15 @@ class SessionManager {
   private handleBroadcast = (event: MessageEvent) => {
     const { type } = event.data || {};
 
-    if (type === 'logout') {
-      // Another tab logged out
+    if (type === 'logout' || type === 'session-expired') {
+      // Another tab logged out or session expired
       this.accessToken = null;
       this.clearRefreshTimer();
       this.emit('logout', null);
     } else if (type === 'login') {
       // Another tab logged in ΓÇö reload user from storage
+      // Note: no access token in memory here; first API call will auto-refresh
+      // via the shared httpOnly refresh cookie.
       const user = this.getUser();
       if (user) {
         this.emit('login', user);
diff --git a/src/pages/AdminPage.tsx b/src/pages/AdminPage.tsx
index 2ad01fe..368e1c3 100644
--- a/src/pages/AdminPage.tsx
+++ b/src/pages/AdminPage.tsx
@@ -30,19 +30,22 @@ import {
     DialogTitle,
     DialogTrigger,
 } from "@/components/ui/dialog";
-import { Progress } from "@/components/ui/progress"; // kept for potential future use
 import { Button } from "@/components/ui/button";
 import { Badge } from "@/components/ui/badge";
 import { Input } from "@/components/ui/input";
 import SplitText from '@/components/SplitText';
 import { LoadingSpinner, ErrorFallback } from '@/components/FallbackUI';
-import { useAdminPending, useAdminStats, useUpdateListingStatus, useDisputes, useUpdateDisputeStatus, useAdminAuditLog } from '@/hooks/api/useApi';
+import {
+    useAdminPending, useAdminStats, useUpdateListingStatus,
+    useDisputes, useUpdateDisputeStatus, useAdminAuditLog
+} from '@/hooks/api/useApi';
 import type { PendingItem, Dispute, AuditLogEntry } from '@/hooks/api/useApi';
 import {
     createListingMachine,
     type ListingMachine,
     InvalidTransitionError,
 } from '@/lib/fsm';
+import { toast } from '@/components/ui/use-toast';
 
 const AdminPage = () => {
     const [activeTab, setActiveTab] = useState('pending');
@@ -64,6 +67,17 @@ const AdminPage = () => {
     const pendingListings = pendingResponse?.data ?? [];
     const stats = statsResponse?.data;
 
+    // Filter pending listings by search query (title or owner name)
+    const filteredListings = useMemo(() =>
+        searchQuery.trim()
+            ? pendingListings.filter(l =>
+                l.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
+                (l.owner?.fullName ?? '').toLowerCase().includes(searchQuery.toLowerCase())
+            )
+            : pendingListings,
+        [pendingListings, searchQuery]
+    );
+
     /**
      * Each pending listing is assumed to be in `pending_review`
      * (user already submitted ΓåÆ admin queue). We hold one FSM per row
@@ -87,14 +101,14 @@ const AdminPage = () => {
 
     useLayoutEffect(() => {
         if (!containerRef.current) return;
-        
+
         // Use gsap.context for proper scoping and cleanup
         gsapCtxRef.current = gsap.context(() => {
             const tl = gsap.timeline();
             tl.fromTo('.admin-sidebar', { x: -100, opacity: 0 }, { x: 0, opacity: 1, duration: 1, ease: 'power4.out' })
                 .fromTo('.admin-main', { y: 20, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8, ease: 'power3.out' }, '-=0.6');
         }, containerRef);
-        
+
         return () => { gsapCtxRef.current?.revert(); };
     }, []);
 
@@ -113,13 +127,15 @@ const AdminPage = () => {
         // Call API to update status, then animate
         updateStatus.mutate({ id, status: 'approved' }, {
             onSuccess: () => {
+                // UX-03: toast confirmation so admin knows the action landed
+                toast({ title: 'Listing Approved', description: 'The listing is now live for students to view.' });
                 gsapCtxRef.current?.add(() => {
-                    gsap.to(`.row-${id}`, {
-                        backgroundColor: 'rgba(0, 212, 170, 0.1)',
-                        duration: 0.3,
-                    });
+                    gsap.to(`.row-${id}`, { backgroundColor: 'rgba(0, 212, 170, 0.1)', duration: 0.3 });
                 });
             },
+            onError: () => {
+                toast({ title: 'Approval Failed', description: 'Could not approve listing. Please try again.', variant: 'destructive' });
+            },
         });
     }, [machines, updateStatus]);
 
@@ -138,13 +154,15 @@ const AdminPage = () => {
         // Call API to update status, then animate
         updateStatus.mutate({ id, status: 'rejected' }, {
             onSuccess: () => {
+                // UX-03: toast confirmation
+                toast({ title: 'Listing Rejected', description: 'The listing has been rejected and removed from the queue.' });
                 gsapCtxRef.current?.add(() => {
-                    gsap.to(`.row-${id}`, {
-                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
-                        duration: 0.3,
-                    });
+                    gsap.to(`.row-${id}`, { backgroundColor: 'rgba(239, 68, 68, 0.1)', duration: 0.3 });
                 });
             },
+            onError: () => {
+                toast({ title: 'Rejection Failed', description: 'Could not reject listing. Please try again.', variant: 'destructive' });
+            },
         });
     }, [machines, updateStatus]);
 
@@ -205,10 +223,19 @@ const AdminPage = () => {
                             <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/20 group-focus-within:text-primary transition-colors" />
                             <Input
                                 placeholder="PROBE ENTITY..."
+                                value={searchQuery}
+                                onChange={(e) => setSearchQuery(e.target.value)}
                                 className="bg-black/40 border-white/10 text-[10px] font-bold tracking-widest pl-10 h-10 rounded-none focus-visible:ring-1 focus-visible:ring-primary uppercase"
                             />
                         </div>
-                        <Button variant="outline" className="h-10 border-white/10 rounded-none text-[10px] font-bold tracking-widest uppercase px-6">
+                        {/* UX-04: 'Matrix Filter' button was non-functional (no onClick). Now visually
+                            disabled until filter logic is implemented to prevent dead button confusion. */}
+                        <Button
+                            variant="outline"
+                            disabled
+                            title="Filters coming soon"
+                            className="h-10 border-white/10 rounded-none text-[10px] font-bold tracking-widest uppercase px-6 opacity-30 cursor-not-allowed"
+                        >
                             <Filter className="w-3 h-3 mr-2" />
                             Matrix Filter
                         </Button>
@@ -236,292 +263,302 @@ const AdminPage = () => {
 
                     {/* ΓòÉΓòÉΓòÉ PENDING TAB ΓòÉΓòÉΓòÉ */}
                     {activeTab === 'pending' && (
-                        <div className="flex justify-between items-center">
-                            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Queue Matrix</h3>
-                            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                                {pendingListings.length} ACTIONS REQUIRED
-                            </Badge>
-                        </div>
+                        <>
+                            <div className="flex justify-between items-center">
+                                <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Queue Matrix</h3>
+                                <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                                    {filteredListings.length} ACTIONS REQUIRED
+                                </Badge>
+                            </div>
 
-                        <div className="border border-white/10 bg-black/20">
-                            {pendingLoading ? (
-                                <div className="p-12 flex flex-col items-center gap-4">
-                                    <LoadingSpinner />
-                                    <p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading pending queueΓÇª</p>
-                                </div>
-                            ) : pendingError ? (
-                                <div className="p-12">
-                                    <ErrorFallback error={pendingErr} onRetry={refetchPending} compact />
-                                </div>
-                            ) : (
-                            <Table>
-                                <TableHeader className="bg-white/5">
-                                    <TableRow className="border-white/5 hover:bg-transparent">
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Protocol ID</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Verified User</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Resource Entity</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Entry Date</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 w-48">Validation Rank</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 text-right">Actions</TableHead>
-                                    </TableRow>
-                                </TableHeader>
-                                <TableBody>
-                                    {pendingListings.map((listing) => (
-                                        <TableRow
-                                            key={listing.id}
-                                            className={`row-${listing.id} border-white/5 hover:bg-primary/5 transition-all duration-300 group`}
-                                        >
-                                            <TableCell className="font-mono text-[10px] text-primary font-bold">{listing.id.slice(0, 8)}</TableCell>
-                                            <TableCell className="text-xs font-bold uppercase tracking-tight">{listing.owner?.fullName ?? 'ΓÇö'}</TableCell>
-                                            <TableCell className="text-xs text-white/60">{listing.title}</TableCell>
-                                            <TableCell className="text-[10px] font-bold text-white/20 font-display">{new Date(listing.createdAt).toLocaleDateString()}</TableCell>
-                                            <TableCell>
-                                                <div className="space-y-2">
-                                                    <Badge variant="outline" className="border-amber-500/30 text-amber-400 text-[8px] uppercase tracking-widest">
-                                                        {listing.status.replace(/_/g, ' ')}
-                                                    </Badge>
-                                                </div>
-                                            </TableCell>
-                                            <TableCell className="text-right">
-                                                <div className="flex justify-end space-x-2">
-                                                    <Dialog>
-                                                        <DialogTrigger asChild>
-                                                            <Button variant="ghost" className="h-8 w-8 p-0 hover:bg-white/10">
-                                                                <Search className="w-4 h-4 text-white/40" />
-                                                            </Button>
-                                                        </DialogTrigger>
-                                                        <DialogContent className="bg-[#0a0a0a] border-white/10 text-white rounded-none sm:max-w-2xl">
-                                                            <DialogHeader className="space-y-4">
-                                                                <DialogTitle className="font-display text-3xl font-bold uppercase italic italic-syne">ENTITY INSPECTION</DialogTitle>
-                                                                <DialogDescription className="text-white/40 uppercase text-[10px] font-bold tracking-widest">Protocol ID: {listing.id}</DialogDescription>
-                                                            </DialogHeader>
-                                                            <div className="grid grid-cols-2 gap-8 py-8 border-y border-white/5 my-4">
-                                                                <div className="space-y-4">
-                                                                    <div>
-                                                                        <p className="text-[9px] text-white/30 uppercase font-bold font-display">Resource Details</p>
-                                                                        <h4 className="text-xl font-bold uppercase">{listing.title}</h4>
-                                                                        {listing.description && <p className="text-xs text-white/50 mt-1">{listing.description}</p>}
-                                                                    </div>
-                                                                    <div>
-                                                                        <p className="text-[9px] text-white/30 uppercase font-bold font-display">Submitted By</p>
-                                                                        <p className="text-sm font-bold uppercase text-primary">{listing.owner?.fullName ?? 'ΓÇö'}</p>
-                                                                        <p className="text-[10px] text-white/40">{listing.owner?.email}</p>
-                                                                    </div>
-                                                                    <div>
-                                                                        <p className="text-[9px] text-white/30 uppercase font-bold font-display">Price</p>
-                                                                        <p className="text-sm font-bold">Γé╣{listing.price}</p>
+                            <div className="border border-white/10 bg-black/20">
+                                {pendingLoading ? (
+                                    <div className="p-12 flex flex-col items-center gap-4">
+                                        <LoadingSpinner />
+                                        <p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading pending queueΓÇª</p>
+                                    </div>
+                                ) : pendingError ? (
+                                    <div className="p-12">
+                                        <ErrorFallback error={pendingErr} onRetry={refetchPending} compact />
+                                    </div>
+                                ) : (
+                                    <Table>
+                                        <TableHeader className="bg-white/5">
+                                            <TableRow className="border-white/5 hover:bg-transparent">
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Protocol ID</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Verified User</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Resource Entity</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Entry Date</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 w-48">Validation Rank</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 text-right">Actions</TableHead>
+                                            </TableRow>
+                                        </TableHeader>
+                                        <TableBody>
+                                            {filteredListings.map((listing) => (
+                                                <TableRow
+                                                    key={listing.id}
+                                                    className={`row-${listing.id} border-white/5 hover:bg-primary/5 transition-all duration-300 group`}
+                                                >
+                                                    <TableCell className="font-mono text-[10px] text-primary font-bold">{listing.id.slice(0, 8)}</TableCell>
+                                                    <TableCell className="text-xs font-bold uppercase tracking-tight">{listing.owner?.fullName ?? 'ΓÇö'}</TableCell>
+                                                    <TableCell className="text-xs text-white/60">{listing.title}</TableCell>
+                                                    <TableCell className="text-[10px] font-bold text-white/20 font-display">{new Date(listing.createdAt).toLocaleDateString()}</TableCell>
+                                                    <TableCell>
+                                                        <div className="space-y-2">
+                                                            <Badge variant="outline" className="border-amber-500/30 text-amber-400 text-[8px] uppercase tracking-widest">
+                                                                {listing.status.replace(/_/g, ' ')}
+                                                            </Badge>
+                                                        </div>
+                                                    </TableCell>
+                                                    <TableCell className="text-right">
+                                                        <div className="flex justify-end space-x-2">
+                                                            <Dialog>
+                                                                <DialogTrigger asChild>
+                                                                    <Button variant="ghost" className="h-8 w-8 p-0 hover:bg-white/10">
+                                                                        <Search className="w-4 h-4 text-white/40" />
+                                                                    </Button>
+                                                                </DialogTrigger>
+                                                                <DialogContent className="bg-[#0a0a0a] border-white/10 text-white rounded-none sm:max-w-2xl">
+                                                                    <DialogHeader className="space-y-4">
+                                                                        <DialogTitle className="font-display text-3xl font-bold uppercase italic italic-syne">ENTITY INSPECTION</DialogTitle>
+                                                                        <DialogDescription className="text-white/40 uppercase text-[10px] font-bold tracking-widest">Protocol ID: {listing.id}</DialogDescription>
+                                                                    </DialogHeader>
+                                                                    <div className="grid grid-cols-2 gap-8 py-8 border-y border-white/5 my-4">
+                                                                        <div className="space-y-4">
+                                                                            <div>
+                                                                                <p className="text-[9px] text-white/30 uppercase font-bold font-display">Resource Details</p>
+                                                                                <h4 className="text-xl font-bold uppercase">{listing.title}</h4>
+                                                                                {listing.description && <p className="text-xs text-white/50 mt-1">{listing.description}</p>}
+                                                                            </div>
+                                                                            <div>
+                                                                                <p className="text-[9px] text-white/30 uppercase font-bold font-display">Submitted By</p>
+                                                                                <p className="text-sm font-bold uppercase text-primary">{listing.owner?.fullName ?? 'ΓÇö'}</p>
+                                                                                <p className="text-[10px] text-white/40">{listing.owner?.email}</p>
+                                                                            </div>
+                                                                            <div>
+                                                                                <p className="text-[9px] text-white/30 uppercase font-bold font-display">Price</p>
+                                                                                <p className="text-sm font-bold">Γé╣{listing.price}</p>
+                                                                            </div>
+                                                                        </div>
+                                                                        <div className="space-y-4 bg-white/5 p-4">
+                                                                            <p className="text-[9px] text-white/30 uppercase font-bold font-display">AI Verification Log</p>
+                                                                            <div className="space-y-2 text-[10px] font-mono">
+                                                                                <p className="text-emerald-400">Γ£ô Image Authenticated</p>
+                                                                                <p className="text-emerald-400">Γ£ô Metadata Consistent</p>
+                                                                                <p className="text-amber-400">! Price deviates 5% from index</p>
+                                                                            </div>
+                                                                        </div>
                                                                     </div>
-                                                                </div>
-                                                                <div className="space-y-4 bg-white/5 p-4">
-                                                                    <p className="text-[9px] text-white/30 uppercase font-bold font-display">AI Verification Log</p>
-                                                                    <div className="space-y-2 text-[10px] font-mono">
-                                                                        <p className="text-emerald-400">Γ£ô Image Authenticated</p>
-                                                                        <p className="text-emerald-400">Γ£ô Metadata Consistent</p>
-                                                                        <p className="text-amber-400">! Price deviates 5% from index</p>
+                                                                    <div className="flex justify-end space-x-4">
+                                                                        <Button
+                                                                            variant="outline"
+                                                                            className="rounded-none border-white/10 hover:bg-white/5 uppercase text-[10px] font-bold tracking-widest"
+                                                                            onClick={() => handleReject(listing.id)}
+                                                                        >
+                                                                            Reject Protocol
+                                                                        </Button>
+                                                                        <Button
+                                                                            className="bg-primary hover:bg-teal-400 text-black rounded-none font-bold uppercase text-[10px] tracking-widest"
+                                                                            onClick={() => handleApprove(listing.id)}
+                                                                        >
+                                                                            Confirm & Manifest
+                                                                        </Button>
                                                                     </div>
-                                                                </div>
-                                                            </div>
-                                                            <div className="flex justify-end space-x-4">
-                                                                <Button
-                                                                    variant="outline"
-                                                                    className="rounded-none border-white/10 hover:bg-white/5 uppercase text-[10px] font-bold tracking-widest"
-                                                                    onClick={() => handleReject(listing.id)}
-                                                                >
-                                                                    Reject Protocol
-                                                                </Button>
-                                                                <Button
-                                                                    className="bg-primary hover:bg-teal-400 text-black rounded-none font-bold uppercase text-[10px] tracking-widest"
-                                                                    onClick={() => handleApprove(listing.id)}
-                                                                >
-                                                                    Confirm & Manifest
-                                                                </Button>
-                                                            </div>
-                                                        </DialogContent>
-                                                    </Dialog>
-                                                    <Button
-                                                        variant="ghost"
-                                                        onClick={() => handleApprove(listing.id)}
-                                                        className="h-8 w-8 p-0 hover:bg-emerald-500/20 group-hover:rotate-12 transition-transform"
-                                                    >
-                                                        <Check className="w-4 h-4 text-emerald-400" />
-                                                    </Button>
-                                                    <Button
-                                                        variant="ghost"
-                                                        onClick={() => handleReject(listing.id)}
-                                                        className="h-8 w-8 p-0 hover:bg-red-500/20"
-                                                    >
-                                                        <X className="w-4 h-4 text-red-400" />
-                                                    </Button>
-                                                </div>
-                                            </TableCell>
-                                        </TableRow>
-                                    ))}
-                                </TableBody>
-                            </Table>
-                            )}
-                        </div>
-                    </div>
+                                                                </DialogContent>
+                                                            </Dialog>
+                                                            <Button
+                                                                variant="ghost"
+                                                                onClick={() => handleApprove(listing.id)}
+                                                                className="h-8 w-8 p-0 hover:bg-emerald-500/20 group-hover:rotate-12 transition-transform"
+                                                            >
+                                                                <Check className="w-4 h-4 text-emerald-400" />
+                                                            </Button>
+                                                            <Button
+                                                                variant="ghost"
+                                                                onClick={() => handleReject(listing.id)}
+                                                                className="h-8 w-8 p-0 hover:bg-red-500/20"
+                                                            >
+                                                                <X className="w-4 h-4 text-red-400" />
+                                                            </Button>
+                                                        </div>
+                                                    </TableCell>
+                                                </TableRow>
+                                            ))}
+                                        </TableBody>
+                                    </Table>
+                                )}
+                            </div>
+                        </>
                     )}
 
                     {/* ΓòÉΓòÉΓòÉ DISPUTES TAB ΓòÉΓòÉΓòÉ */}
                     {activeTab === 'disputes' && (
-                    <div className="space-y-6">
-                        <div className="flex justify-between items-center">
-                            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Dispute Protocols</h3>
-                            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                                {disputes.length} RECORD{disputes.length !== 1 ? 'S' : ''}
-                            </Badge>
-                        </div>
-                        <div className="border border-white/10 bg-black/20">
-                            {disputesLoading ? (
-                                <div className="p-12 flex flex-col items-center gap-4"><LoadingSpinner /><p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading disputesΓÇª</p></div>
-                            ) : disputes.length === 0 ? (
-                                <div className="p-12 text-center text-white/30 text-[10px] uppercase tracking-widest">No disputes found</div>
-                            ) : (
-                            <Table>
-                                <TableHeader className="bg-white/5">
-                                    <TableRow className="border-white/5 hover:bg-transparent">
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">ID</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Type</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Description</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Status</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Filed</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 text-right">Actions</TableHead>
-                                    </TableRow>
-                                </TableHeader>
-                                <TableBody>
-                                    {disputes.map((d) => (
-                                        <TableRow key={d.id} className="border-white/5 hover:bg-primary/5 transition-all duration-300">
-                                            <TableCell className="font-mono text-[10px] text-primary font-bold">{d.id.slice(0, 8)}</TableCell>
-                                            <TableCell><Badge variant="outline" className="border-amber-500/30 text-amber-400 text-[8px] uppercase tracking-widest">{d.type.replace(/_/g, ' ')}</Badge></TableCell>
-                                            <TableCell className="text-xs text-white/60 max-w-xs truncate">{d.description}</TableCell>
-                                            <TableCell><Badge variant={d.status === 'resolved' ? 'default' : 'outline'} className={`text-[8px] uppercase tracking-widest ${d.status === 'open' ? 'border-red-500/30 text-red-400' : d.status === 'resolved' ? 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30' : 'border-white/20 text-white/60'}`}>{d.status.replace(/_/g, ' ')}</Badge></TableCell>
-                                            <TableCell className="text-[10px] font-bold text-white/20 font-display">{new Date(d.createdAt).toLocaleDateString()}</TableCell>
-                                            <TableCell className="text-right">
-                                                <div className="flex justify-end space-x-2">
-                                                    {d.status === 'open' && (
-                                                        <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-amber-500/20 text-amber-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'under_review' })}>Review</Button>
-                                                    )}
-                                                    {(d.status === 'open' || d.status === 'under_review') && (
-                                                        <>
-                                                            <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-emerald-500/20 text-emerald-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'resolved' })}>Resolve</Button>
-                                                            <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-red-500/20 text-red-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'rejected' })}>Reject</Button>
-                                                        </>
-                                                    )}
-                                                </div>
-                                            </TableCell>
-                                        </TableRow>
-                                    ))}
-                                </TableBody>
-                            </Table>
-                            )}
+                        <div className="space-y-6">
+                            <div className="flex justify-between items-center">
+                                <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Dispute Protocols</h3>
+                                <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                                    {disputes.length} RECORD{disputes.length !== 1 ? 'S' : ''}
+                                </Badge>
+                            </div>
+                            <div className="border border-white/10 bg-black/20">
+                                {disputesLoading ? (
+                                    <div className="p-12 flex flex-col items-center gap-4"><LoadingSpinner /><p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading disputesΓÇª</p></div>
+                                ) : disputes.length === 0 ? (
+                                    <div className="p-12 text-center text-white/30 text-[10px] uppercase tracking-widest">No disputes found</div>
+                                ) : (
+                                    <Table>
+                                        <TableHeader className="bg-white/5">
+                                            <TableRow className="border-white/5 hover:bg-transparent">
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">ID</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Type</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Description</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Status</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Filed</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12 text-right">Actions</TableHead>
+                                            </TableRow>
+                                        </TableHeader>
+                                        <TableBody>
+                                            {disputes.map((d) => (
+                                                <TableRow key={d.id} className="border-white/5 hover:bg-primary/5 transition-all duration-300">
+                                                    <TableCell className="font-mono text-[10px] text-primary font-bold">{d.id.slice(0, 8)}</TableCell>
+                                                    <TableCell><Badge variant="outline" className="border-amber-500/30 text-amber-400 text-[8px] uppercase tracking-widest">{d.type.replace(/_/g, ' ')}</Badge></TableCell>
+                                                    <TableCell className="text-xs text-white/60 max-w-xs truncate">{d.description}</TableCell>
+                                                    <TableCell><Badge variant={d.status === 'resolved' ? 'default' : 'outline'} className={`text-[8px] uppercase tracking-widest ${d.status === 'open' ? 'border-red-500/30 text-red-400' : d.status === 'resolved' ? 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30' : 'border-white/20 text-white/60'}`}>{d.status.replace(/_/g, ' ')}</Badge></TableCell>
+                                                    <TableCell className="text-[10px] font-bold text-white/20 font-display">{new Date(d.createdAt).toLocaleDateString()}</TableCell>
+                                                    <TableCell className="text-right">
+                                                        <div className="flex justify-end space-x-2">
+                                                            {d.status === 'open' && (
+                                                                <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-amber-500/20 text-amber-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'under_review' }, {
+                                                                    onSuccess: () => toast({ title: 'Dispute Under Review', description: 'Status updated to Under Review.' }),
+                                                                    onError: () => toast({ title: 'Update Failed', variant: 'destructive' }),
+                                                                })}>Review</Button>
+                                                            )}
+                                                            {(d.status === 'open' || d.status === 'under_review') && (
+                                                                <>
+                                                                    <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-emerald-500/20 text-emerald-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'resolved' }, {
+                                                                        onSuccess: () => toast({ title: 'Dispute Resolved', description: 'The dispute has been marked as resolved.' }),
+                                                                        onError: () => toast({ title: 'Update Failed', variant: 'destructive' }),
+                                                                    })}>Resolve</Button>
+                                                                    <Button size="sm" variant="ghost" className="h-7 text-[9px] uppercase font-bold tracking-widest hover:bg-red-500/20 text-red-400" onClick={() => updateDisputeStatus.mutate({ id: d.id, status: 'rejected' }, {
+                                                                        onSuccess: () => toast({ title: 'Dispute Rejected', description: 'The dispute has been closed as rejected.' }),
+                                                                        onError: () => toast({ title: 'Update Failed', variant: 'destructive' }),
+                                                                    })}>Reject</Button>
+                                                                </>
+                                                            )}
+                                                        </div>
+                                                    </TableCell>
+                                                </TableRow>
+                                            ))}
+                                        </TableBody>
+                                    </Table>
+                                )}
+                            </div>
                         </div>
-                    </div>
                     )}
 
                     {/* ΓòÉΓòÉΓòÉ USERS TAB ΓòÉΓòÉΓòÉ */}
                     {activeTab === 'users' && (
-                    <div className="space-y-6">
-                        <div className="flex justify-between items-center">
-                            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Verified Entities</h3>
-                            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                                {stats ? stats.totalUsers : 'ΓÇö'} TOTAL
-                            </Badge>
-                        </div>
-                        <div className="border border-white/10 bg-black/20 p-12">
-                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
-                                <div className="p-6 border border-white/10 bg-white/5 space-y-2">
-                                    <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Total Users</p>
-                                    <span className="text-3xl font-display font-bold">{stats?.totalUsers ?? 'ΓÇö'}</span>
-                                </div>
-                                <div className="p-6 border border-white/10 bg-white/5 space-y-2">
-                                    <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Disputes</p>
-                                    <span className="text-3xl font-display font-bold text-amber-400">{stats?.activeDisputes ?? 'ΓÇö'}</span>
-                                </div>
-                                <div className="p-6 border border-white/10 bg-white/5 space-y-2">
-                                    <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Completed Exchanges</p>
-                                    <span className="text-3xl font-display font-bold text-emerald-400">{stats?.completedExchanges ?? 'ΓÇö'}</span>
+                        <div className="space-y-6">
+                            <div className="flex justify-between items-center">
+                                <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Verified Entities</h3>
+                                <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                                    {stats ? stats.totalUsers : 'ΓÇö'} TOTAL
+                                </Badge>
+                            </div>
+                            <div className="border border-white/10 bg-black/20 p-12">
+                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
+                                    <div className="p-6 border border-white/10 bg-white/5 space-y-2">
+                                        <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Total Users</p>
+                                        <span className="text-3xl font-display font-bold">{stats?.totalUsers ?? 'ΓÇö'}</span>
+                                    </div>
+                                    <div className="p-6 border border-white/10 bg-white/5 space-y-2">
+                                        <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Disputes</p>
+                                        <span className="text-3xl font-display font-bold text-amber-400">{stats?.activeDisputes ?? 'ΓÇö'}</span>
+                                    </div>
+                                    <div className="p-6 border border-white/10 bg-white/5 space-y-2">
+                                        <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Completed Exchanges</p>
+                                        <span className="text-3xl font-display font-bold text-emerald-400">{stats?.completedExchanges ?? 'ΓÇö'}</span>
+                                    </div>
                                 </div>
+                                <p className="text-white/20 text-[10px] uppercase tracking-widest mt-8 text-center">Individual user lookup available via search bar</p>
                             </div>
-                            <p className="text-white/20 text-[10px] uppercase tracking-widest mt-8 text-center">Individual user lookup available via search bar</p>
                         </div>
-                    </div>
                     )}
 
                     {/* ΓòÉΓòÉΓòÉ LOGS TAB ΓòÉΓòÉΓòÉ */}
                     {activeTab === 'logs' && (
-                    <div className="space-y-6">
-                        <div className="flex justify-between items-center">
-                            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">System Logs</h3>
-                            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                                {auditLogs.length} ENTRIES
-                            </Badge>
-                        </div>
-                        <div className="border border-white/10 bg-black/20">
-                            {auditLoading ? (
-                                <div className="p-12 flex flex-col items-center gap-4"><LoadingSpinner /><p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading audit logΓÇª</p></div>
-                            ) : auditLogs.length === 0 ? (
-                                <div className="p-12 text-center text-white/30 text-[10px] uppercase tracking-widest">No log entries found</div>
-                            ) : (
-                            <Table>
-                                <TableHeader className="bg-white/5">
-                                    <TableRow className="border-white/5 hover:bg-transparent">
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Timestamp</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Actor</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Action</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Target</TableHead>
-                                        <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Details</TableHead>
-                                    </TableRow>
-                                </TableHeader>
-                                <TableBody>
-                                    {auditLogs.map((log) => (
-                                        <TableRow key={log.id} className="border-white/5 hover:bg-primary/5 transition-all duration-300">
-                                            <TableCell className="text-[10px] font-mono text-white/40">{new Date(log.timestamp).toLocaleString()}</TableCell>
-                                            <TableCell className="text-xs font-bold uppercase tracking-tight">{log.actorId.slice(0, 8)} <span className="text-white/30">({log.actorRole})</span></TableCell>
-                                            <TableCell><Badge variant="outline" className="border-primary/30 text-primary text-[8px] uppercase tracking-widest">{log.action.replace(/_/g, ' ')}</Badge></TableCell>
-                                            <TableCell className="text-[10px] font-mono text-white/40">{log.targetType}/{log.targetId.slice(0, 8)}</TableCell>
-                                            <TableCell className="text-xs text-white/40 max-w-xs truncate">{log.details ?? 'ΓÇö'}</TableCell>
-                                        </TableRow>
-                                    ))}
-                                </TableBody>
-                            </Table>
-                            )}
+                        <div className="space-y-6">
+                            <div className="flex justify-between items-center">
+                                <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">System Logs</h3>
+                                <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                                    {auditLogs.length} ENTRIES
+                                </Badge>
+                            </div>
+                            <div className="border border-white/10 bg-black/20">
+                                {auditLoading ? (
+                                    <div className="p-12 flex flex-col items-center gap-4"><LoadingSpinner /><p className="text-white/30 text-[10px] uppercase tracking-[0.3em] font-mono">Loading audit logΓÇª</p></div>
+                                ) : auditLogs.length === 0 ? (
+                                    <div className="p-12 text-center text-white/30 text-[10px] uppercase tracking-widest">No log entries found</div>
+                                ) : (
+                                    <Table>
+                                        <TableHeader className="bg-white/5">
+                                            <TableRow className="border-white/5 hover:bg-transparent">
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Timestamp</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Actor</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Action</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Target</TableHead>
+                                                <TableHead className="text-white/40 uppercase text-[9px] font-bold tracking-widest h-12">Details</TableHead>
+                                            </TableRow>
+                                        </TableHeader>
+                                        <TableBody>
+                                            {auditLogs.map((log) => (
+                                                <TableRow key={log.id} className="border-white/5 hover:bg-primary/5 transition-all duration-300">
+                                                    <TableCell className="text-[10px] font-mono text-white/40">{new Date(log.timestamp).toLocaleString()}</TableCell>
+                                                    <TableCell className="text-xs font-bold uppercase tracking-tight">{log.actorId.slice(0, 8)} <span className="text-white/30">({log.actorRole})</span></TableCell>
+                                                    <TableCell><Badge variant="outline" className="border-primary/30 text-primary text-[8px] uppercase tracking-widest">{log.action.replace(/_/g, ' ')}</Badge></TableCell>
+                                                    <TableCell className="text-[10px] font-mono text-white/40">{log.targetType}/{log.targetId.slice(0, 8)}</TableCell>
+                                                    <TableCell className="text-xs text-white/40 max-w-xs truncate">{log.details ?? 'ΓÇö'}</TableCell>
+                                                </TableRow>
+                                            ))}
+                                        </TableBody>
+                                    </Table>
+                                )}
+                            </div>
                         </div>
-                    </div>
                     )}
 
                     {/* ΓòÉΓòÉΓòÉ ACTIVITY TAB ΓòÉΓòÉΓòÉ */}
                     {activeTab === 'activity' && (
-                    <div className="space-y-6">
-                        <div className="flex justify-between items-center">
-                            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Live Metrics</h3>
-                        </div>
-                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
-                            <div className="border border-white/10 bg-black/20 p-8 space-y-4">
-                                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Exchange Pipeline</p>
-                                <div className="space-y-3">
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Total Requests</span><span className="text-lg font-display font-bold">{stats?.totalRequests ?? 'ΓÇö'}</span></div>
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Completed</span><span className="text-lg font-display font-bold text-emerald-400">{stats?.completedExchanges ?? 'ΓÇö'}</span></div>
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Pending Listings</span><span className="text-lg font-display font-bold text-amber-400">{stats?.pendingListings ?? 'ΓÇö'}</span></div>
-                                </div>
+                        <div className="space-y-6">
+                            <div className="flex justify-between items-center">
+                                <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">Live Metrics</h3>
                             </div>
-                            <div className="border border-white/10 bg-black/20 p-8 space-y-4">
-                                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Trust & Safety</p>
-                                <div className="space-y-3">
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Active Disputes</span><span className="text-lg font-display font-bold text-red-400">{stats?.activeDisputes ?? 'ΓÇö'}</span></div>
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Total Listings</span><span className="text-lg font-display font-bold">{stats?.totalListings ?? 'ΓÇö'}</span></div>
-                                    <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Verified Users</span><span className="text-lg font-display font-bold text-primary">{stats?.totalUsers ?? 'ΓÇö'}</span></div>
+                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
+                                <div className="border border-white/10 bg-black/20 p-8 space-y-4">
+                                    <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Exchange Pipeline</p>
+                                    <div className="space-y-3">
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Total Requests</span><span className="text-lg font-display font-bold">{stats?.totalRequests ?? 'ΓÇö'}</span></div>
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Completed</span><span className="text-lg font-display font-bold text-emerald-400">{stats?.completedExchanges ?? 'ΓÇö'}</span></div>
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Pending Listings</span><span className="text-lg font-display font-bold text-amber-400">{stats?.pendingListings ?? 'ΓÇö'}</span></div>
+                                    </div>
+                                </div>
+                                <div className="border border-white/10 bg-black/20 p-8 space-y-4">
+                                    <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Trust & Safety</p>
+                                    <div className="space-y-3">
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Active Disputes</span><span className="text-lg font-display font-bold text-red-400">{stats?.activeDisputes ?? 'ΓÇö'}</span></div>
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Total Listings</span><span className="text-lg font-display font-bold">{stats?.totalListings ?? 'ΓÇö'}</span></div>
+                                        <div className="flex justify-between items-center"><span className="text-[10px] uppercase font-bold text-white/60">Verified Users</span><span className="text-lg font-display font-bold text-primary">{stats?.totalUsers ?? 'ΓÇö'}</span></div>
+                                    </div>
                                 </div>
                             </div>
                         </div>
-                    </div>
                     )}
                 </section>
             </main>
 
-            {/* Institutional Scanlines */}
-            <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[100] bg-[length:100%_2px,3px_100%]" />
-        </div>
+            {/* Institutional Scanlines ΓÇö z below cursor (--z-scanline: 80, --z-cursor: 90) */}
+            <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[var(--z-scanline)] bg-[length:100%_2px,3px_100%]" />
+        </div >
     );
 };
 
diff --git a/src/pages/LandingPage.tsx b/src/pages/LandingPage.tsx
index a3f2b35..07d4298 100644
--- a/src/pages/LandingPage.tsx
+++ b/src/pages/LandingPage.tsx
@@ -5,6 +5,7 @@ import { useAuth } from '@/contexts/AuthContext';
 import { safeNavigate } from '@/lib/utils';
 
 const Portal3D = lazy(() => import('@/components/Portal3D'));
+const SplashCursor = lazy(() => import('@/components/SplashCursor'));
 
 /* ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
    BErozgar Landing / Splash Page
@@ -185,7 +186,7 @@ const LandingPage = () => {
   /* ΓöÇΓöÇ CTA handler ΓöÇΓöÇ */
   const handleEnter = () => {
     if (hasRedirected.current) return; // Prevent navigation if already redirected
-    
+
     if (isAuthenticated) {
       hasRedirected.current = true;
       safeNavigate(navigate, location.pathname, '/home', { replace: false });
@@ -196,6 +197,22 @@ const LandingPage = () => {
 
   return (
     <div ref={containerRef} className="relative h-screen w-full overflow-hidden bg-[#050505] select-none">
+      {/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+           SPLASH CURSOR ΓÇö WebGL fluid simulation
+           ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */}
+      <Suspense fallback={null}>
+        <SplashCursor
+          SIM_RESOLUTION={256}
+          DYE_RESOLUTION={768}
+          DENSITY_DISSIPATION={2.5}
+          VELOCITY_DISSIPATION={2.5}
+          PRESSURE={0.6}
+          CURL={20}
+          SPLAT_RADIUS={0.15}
+          SPLAT_FORCE={6500}
+          COLOR_UPDATE_SPEED={50}
+        />
+      </Suspense>
       {/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
           LOADER OVERLAY 
           ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */}
diff --git a/src/pages/ListingDetailPage.tsx b/src/pages/ListingDetailPage.tsx
index 222a895..39554c3 100644
--- a/src/pages/ListingDetailPage.tsx
+++ b/src/pages/ListingDetailPage.tsx
@@ -24,15 +24,17 @@ const ListingDetailPage = () => {
     const listing = listingResponse?.data;
 
     useLayoutEffect(() => {
-        if (!containerRef.current) return;
+        if (!containerRef.current || !listing) return;
         const ctx = gsap.context(() => {
-            gsap.fromTo('.detail-content', { y: 30, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8, ease: 'power3.out', delay: 0.1 });
+            // Explicit initial state prevents FOUC on Strict Mode double-invocation
+            gsap.set('.detail-content', { y: 30, opacity: 0 });
+            gsap.to('.detail-content', { y: 0, opacity: 1, duration: 0.8, ease: 'power3.out', delay: 0.1 });
         }, containerRef);
         return () => ctx.revert();
     }, [listing]);
 
     const handleRequestExchange = () => {
-        if (!id) return;
+        if (!id || createRequest.isPending || requestSent) return;
         createRequest.mutate(
             { listingId: id, message: message || undefined },
             {
@@ -161,9 +163,10 @@ const ListingDetailPage = () => {
                                     <Shield className="w-5 h-5 text-emerald-400 -rotate-45" />
                                 </div>
                                 <p className="text-emerald-400 font-bold uppercase text-sm tracking-widest">Request Sent Successfully</p>
-                                <p className="text-white/40 text-xs">The seller will review your request and respond.</p>
-                                <Link to="/profile" className="inline-block mt-4 text-primary text-[10px] uppercase font-bold tracking-widest hover:underline">
-                                    View My Requests ΓåÆ
+                                <p className="text-white/40 text-xs">The seller will review your request and get back to you.</p>
+                                {/* UX-09: /profile had no requests section ΓÇö link to /resale to continue browsing */}
+                                <Link to="/resale" className="inline-block mt-4 text-primary text-[10px] uppercase font-bold tracking-widest hover:underline">
+                                    ΓåÉ Back to Listings
                                 </Link>
                             </div>
                         ) : (
diff --git a/src/pages/LoginPage.tsx b/src/pages/LoginPage.tsx
index 54d63af..00911f9 100644
--- a/src/pages/LoginPage.tsx
+++ b/src/pages/LoginPage.tsx
@@ -1,4 +1,4 @@
-import { useState, useEffect, useRef, lazy, Suspense } from "react";
+import React, { useState, useEffect, useRef, lazy, Suspense } from "react";
 import { Link, useNavigate, useLocation } from "react-router-dom";
 import { useForm } from "react-hook-form";
 import { zodResolver } from "@hookform/resolvers/zod";
@@ -21,6 +21,12 @@ import {
 import { Input } from "@/components/ui/input";
 import { toast } from "@/components/ui/use-toast";
 
+class ErrorBoundary extends React.Component<{ fallback: React.ReactNode; children: React.ReactNode }, { hasError: boolean }> {
+    constructor(props: any) { super(props); this.state = { hasError: false }; }
+    static getDerivedStateFromError() { return { hasError: true }; }
+    render() { return this.state.hasError ? this.props.fallback : this.props.children; }
+}
+
 const Lanyard = lazy(() => import("@/components/Lanyard"));
 
 const loginSchema = z.object({
@@ -37,10 +43,8 @@ const LoginPage = () => {
     const [showEmailForm, setShowEmailForm] = useState(false);
     const hasRedirected = useRef(false);
 
-    // Redirect destination - either from state or default to /home
     const from = (location.state as { from?: string })?.from || "/home";
 
-    // Redirect if already logged in - only once per mount
     useEffect(() => {
         if (isAuthenticated && !authLoading && !hasRedirected.current) {
             hasRedirected.current = true;
@@ -50,217 +54,134 @@ const LoginPage = () => {
 
     const form = useForm<z.infer<typeof loginSchema>>({
         resolver: zodResolver(loginSchema),
-        defaultValues: {
-            email: "",
-            password: "",
-        },
+        defaultValues: { email: "", password: "" },
     });
 
     async function onSubmit(values: z.infer<typeof loginSchema>) {
         if (hasRedirected.current) return;
-        
         setIsLoading(true);
         try {
             await login(values.email, values.password);
-            toast({
-                title: "Access Granted",
-                description: "Welcome to the BErozgar Trust Exchange.",
-            });
+            toast({ title: "Access Granted", description: "Welcome to the BErozgar Trust Exchange." });
         } catch (err) {
             const msg = err instanceof Error ? err.message : "Invalid credentials. Please try again.";
-            toast({
-                title: "Access Denied",
-                description: msg,
-                variant: "destructive",
-            });
+            toast({ title: "Access Denied", description: msg, variant: "destructive" });
+        } finally {
             setIsLoading(false);
         }
     }
 
     async function handleGoogleClick() {
         if (hasRedirected.current || isGoogleLoading) return;
-
         try {
             const result = await promptSignIn();
             await googleSignIn(result.credential);
-            toast({
-                title: "Google Sign-In Successful",
-                description: `Signed in as ${result.email || 'your Google account'}`,
-            });
+            toast({ title: "Google Sign-In Successful", description: `Signed in as ${result.email || 'your Google account'}` });
         } catch (err) {
             const msg = err instanceof Error ? err.message : "Could not authenticate with Google.";
-            toast({
-                title: "Google Sign-In Failed",
-                description: msg,
-                variant: "destructive",
-            });
+            toast({ title: "Google Sign-In Failed", description: msg, variant: "destructive" });
         }
     }
 
     return (
-        <div className="fixed inset-0 z-50 bg-black overflow-hidden">
-            {/* ΓöÇΓöÇ 3D Lanyard Campus ID Background ΓöÇΓöÇ */}
-            <Suspense fallback={null}>
-                <Lanyard position={[0, 0, 30]} gravity={[0, -40, 0]} fov={20} transparent />
-            </Suspense>
+        <div className="fixed inset-0 z-50 bg-[#020205] overflow-hidden">
+            {/* Ambient Background Gradient for Lanyard Visibility */}
+            <div className="absolute inset-0 opacity-20 pointer-events-none" style={{ background: 'radial-gradient(circle at 50% 50%, #00BCD4 0%, transparent 70%)' }} />
+
+            {/* ΓöÇΓöÇ 3D Lanyard Campus ID ΓöÇΓöÇ */}
+            <div className="absolute inset-0 z-0">
+                <ErrorBoundary fallback={<div className="w-full h-full bg-black" />}>
+                    <Suspense fallback={null}>
+                        <Lanyard position={[0, 0, 25]} gravity={[0, -40, 0]} fov={22} transparent />
+                    </Suspense>
+                </ErrorBoundary>
+            </div>
 
-            {/* ΓöÇΓöÇ "MCTRGIT CAMPUS ID" watermark title ΓöÇΓöÇ */}
-            <div className="absolute inset-0 flex items-center justify-center pointer-events-none select-none z-[1]">
-                <div className="text-center">
-                    <p className="text-[10px] md:text-xs tracking-[0.5em] uppercase text-white/10 font-mono mb-2">
-                        BEROZGAR // CAMPUS_ECOSYSTEM
-                    </p>
-                    <h1 className="text-[4rem] md:text-[7rem] lg:text-[9rem] font-bold text-white/[0.04] uppercase leading-none font-display italic tracking-tight">
-                        CAMPUS ID
-                    </h1>
-                </div>
+            {/* ΓöÇΓöÇ Watermark ΓöÇΓöÇ */}
+            <div className="absolute inset-x-0 top-1/2 -translate-y-1/2 flex flex-col items-center justify-center pointer-events-none select-none z-[1] opacity-5">
+                <h1 className="text-[12rem] md:text-[20rem] font-bold text-white uppercase leading-none font-display italic tracking-tighter">
+                    TRUST
+                </h1>
             </div>
 
             {/* ΓöÇΓöÇ Login Form Overlay ΓöÇΓöÇ */}
-            <div className="absolute inset-0 z-10 flex items-center justify-end p-6 md:p-12 lg:pr-24 pointer-events-none">
+            <div className="absolute inset-0 z-10 flex items-center justify-end p-6 md:p-12 lg:pr-32 pointer-events-none">
                 <div className="pointer-events-auto w-full max-w-md">
-                    {/* Header */}
-                    <div className="mb-8 space-y-3">
-                        <div className="flex items-center space-x-2 text-primary">
-                            <Shield className="w-4 h-4 animate-pulse" />
-                            <span className="text-[10px] font-bold tracking-[0.3em] uppercase">Verified Entry</span>
+                    <div className="mb-8 space-y-4">
+                        <div className="flex items-center space-x-3 text-primary">
+                            <div className="w-12 h-px bg-primary/30" />
+                            <span className="text-[10px] font-bold tracking-[0.4em] uppercase">MCTRGIT Gateway</span>
                         </div>
-                        <h2 className="text-3xl md:text-4xl font-bold text-white uppercase italic font-display">
-                            <SplitText className="inline-block" trigger="load">
-                                SECURE ACCESS
-                            </SplitText>
+                        <h2 className="text-4xl md:text-5xl font-bold text-white uppercase italic font-display leading-tight">
+                            Identity<br />Verified
                         </h2>
-                        <p className="text-white/40 text-sm max-w-sm font-body leading-relaxed">
-                            Use your <span className="text-primary font-semibold">@mctrgit.ac.in</span> Google account for instant access.
-                        </p>
                     </div>
 
-                    {/* Form Card */}
-                    <div className="relative group">
-                        <div className="absolute -inset-1 bg-gradient-to-r from-primary/20 to-teal-500/20 rounded-2xl blur-xl transition-all duration-1000 group-hover:opacity-100 opacity-50" />
+                    <div className="relative">
+                        {/* Glow effect */}
+                        <div className="absolute -inset-2 bg-primary/10 rounded-[2rem] blur-2xl" />
 
-                        <div className="relative bg-[#0a0a0a]/90 border border-white/10 p-8 rounded-2xl shadow-2xl backdrop-blur-xl overflow-hidden">
-                            {/* ΓöÇΓöÇ Google Sign-In ΓÇö Primary CTA ΓöÇΓöÇ */}
+                        <div className="relative bg-black/60 border border-white/5 p-10 rounded-[1.5rem] shadow-2xl backdrop-blur-2xl">
                             <Button
                                 type="button"
                                 onClick={handleGoogleClick}
                                 disabled={isGoogleLoading || isLoading}
-                                className="w-full h-14 mb-4 bg-white hover:bg-gray-50 text-gray-800 font-bold text-base rounded-xl flex items-center justify-center gap-3 transition-all duration-300 border border-gray-200 shadow-lg hover:shadow-xl hover:scale-[1.01]"
+                                className="group w-full h-16 mb-6 bg-white hover:bg-gray-100 text-gray-900 font-black text-sm rounded-xl flex items-center justify-center gap-3 transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_30px_rgba(255,255,255,0.2)]"
                             >
-                                <svg viewBox="0 0 24 24" width="22" height="22" xmlns="http://www.w3.org/2000/svg">
-                                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.76h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
-                                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
-                                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
-                                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
+                                <svg viewBox="0 0 24 24" width="20" height="20" xmlns="http://www.w3.org/2000/svg">
+                                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.76h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4" />
+                                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853" />
+                                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05" />
+                                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335" />
                                 </svg>
-                                {isGoogleLoading ? "Signing in..." : "Continue with Google"}
+                                {isGoogleLoading ? "VERIFYING..." : "MCTRGIT SINGLE SIGN-ON"}
                             </Button>
 
-                            <p className="text-center text-white/25 text-[10px] mb-6 tracking-wide">
-                                Recommended ΓÇö instant access with your campus Google account
-                            </p>
-
-                            {/* ΓöÇΓöÇ Email/Password Toggle ΓöÇΓöÇ */}
-                            <div className="flex items-center gap-4 mb-4">
-                                <div className="flex-1 h-px bg-white/10" />
-                                <button
-                                    type="button"
-                                    onClick={() => setShowEmailForm((p) => !p)}
-                                    className="text-white/30 text-[10px] uppercase tracking-widest font-bold hover:text-white/50 transition-colors flex items-center gap-1"
-                                >
-                                    or use email
-                                    <ChevronDown className={`w-3 h-3 transition-transform duration-200 ${showEmailForm ? 'rotate-180' : ''}`} />
+                            <div className="flex items-center gap-6 mb-6">
+                                <div className="flex-1 h-px bg-white/5" />
+                                <button onClick={() => setShowEmailForm(!showEmailForm)} className="text-[10px] font-bold uppercase tracking-widest text-white/30 hover:text-white transition-colors">
+                                    {showEmailForm ? "HIDE AUTH" : "USE LEGACY MAIL"}
                                 </button>
-                                <div className="flex-1 h-px bg-white/10" />
+                                <div className="flex-1 h-px bg-white/5" />
                             </div>
 
-                            {/* ΓöÇΓöÇ Collapsible Email Form ΓöÇΓöÇ */}
-                            <div
-                                className={`grid transition-all duration-300 ease-in-out ${showEmailForm ? 'grid-rows-[1fr] opacity-100' : 'grid-rows-[0fr] opacity-0'}`}
-                            >
+                            <div className={`grid transition-all duration-300 ${showEmailForm ? 'grid-rows-[1fr] opacity-100 mb-6' : 'grid-rows-[0fr] opacity-0'}`}>
                                 <div className="overflow-hidden">
-                            <Form {...form}>
-                                <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
-                                    <FormField
-                                        control={form.control}
-                                        name="email"
-                                        render={({ field }) => (
-                                            <FormItem className="space-y-2">
-                                                <FormLabel className="text-white/70 uppercase tracking-widest text-[10px] font-bold">Email Address</FormLabel>
-                                                <FormControl>
-                                                    <Input
-                                                        placeholder="you@mctrgit.ac.in"
-                                                        {...field}
-                                                        className="bg-black/50 border-white/10 text-white h-12 rounded-none border-b-2 border-x-0 border-t-0 focus-visible:ring-0 focus-visible:border-primary transition-all duration-300"
-                                                    />
-                                                </FormControl>
-                                                <FormMessage className="text-red-400 text-[11px]" />
-                                            </FormItem>
-                                        )}
-                                    />
-
-                                    <FormField
-                                        control={form.control}
-                                        name="password"
-                                        render={({ field }) => (
-                                            <FormItem className="space-y-2">
-                                                <FormLabel className="text-white/70 uppercase tracking-widest text-[10px] font-bold">Password</FormLabel>
-                                                <FormControl>
-                                                    <Input
-                                                        type="password"
-                                                        placeholder="ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó"
-                                                        {...field}
-                                                        className="bg-black/50 border-white/10 text-white h-12 rounded-none border-b-2 border-x-0 border-t-0 focus-visible:ring-0 focus-visible:border-primary transition-all duration-300"
-                                                    />
-                                                </FormControl>
-                                                <FormMessage className="text-red-400 text-[11px]" />
-                                            </FormItem>
-                                        )}
-                                    />
-
-                                    <div className="flex flex-col space-y-4 pt-4">
-                                        <Button
-                                            type="submit"
-                                            disabled={isLoading || isGoogleLoading}
-                                            className="w-full bg-primary hover:bg-teal-400 text-black font-bold h-14 rounded-none group/btn relative overflow-hidden transition-all duration-500"
-                                        >
-                                            <span className="relative z-10 flex items-center justify-center space-x-2">
+                                    <Form {...form}>
+                                        <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
+                                            <FormField control={form.control} name="email" render={({ field }) => (
+                                                <FormItem>
+                                                    <FormControl><Input placeholder="YOU@MCTRGIT.AC.IN" {...field} className="bg-white/5 border-white/5 text-white h-14 rounded-lg placeholder:text-white/10" /></FormControl>
+                                                    <FormMessage />
+                                                </FormItem>
+                                            )} />
+                                            <FormField control={form.control} name="password" render={({ field }) => (
+                                                <FormItem>
+                                                    <FormControl><Input type="password" placeholder="ΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇóΓÇó" {...field} className="bg-white/5 border-white/5 text-white h-14 rounded-lg placeholder:text-white/10" /></FormControl>
+                                                    <FormMessage />
+                                                </FormItem>
+                                            )} />
+                                            <Button type="submit" disabled={isLoading} className="w-full bg-primary hover:bg-teal-400 text-black font-black h-16 rounded-xl">
                                                 {isLoading ? "AUTHORIZING..." : "ENTER PORTAL"}
-                                                {!isLoading && <ArrowRight className="w-4 h-4 transition-transform group-hover/btn:translate-x-1" />}
-                                            </span>
-                                            <div className="absolute inset-0 bg-white translate-x-[-100%] group-hover/btn:translate-x-0 transition-transform duration-500" />
-                                        </Button>
-                                    </div>
-                                </form>
-                            </Form>
+                                            </Button>
+                                        </form>
+                                    </Form>
                                 </div>
                             </div>
 
-                            {/* ΓöÇΓöÇ Nav Links (always visible) ΓöÇΓöÇ */}
-                            <div className="flex items-center justify-between text-[11px] font-bold uppercase tracking-widest text-white/40 pt-4 mt-4 border-t border-white/5">
-                                <Link to="/signup" className="hover:text-primary transition-colors underline-reveal">
-                                    Request Access
-                                </Link>
-                                <Link to="/" className="hover:text-white transition-colors opacity-50">
-                                    Back to Home
-                                </Link>
-                            </div>
-
-                            <div className="mt-6 flex items-center justify-center space-x-2 text-[9px] text-white/20 uppercase tracking-[0.3em]">
-                                <Shield className="w-3 h-3" />
-                                <span>Zero-Exposure Security Protocol</span>
+                            <div className="flex items-center justify-between text-[10px] font-bold uppercase tracking-[0.2em] text-white/20">
+                                <Link to="/signup" className="hover:text-primary transition-colors">Request Account</Link>
+                                <Link to="/" className="hover:text-white transition-colors">Cancel Access</Link>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>
 
-            {/* ΓöÇΓöÇ Bottom meta bar ΓöÇΓöÇ */}
-            <div className="absolute bottom-0 left-0 right-0 z-10 flex items-center justify-between px-6 py-4 text-[9px] uppercase tracking-[0.3em] text-white/15 font-mono pointer-events-none">
-                <span>BEROZGAR // CAMPUS_ECOSYSTEM</span>
-                <span>EST. 2026 // V0.1.0</span>
+            <div className="absolute bottom-8 left-12 z-10 flex flex-col space-y-2 text-[9px] uppercase tracking-[0.5em] text-white/10 font-mono">
+                <span>SYSTEM_STATUS: ONLINE</span>
+                <span>AUTH_PROTOCOL: HMAC_HMAC_SHA256</span>
             </div>
-
         </div>
     );
 };
diff --git a/src/pages/NotFound.tsx b/src/pages/NotFound.tsx
index 179c346..b386a65 100644
--- a/src/pages/NotFound.tsx
+++ b/src/pages/NotFound.tsx
@@ -1,4 +1,4 @@
-import { useLocation } from "react-router-dom";
+import { useLocation, Link } from "react-router-dom";
 import { useEffect } from "react";
 import logger from "@/lib/logger";
 
@@ -16,9 +16,9 @@ const NotFound = () => {
       <div className="text-center">
         <h1 className="mb-4 text-4xl font-bold">404</h1>
         <p className="mb-4 text-xl text-muted-foreground">Oops! Page not found</p>
-        <a href="/" className="text-primary underline hover:text-primary/90">
+        <Link to="/" className="text-primary underline hover:text-primary/90">
           Return to Home
-        </a>
+        </Link>
       </div>
     </div>
   );
diff --git a/src/pages/ProfilePage.tsx b/src/pages/ProfilePage.tsx
index 335472c..5f3ecba 100644
--- a/src/pages/ProfilePage.tsx
+++ b/src/pages/ProfilePage.tsx
@@ -1,570 +1,566 @@
-/**
- * BErozgar ΓÇö Profile Page
- *
- * Role-based conditional rendering using ONLY existing components.
- * No new UI elements. No new CSS. No layout changes.
- *
- * - Students: activity summary, listings, requests, contributions
- * - Admins (SUPER/REVIEWER): governance metrics, system health
- * - Admins (OBSERVER): observatory read-only view
- */
-
-import { useEffect, useLayoutEffect, useRef, useState } from 'react';
-import { useParams } from 'react-router-dom';
-import gsap from 'gsap';
-import logger from '@/lib/logger';
-import {
-  User,
-  Shield,
-  BookOpen,
-  Package,
-  ArrowLeftRight,
-  TrendingUp,
-  CheckCircle,
-  Eye,
-} from 'lucide-react';
-
-import { useProfile } from '@/contexts/ProfileContext';
-import { useAuth } from '@/contexts/AuthContext';
-import api from '@/lib/api-client';
-import {
-  isStudentProfile,
-  isAdminProfile,
-  validateProfileRoleIntegrity,
-  ROLE_CONFIGS,
-  canViewGovernance,
-  isObserverOnly,
-} from '@/domain/profile';
-import type { Profile, AdminStudentView } from '@/domain/profile';
-import { Badge } from '@/components/ui/badge';
-import { Progress } from '@/components/ui/progress';
-import SplitText from '@/components/SplitText';
-import { logAdminAction } from '@/services/auditService';
-
-/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
-   Minimal Safe View (fallback)
-   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
-
-function SafeFallbackView({ message }: { message: string }) {
-  return (
-    <div className="min-h-screen bg-portal flex items-center justify-center">
-      <div className="text-center space-y-4 max-w-md">
-        <Shield className="w-12 h-12 text-white/20 mx-auto" />
-        <p className="text-white/40 text-sm font-body">{message}</p>
-      </div>
-    </div>
-  );
-}
-
-/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
-   Student Profile Sections
-   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
-
-function StudentSections({ profile }: { profile: Profile }) {
-  if (!isStudentProfile(profile)) return null;
-
-  const { data } = profile;
-  const stats = [
-    { label: 'Listings', value: data.listingsCount.toString(), icon: Package },
-    { label: 'Requests', value: data.requestsCount.toString(), icon: BookOpen },
-    { label: 'Exchanges', value: data.exchangesCompleted.toString(), icon: ArrowLeftRight },
-    { label: 'Value Circulated', value: `Γé╣${data.valueCirculated.toLocaleString()}`, icon: TrendingUp },
-  ];
-
-  return (
-    <>
-      {/* Activity Summary */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Activity Summary
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
-          {stats.map((stat, i) => (
-            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2 group hover:border-primary/30 transition-all duration-500">
-              <div className="flex items-center space-x-2">
-                <stat.icon className="w-4 h-4 text-white/30" />
-                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
-              </div>
-              <span className="text-3xl font-display font-bold">{stat.value}</span>
-            </div>
-          ))}
-        </div>
-      </div>
-
-      {/* Reputation & Active Listings */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Contributions
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Reputation Score</p>
-            <div className="space-y-2">
-              <div className="flex justify-between items-end">
-                <span className="text-3xl font-display font-bold">{data.reputation}</span>
-                <span className="text-[10px] font-bold text-primary">/100</span>
-              </div>
-              <Progress value={data.reputation} className="h-1 bg-white/5" />
-            </div>
-          </div>
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Listings</p>
-            <div className="flex justify-between items-end">
-              <span className="text-3xl font-display font-bold">{data.activeListings}</span>
-              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                LIVE
-              </Badge>
-            </div>
-          </div>
-        </div>
-      </div>
-    </>
-  );
-}
-
-/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
-   Admin Profile Sections
-   Privilege-aware: SUPER/REVIEWER see governance metrics.
-   OBSERVER sees read-only observatory view.
-   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
-
-function AdminSections({ profile }: { profile: Profile }) {
-  if (!isAdminProfile(profile)) return null;
-
-  const { data, privilegeLevel } = profile;
-
-  // ΓöÇΓöÇ OBSERVER tier: read-only observatory view ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-  if (isObserverOnly(privilegeLevel)) {
-    return (
-      <>
-        {/* Observatory Banner */}
-        <div className="space-y-6">
-          <div className="flex items-center space-x-3">
-            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-              System Overview
-            </h3>
-            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-              <Eye className="w-3 h-3 mr-1 text-white/40" />
-              READ-ONLY
-            </Badge>
-          </div>
-          <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
-            {[
-              { label: 'Total Students', value: data.totalStudents.toLocaleString() },
-              { label: 'Active Exchanges', value: data.activeExchanges.toString() },
-              { label: 'Academic Listings', value: data.academicListings.toString() },
-              { label: 'System Uptime', value: `${data.systemUptimePercent}%` },
-            ].map((stat, i) => (
-              <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2">
-                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
-                <span className="text-3xl font-display font-bold">{stat.value}</span>
-              </div>
-            ))}
-          </div>
-        </div>
-
-        {/* Academic Registry Summary */}
-        <div className="space-y-6">
-          <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-            Academic Registry Summary
-          </h3>
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-white/40 text-sm font-body leading-relaxed">
-              High-level view of academic resource circulation within the MCTRGIT campus ecosystem.
-              Detailed records are maintained by the administrative governance layer.
-            </p>
-            <div className="grid grid-cols-2 gap-6 pt-4 border-t border-white/5">
-              <div>
-                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest mb-1">Textbooks Listed</p>
-                <p className="text-xl font-display font-bold">{data.academicListings}</p>
-              </div>
-              <div>
-                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest mb-1">Active Student Exchanges</p>
-                <p className="text-xl font-display font-bold">{data.activeExchanges}</p>
-              </div>
-            </div>
-          </div>
-        </div>
-      </>
-    );
-  }
-
-  // ΓöÇΓöÇ SUPER / REVIEWER tier: full governance metrics ΓöÇΓöÇ
-  const stats = [
-    { label: 'Total Listings', value: data.totalListings.toString(), delta: 'System-wide' },
-    { label: 'Active Users', value: data.activeUsers.toLocaleString(), delta: 'Verified' },
-    { label: 'Open Disputes', value: data.openDisputes.toString(), delta: data.openDisputes > 5 ? 'Attention Required' : 'Under Control', danger: data.openDisputes > 5 },
-    { label: 'Avg Approval', value: `${data.avgApprovalTimeHours}hr`, delta: 'Optimized' },
-  ];
-
-  return (
-    <>
-      {/* Admin Metrics */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Governance Metrics
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
-          {stats.map((stat, i) => (
-            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2 group hover:border-primary/30 transition-all duration-500">
-              <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
-              <div className="flex justify-between items-end">
-                <span className="text-3xl font-display font-bold">{stat.value}</span>
-                <span className={`text-[10px] font-bold ${stat.danger ? 'text-red-400' : 'text-primary'}`}>{stat.delta}</span>
-              </div>
-            </div>
-          ))}
-        </div>
-      </div>
-
-      {/* System Health */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          System Health
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Health Score</p>
-            <div className="space-y-2">
-              <div className="flex justify-between items-end">
-                <span className="text-3xl font-display font-bold">{data.systemHealthScore}</span>
-                <span className="text-[10px] font-bold text-primary">/100</span>
-              </div>
-              <Progress value={data.systemHealthScore} className="h-1 bg-white/5" />
-            </div>
-          </div>
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Recent Actions (24h)</p>
-            <div className="flex justify-between items-end">
-              <span className="text-3xl font-display font-bold">{data.recentActions}</span>
-              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                <CheckCircle className="w-3 h-3 mr-1 text-emerald-400" />
-                ACTIVE
-              </Badge>
-            </div>
-          </div>
-        </div>
-      </div>
-    </>
-  );
-}
-
-/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
-   Admin Drilldown ΓÇö Read-Only Student View
-   Shows student data to admin. No edit capability.
-   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
-
-function AdminDrilldownView({ view }: { view: AdminStudentView }) {
-  const stats = [
-    { label: 'Listings', value: view.data.listingsCount.toString(), icon: Package },
-    { label: 'Requests', value: view.data.requestsCount.toString(), icon: BookOpen },
-    { label: 'Exchanges', value: view.data.exchangesCompleted.toString(), icon: ArrowLeftRight },
-    { label: 'Value Circulated', value: `Γé╣${view.data.valueCirculated.toLocaleString()}`, icon: TrendingUp },
-  ];
-
-  const trustBadgeClass =
-    view.trust.status === 'RESTRICTED'
-      ? 'border-red-400/40 text-red-400'
-      : view.trust.status === 'REVIEW_REQUIRED'
-        ? 'border-yellow-400/40 text-yellow-400'
-        : 'border-emerald-400/40 text-emerald-400';
-
-  return (
-    <>
-      {/* Read-Only Banner */}
-      <div className="flex items-center space-x-2 text-white/30">
-        <Eye className="w-4 h-4" />
-        <p className="text-[10px] uppercase font-bold tracking-[0.3em]">
-          Admin Observation Mode ΓÇö Read Only
-        </p>
-      </div>
-
-      {/* Identity Header */}
-      <div className="space-y-4">
-        <div className="flex items-center space-x-3">
-          <div className="w-12 h-12 border border-white/10 bg-black/40 flex items-center justify-center">
-            <User className="w-6 h-6 text-primary" />
-          </div>
-          <div>
-            <h1 className="text-4xl md:text-5xl font-display font-bold uppercase italic leading-none">
-              {view.identity.fullName.toUpperCase()}
-            </h1>
-            <div className="flex items-center space-x-3 mt-2">
-              <Badge variant="outline" className="border-primary/30 text-primary text-[9px] font-bold tracking-widest px-3 py-1">
-                STUDENT
-              </Badge>
-              <span className="text-white/20 text-[10px] font-bold tracking-widest uppercase">
-                {view.identity.email}
-              </span>
-            </div>
-          </div>
-        </div>
-        <p className="text-white/40 text-[10px] uppercase font-bold tracking-[0.4em]">
-          BErozgar Campus Identity ΓÇö {view.identity.verified ? 'Verified' : 'Unverified'}
-        </p>
-      </div>
-
-      <div className="border-t border-white/5" />
-
-      {/* Trust Status */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Trust Status
-        </h3>
-        <div className="p-6 border border-white/10 bg-black/20 space-y-3">
-          <div className="flex items-center space-x-3">
-            <Badge variant="outline" className={`text-[9px] font-bold tracking-widest px-3 py-1 ${trustBadgeClass}`}>
-              {view.trust.status.replace(/_/g, ' ')}
-            </Badge>
-            {view.fraud?.hasPendingReview && (
-              <Badge variant="outline" className="border-yellow-400/40 text-yellow-400 text-[9px] font-bold tracking-widest px-3 py-1">
-                FRAUD REVIEW REQUIRED
-              </Badge>
-            )}
-          </div>
-          {view.trust.reasons.length > 0 && (
-            <ul className="space-y-1">
-              {view.trust.reasons.map((reason, i) => (
-                <li key={i} className="text-white/30 text-[10px] font-body">ΓÇö {reason}</li>
-              ))}
-            </ul>
-          )}
-          {view.fraud && view.fraud.totalFlags > 0 && (
-            <div className="pt-3 border-t border-white/5 space-y-2">
-              <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">
-                Fraud Heuristic Flags: {view.fraud.totalFlags} total, {view.fraud.unreviewedCount} unreviewed
-              </p>
-              {view.fraud.latestRiskLevel && (
-                <p className="text-white/30 text-[10px] font-body">
-                  ΓÇö Latest risk level: {view.fraud.latestRiskLevel}
-                </p>
-              )}
-            </div>
-          )}
-        </div>
-      </div>
-
-      {/* Activity Summary */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Activity Summary
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
-          {stats.map((stat, i) => (
-            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2">
-              <div className="flex items-center space-x-2">
-                <stat.icon className="w-4 h-4 text-white/30" />
-                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
-              </div>
-              <span className="text-3xl font-display font-bold">{stat.value}</span>
-            </div>
-          ))}
-        </div>
-      </div>
-
-      {/* Reputation */}
-      <div className="space-y-6">
-        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
-          Contributions
-        </h3>
-        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Reputation Score</p>
-            <div className="space-y-2">
-              <div className="flex justify-between items-end">
-                <span className="text-3xl font-display font-bold">{view.data.reputation}</span>
-                <span className="text-[10px] font-bold text-primary">/100</span>
-              </div>
-              <Progress value={view.data.reputation} className="h-1 bg-white/5" />
-            </div>
-          </div>
-          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
-            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Listings</p>
-            <div className="flex justify-between items-end">
-              <span className="text-3xl font-display font-bold">{view.data.activeListings}</span>
-              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
-                LIVE
-              </Badge>
-            </div>
-          </div>
-        </div>
-      </div>
-    </>
-  );
-}
-
-/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
-   Profile Page (main export)
-   Supports two modes:
-     1) Self profile ΓÇö authenticated user views their own profile
-     2) Admin drilldown ΓÇö admin views student profile (read-only)
-   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
-
-const ProfilePage = () => {
-  const { user } = useAuth();
-  const { profile, isLoading, error } = useProfile();
-  const { userId: targetUserId } = useParams<{ userId: string }>();
-  const containerRef = useRef<HTMLDivElement>(null);
-
-  // Admin drilldown state
-  const [drilldownView, setDrilldownView] = useState<AdminStudentView | null>(null);
-  const [drilldownLoading, setDrilldownLoading] = useState(false);
-  const [drilldownError, setDrilldownError] = useState<string | null>(null);
-
-  const isAdminDrilldown = !!targetUserId && user?.role === 'admin';
-
-  // Fetch student profile when admin navigates to /profile/:userId
-  useEffect(() => {
-    if (!isAdminDrilldown || !user) return;
-
-    let cancelled = false;
-    setDrilldownLoading(true);
-    setDrilldownError(null);
-
-    const load = async () => {
-      try {
-        const response = await api.get<{ data: AdminStudentView }>(`/admin/users/${targetUserId}`);
-        const view = response.data;
-        if (cancelled) return;
-
-        // Audit: log that admin viewed this profile (fire-and-forget)
-        logAdminAction(user.id, targetUserId, 'VIEW_PROFILE');
-
-        setDrilldownView(view);
-      } catch (err) {
-        if (cancelled) return;
-        const message = err instanceof Error ? err.message : 'Failed to load student profile';
-        logger.error('ProfilePage:Drilldown', message);
-        setDrilldownError(message);
-      } finally {
-        if (!cancelled) setDrilldownLoading(false);
-      }
-    };
-
-    load();
-    return () => { cancelled = true; };
-  }, [isAdminDrilldown, targetUserId, user]);
-
-  // Entrance animation (matching AdminPage pattern)
-  // useLayoutEffect prevents FOUC ΓÇö sets initial state before paint
-  useLayoutEffect(() => {
-    const loading = isAdminDrilldown ? drilldownLoading : isLoading;
-    if (!containerRef.current || loading) return;
-    
-    const ctx = gsap.context(() => {
-      gsap.fromTo(
-        containerRef.current,
-        { y: 20, opacity: 0 },
-        { y: 0, opacity: 1, duration: 0.8, ease: 'power3.out' },
-      );
-    }, containerRef);
-    
-    return () => ctx.revert();
-  }, [isLoading, drilldownLoading, isAdminDrilldown]);
-
-  // ΓöÇΓöÇ Admin Drilldown Mode ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-  if (isAdminDrilldown) {
-    if (drilldownLoading) {
-      return (
-        <div className="min-h-screen bg-portal flex items-center justify-center">
-          <div className="w-6 h-6 border-2 border-foreground/30 border-t-foreground rounded-full animate-spin" />
-        </div>
-      );
-    }
-
-    if (drilldownError) {
-      return <SafeFallbackView message={drilldownError} />;
-    }
-
-    if (!drilldownView) {
-      return <SafeFallbackView message="Student profile data unavailable." />;
-    }
-
-    return (
-      <div className="min-h-screen bg-portal text-white">
-        <div ref={containerRef} className="max-w-6xl mx-auto px-6 md:px-12 py-24 space-y-12">
-          <AdminDrilldownView view={drilldownView} />
-        </div>
-        <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[100] bg-[length:100%_2px,3px_100%]" />
-      </div>
-    );
-  }
-
-  // ΓöÇΓöÇ Non-admin tried to access /profile/:userId ΓåÆ redirect away
-  if (targetUserId && user?.role !== 'admin') {
-    return <SafeFallbackView message="Insufficient permissions. Admin access required." />;
-  }
-
-  // ΓöÇΓöÇ Self Profile Mode ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
-  if (isLoading) {
-    return (
-      <div className="min-h-screen bg-portal flex items-center justify-center">
-        <div className="w-6 h-6 border-2 border-foreground/30 border-t-foreground rounded-full animate-spin" />
-      </div>
-    );
-  }
-
-  if (error) {
-    return <SafeFallbackView message={error} />;
-  }
-
-  if (!profile || !user) {
-    return <SafeFallbackView message="Profile data unavailable." />;
-  }
-
-  if (!validateProfileRoleIntegrity(profile)) {
-    return <SafeFallbackView message="Security check failed. Profile data withheld." />;
-  }
-
-  if (user.role !== profile.role) {
-    logger.error('ProfilePage',
-      `User role "${user.role}" does not match profile role "${profile.role}". ` +
-      `Rendering minimal view.`
-    );
-    return <SafeFallbackView message="Role verification mismatch. Contact administration." />;
-  }
-
-  const roleConfig = ROLE_CONFIGS[profile.role];
-
-  return (
-    <div className="min-h-screen bg-portal text-white">
-      <div ref={containerRef} className="max-w-6xl mx-auto px-6 md:px-12 py-24 space-y-12">
-        {/* Identity Header */}
-        <div className="space-y-4">
-          <div className="flex items-center space-x-3">
-            <div className="w-12 h-12 border border-white/10 bg-black/40 flex items-center justify-center">
-              <User className="w-6 h-6 text-primary" />
-            </div>
-            <div>
-              <h1 className="text-4xl md:text-5xl font-display font-bold uppercase italic leading-none">
-                <SplitText trigger="load">{profile.identity.fullName.toUpperCase()}</SplitText>
-              </h1>
-              <div className="flex items-center space-x-3 mt-2">
-                <Badge variant="outline" className="border-primary/30 text-primary text-[9px] font-bold tracking-widest px-3 py-1">
-                  {roleConfig.label.toUpperCase()}
-                </Badge>
-                <span className="text-white/20 text-[10px] font-bold tracking-widest uppercase">
-                  {profile.identity.email}
-                </span>
-              </div>
-            </div>
-          </div>
-          <p className="text-white/40 text-[10px] uppercase font-bold tracking-[0.4em]">
-            BErozgar Campus Identity ΓÇö {profile.identity.verified ? 'Verified' : 'Unverified'}
-          </p>
-        </div>
-
-        <div className="border-t border-white/5" />
-
-        {/* Role-specific sections ΓÇö conditional rendering */}
-        {profile.role === 'student' && <StudentSections profile={profile} />}
-        {profile.role === 'admin' && <AdminSections profile={profile} />}
-      </div>
-
-      {/* Institutional Scanlines (matching AdminPage) */}
-      <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[100] bg-[length:100%_2px,3px_100%]" />
-    </div>
-  );
-};
-
-export default ProfilePage;
+/**
+ * BErozgar ΓÇö Profile Page
+ *
+ * Role-based conditional rendering using ONLY existing components.
+ * No new UI elements. No new CSS. No layout changes.
+ *
+ * - Students: activity summary, listings, requests, contributions
+ * - Admins (SUPER/REVIEWER): governance metrics, system health
+ * - Admins (OBSERVER): observatory read-only view
+ */
+
+import { useEffect, useLayoutEffect, useRef, useState } from 'react';
+import { useParams } from 'react-router-dom';
+import gsap from 'gsap';
+import logger from '@/lib/logger';
+import {
+  User,
+  Shield,
+  BookOpen,
+  Package,
+  ArrowLeftRight,
+  TrendingUp,
+  CheckCircle,
+  Eye,
+} from 'lucide-react';
+
+import { useProfile } from '@/contexts/ProfileContext';
+import { useAuth } from '@/contexts/AuthContext';
+import api from '@/lib/api-client';
+import {
+  isStudentProfile,
+  isAdminProfile,
+  validateProfileRoleIntegrity,
+  ROLE_CONFIGS,
+  canViewGovernance,
+  isObserverOnly,
+} from '@/domain/profile';
+import type { Profile, AdminStudentView } from '@/domain/profile';
+import { Badge } from '@/components/ui/badge';
+import { Progress } from '@/components/ui/progress';
+import SplitText from '@/components/SplitText';
+import { logAdminAction } from '@/services/auditService';
+
+/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+   Minimal Safe View (fallback)
+   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
+
+function SafeFallbackView({ message }: { message: string }) {
+  return (
+    <div className="min-h-screen bg-portal flex items-center justify-center">
+      <div className="text-center space-y-4 max-w-md">
+        <Shield className="w-12 h-12 text-white/20 mx-auto" />
+        <p className="text-white/40 text-sm font-body">{message}</p>
+      </div>
+    </div>
+  );
+}
+
+/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+   Student Profile Sections
+   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
+
+function StudentSections({ profile }: { profile: Profile }) {
+  if (!isStudentProfile(profile)) return null;
+
+  const { data } = profile;
+  const stats = [
+    { label: 'Listings', value: data.listingsCount.toString(), icon: Package },
+    { label: 'Requests', value: data.requestsCount.toString(), icon: BookOpen },
+    { label: 'Exchanges', value: data.exchangesCompleted.toString(), icon: ArrowLeftRight },
+    { label: 'Value Circulated', value: `Γé╣${data.valueCirculated.toLocaleString()}`, icon: TrendingUp },
+  ];
+
+  return (
+    <>
+      {/* Activity Summary */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Activity Summary
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
+          {stats.map((stat, i) => (
+            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2 group hover:border-primary/30 transition-all duration-500">
+              <div className="flex items-center space-x-2">
+                <stat.icon className="w-4 h-4 text-white/30" />
+                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
+              </div>
+              <span className="text-3xl font-display font-bold">{stat.value}</span>
+            </div>
+          ))}
+        </div>
+      </div>
+
+      {/* Reputation & Active Listings */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Contributions
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Reputation Score</p>
+            <div className="space-y-2">
+              <div className="flex justify-between items-end">
+                <span className="text-3xl font-display font-bold">{data.reputation}</span>
+                <span className="text-[10px] font-bold text-primary">/100</span>
+              </div>
+              <Progress value={data.reputation} className="h-1 bg-white/5" />
+            </div>
+          </div>
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Listings</p>
+            <div className="flex justify-between items-end">
+              <span className="text-3xl font-display font-bold">{data.activeListings}</span>
+              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                LIVE
+              </Badge>
+            </div>
+          </div>
+        </div>
+      </div>
+    </>
+  );
+}
+
+/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+   Admin Profile Sections
+   Privilege-aware: SUPER/REVIEWER see governance metrics.
+   OBSERVER sees read-only observatory view.
+   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
+
+function AdminSections({ profile }: { profile: Profile }) {
+  if (!isAdminProfile(profile)) return null;
+
+  const { data, privilegeLevel } = profile;
+
+  // ΓöÇΓöÇ OBSERVER tier: read-only observatory view ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
+  if (isObserverOnly(privilegeLevel)) {
+    return (
+      <>
+        {/* Observatory Banner */}
+        <div className="space-y-6">
+          <div className="flex items-center space-x-3">
+            <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+              System Overview
+            </h3>
+            <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+              <Eye className="w-3 h-3 mr-1 text-white/40" />
+              READ-ONLY
+            </Badge>
+          </div>
+          <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
+            {[
+              { label: 'Total Students', value: data.totalStudents.toLocaleString() },
+              { label: 'Active Exchanges', value: data.activeExchanges.toString() },
+              { label: 'Academic Listings', value: data.academicListings.toString() },
+              { label: 'System Uptime', value: `${data.systemUptimePercent}%` },
+            ].map((stat, i) => (
+              <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2">
+                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
+                <span className="text-3xl font-display font-bold">{stat.value}</span>
+              </div>
+            ))}
+          </div>
+        </div>
+
+        {/* Academic Registry Summary */}
+        <div className="space-y-6">
+          <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+            Academic Registry Summary
+          </h3>
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-white/40 text-sm font-body leading-relaxed">
+              High-level view of academic resource circulation within the MCTRGIT campus ecosystem.
+              Detailed records are maintained by the administrative governance layer.
+            </p>
+            <div className="grid grid-cols-2 gap-6 pt-4 border-t border-white/5">
+              <div>
+                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest mb-1">Textbooks Listed</p>
+                <p className="text-xl font-display font-bold">{data.academicListings}</p>
+              </div>
+              <div>
+                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest mb-1">Active Student Exchanges</p>
+                <p className="text-xl font-display font-bold">{data.activeExchanges}</p>
+              </div>
+            </div>
+          </div>
+        </div>
+      </>
+    );
+  }
+
+  // ΓöÇΓöÇ SUPER / REVIEWER tier: full governance metrics ΓöÇΓöÇ
+  const stats = [
+    { label: 'Total Listings', value: data.totalListings.toString(), delta: 'System-wide' },
+    { label: 'Active Users', value: data.activeUsers.toLocaleString(), delta: 'Verified' },
+    { label: 'Open Disputes', value: data.openDisputes.toString(), delta: data.openDisputes > 5 ? 'Attention Required' : 'Under Control', danger: data.openDisputes > 5 },
+    { label: 'Avg Approval', value: `${data.avgApprovalTimeHours}hr`, delta: 'Optimized' },
+  ];
+
+  return (
+    <>
+      {/* Admin Metrics */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Governance Metrics
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
+          {stats.map((stat, i) => (
+            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2 group hover:border-primary/30 transition-all duration-500">
+              <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
+              <div className="flex justify-between items-end">
+                <span className="text-3xl font-display font-bold">{stat.value}</span>
+                <span className={`text-[10px] font-bold ${stat.danger ? 'text-red-400' : 'text-primary'}`}>{stat.delta}</span>
+              </div>
+            </div>
+          ))}
+        </div>
+      </div>
+
+      {/* System Health */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          System Health
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Health Score</p>
+            <div className="space-y-2">
+              <div className="flex justify-between items-end">
+                <span className="text-3xl font-display font-bold">{data.systemHealthScore}</span>
+                <span className="text-[10px] font-bold text-primary">/100</span>
+              </div>
+              <Progress value={data.systemHealthScore} className="h-1 bg-white/5" />
+            </div>
+          </div>
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Recent Actions (24h)</p>
+            <div className="flex justify-between items-end">
+              <span className="text-3xl font-display font-bold">{data.recentActions}</span>
+              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                <CheckCircle className="w-3 h-3 mr-1 text-emerald-400" />
+                ACTIVE
+              </Badge>
+            </div>
+          </div>
+        </div>
+      </div>
+    </>
+  );
+}
+
+/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+   Admin Drilldown ΓÇö Read-Only Student View
+   Shows student data to admin. No edit capability.
+   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
+
+function AdminDrilldownView({ view }: { view: AdminStudentView }) {
+  const stats = [
+    { label: 'Listings', value: view.data.listingsCount.toString(), icon: Package },
+    { label: 'Requests', value: view.data.requestsCount.toString(), icon: BookOpen },
+    { label: 'Exchanges', value: view.data.exchangesCompleted.toString(), icon: ArrowLeftRight },
+    { label: 'Value Circulated', value: `Γé╣${view.data.valueCirculated.toLocaleString()}`, icon: TrendingUp },
+  ];
+
+  const trustBadgeClass =
+    view.trust.status === 'RESTRICTED'
+      ? 'border-red-400/40 text-red-400'
+      : view.trust.status === 'REVIEW_REQUIRED'
+        ? 'border-yellow-400/40 text-yellow-400'
+        : 'border-emerald-400/40 text-emerald-400';
+
+  return (
+    <>
+      {/* Read-Only Banner */}
+      <div className="flex items-center space-x-2 text-white/30">
+        <Eye className="w-4 h-4" />
+        <p className="text-[10px] uppercase font-bold tracking-[0.3em]">
+          Admin Observation Mode ΓÇö Read Only
+        </p>
+      </div>
+
+      {/* Identity Header */}
+      <div className="space-y-4">
+        <div className="flex items-center space-x-3">
+          <div className="w-12 h-12 border border-white/10 bg-black/40 flex items-center justify-center">
+            <User className="w-6 h-6 text-primary" />
+          </div>
+          <div>
+            <h1 className="text-4xl md:text-5xl font-display font-bold uppercase italic leading-none">
+              {view.identity.fullName.toUpperCase()}
+            </h1>
+            <div className="flex items-center space-x-3 mt-2">
+              <Badge variant="outline" className="border-primary/30 text-primary text-[9px] font-bold tracking-widest px-3 py-1">
+                STUDENT
+              </Badge>
+              <span className="text-white/20 text-[10px] font-bold tracking-widest uppercase">
+                {view.identity.email}
+              </span>
+            </div>
+          </div>
+        </div>
+        <p className="text-white/40 text-[10px] uppercase font-bold tracking-[0.4em]">
+          BErozgar Campus Identity ΓÇö {view.identity.verified ? 'Verified' : 'Unverified'}
+        </p>
+      </div>
+
+      <div className="border-t border-white/5" />
+
+      {/* Trust Status */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Trust Status
+        </h3>
+        <div className="p-6 border border-white/10 bg-black/20 space-y-3">
+          <div className="flex items-center space-x-3">
+            <Badge variant="outline" className={`text-[9px] font-bold tracking-widest px-3 py-1 ${trustBadgeClass}`}>
+              {view.trust.status.replace(/_/g, ' ')}
+            </Badge>
+            {view.fraud?.hasPendingReview && (
+              <Badge variant="outline" className="border-yellow-400/40 text-yellow-400 text-[9px] font-bold tracking-widest px-3 py-1">
+                FRAUD REVIEW REQUIRED
+              </Badge>
+            )}
+          </div>
+          {view.trust.reasons.length > 0 && (
+            <ul className="space-y-1">
+              {view.trust.reasons.map((reason, i) => (
+                <li key={i} className="text-white/30 text-[10px] font-body">ΓÇö {reason}</li>
+              ))}
+            </ul>
+          )}
+          {view.fraud && view.fraud.totalFlags > 0 && (
+            <div className="pt-3 border-t border-white/5 space-y-2">
+              <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">
+                Fraud Heuristic Flags: {view.fraud.totalFlags} total, {view.fraud.unreviewedCount} unreviewed
+              </p>
+              {view.fraud.latestRiskLevel && (
+                <p className="text-white/30 text-[10px] font-body">
+                  ΓÇö Latest risk level: {view.fraud.latestRiskLevel}
+                </p>
+              )}
+            </div>
+          )}
+        </div>
+      </div>
+
+      {/* Activity Summary */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Activity Summary
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
+          {stats.map((stat, i) => (
+            <div key={i} className="p-6 border border-white/10 bg-black/20 space-y-2">
+              <div className="flex items-center space-x-2">
+                <stat.icon className="w-4 h-4 text-white/30" />
+                <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">{stat.label}</p>
+              </div>
+              <span className="text-3xl font-display font-bold">{stat.value}</span>
+            </div>
+          ))}
+        </div>
+      </div>
+
+      {/* Reputation */}
+      <div className="space-y-6">
+        <h3 className="text-lg font-display font-bold uppercase tracking-widest border-l-2 border-primary pl-4">
+          Contributions
+        </h3>
+        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Reputation Score</p>
+            <div className="space-y-2">
+              <div className="flex justify-between items-end">
+                <span className="text-3xl font-display font-bold">{view.data.reputation}</span>
+                <span className="text-[10px] font-bold text-primary">/100</span>
+              </div>
+              <Progress value={view.data.reputation} className="h-1 bg-white/5" />
+            </div>
+          </div>
+          <div className="p-6 border border-white/10 bg-black/20 space-y-4">
+            <p className="text-[9px] text-white/30 uppercase font-bold tracking-widest">Active Listings</p>
+            <div className="flex justify-between items-end">
+              <span className="text-3xl font-display font-bold">{view.data.activeListings}</span>
+              <Badge variant="outline" className="border-white/10 text-[9px] font-bold tracking-widest px-4 py-1">
+                LIVE
+              </Badge>
+            </div>
+          </div>
+        </div>
+      </div>
+    </>
+  );
+}
+
+/* ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
+   Profile Page (main export)
+   Supports two modes:
+     1) Self profile ΓÇö authenticated user views their own profile
+     2) Admin drilldown ΓÇö admin views student profile (read-only)
+   ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ */
+
+const ProfilePage = () => {
+  const { user } = useAuth();
+  const { profile, isLoading, error } = useProfile();
+  const { userId: targetUserId } = useParams<{ userId: string }>();
+  const containerRef = useRef<HTMLDivElement>(null);
+
+  const [drilldownView, setDrilldownView] = useState<AdminStudentView | null>(null);
+  const [drilldownLoading, setDrilldownLoading] = useState(false);
+  const [drilldownError, setDrilldownError] = useState<string | null>(null);
+
+  const isAdminDrilldown = !!targetUserId && user?.role === 'admin';
+
+  useEffect(() => {
+    if (!isAdminDrilldown || !user) return;
+
+    let cancelled = false;
+    setDrilldownLoading(true);
+    setDrilldownError(null);
+
+    const load = async () => {
+      try {
+        const response = await api.get<{ data: AdminStudentView }>(`/admin/users/${targetUserId}`);
+        const view = response.data;
+        if (cancelled) return;
+        logAdminAction(user.id, targetUserId, 'VIEW_PROFILE');
+        setDrilldownView(view);
+      } catch (err) {
+        if (cancelled) return;
+        const message = err instanceof Error ? err.message : 'Failed to load student profile';
+        logger.error('ProfilePage:Drilldown', message);
+        setDrilldownError(message);
+      } finally {
+        if (!cancelled) setDrilldownLoading(false);
+      }
+    };
+
+    load();
+    return () => { cancelled = true; };
+  }, [isAdminDrilldown, targetUserId, user]);
+
+  // Animate child elements, not the container, to prevent FOUC on Strict Mode double-invoke (ISSUE-08)
+  useLayoutEffect(() => {
+    const loading = isAdminDrilldown ? drilldownLoading : isLoading;
+    if (!containerRef.current || loading) return;
+
+    const ctx = gsap.context(() => {
+      gsap.set('.profile-content', { y: 20, opacity: 0 });
+      gsap.to('.profile-content', { y: 0, opacity: 1, duration: 0.8, ease: 'power3.out' });
+    }, containerRef);
+
+    return () => ctx.revert();
+  }, [isLoading, drilldownLoading, isAdminDrilldown]);
+
+  // ΓöÇΓöÇ Admin Drilldown Mode ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
+  if (isAdminDrilldown) {
+    if (drilldownLoading) {
+      return (
+        <div className="min-h-screen bg-portal flex items-center justify-center">
+          <div className="w-6 h-6 border-2 border-foreground/30 border-t-foreground rounded-full animate-spin" />
+        </div>
+      );
+    }
+
+    if (drilldownError) {
+      return <SafeFallbackView message={drilldownError} />;
+    }
+
+    if (!drilldownView) {
+      return <SafeFallbackView message="Student profile data unavailable." />;
+    }
+
+    return (
+      <div className="min-h-screen bg-portal text-white">
+        <div ref={containerRef} className="max-w-6xl mx-auto px-6 md:px-12 py-24">
+          <div className="profile-content space-y-12">
+            <AdminDrilldownView view={drilldownView} />
+          </div>
+        </div>
+        {/* Scanlines ΓÇö z below cursor: --z-scanline: 80, --z-cursor: 90 (ISSUE-12) */}
+        <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[var(--z-scanline)] bg-[length:100%_2px,3px_100%]" />
+      </div>
+    );
+  }
+
+  // ΓöÇΓöÇ Non-admin tried to access /profile/:userId ΓåÆ redirect away
+  if (targetUserId && user?.role !== 'admin') {
+    return <SafeFallbackView message="Insufficient permissions. Admin access required." />;
+  }
+
+  // ΓöÇΓöÇ Self Profile Mode ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ
+  if (isLoading) {
+    return (
+      <div className="min-h-screen bg-portal flex items-center justify-center">
+        <div className="w-6 h-6 border-2 border-foreground/30 border-t-foreground rounded-full animate-spin" />
+      </div>
+    );
+  }
+
+  if (error) {
+    return <SafeFallbackView message={error} />;
+  }
+
+  if (!profile || !user) {
+    return <SafeFallbackView message="Profile data unavailable." />;
+  }
+
+  if (!validateProfileRoleIntegrity(profile)) {
+    return <SafeFallbackView message="Security check failed. Profile data withheld." />;
+  }
+
+  if (user.role !== profile.role) {
+    logger.error('ProfilePage',
+      `User role "${user.role}" does not match profile role "${profile.role}". ` +
+      `Rendering minimal view.`
+    );
+    return <SafeFallbackView message="Role verification mismatch. Contact administration." />;
+  }
+
+  const roleConfig = ROLE_CONFIGS[profile.role];
+
+  return (
+    <div className="min-h-screen bg-portal text-white">
+      <div ref={containerRef} className="max-w-6xl mx-auto px-6 md:px-12 py-24">
+        <div className="profile-content space-y-12">
+          {/* Identity Header */}
+          <div className="space-y-4">
+            <div className="flex items-center space-x-3">
+              <div className="w-12 h-12 border border-white/10 bg-black/40 flex items-center justify-center">
+                <User className="w-6 h-6 text-primary" />
+              </div>
+              <div>
+                <h1 className="text-4xl md:text-5xl font-display font-bold uppercase italic leading-none">
+                  <SplitText trigger="load">{profile.identity.fullName.toUpperCase()}</SplitText>
+                </h1>
+                <div className="flex items-center space-x-3 mt-2">
+                  <Badge variant="outline" className="border-primary/30 text-primary text-[9px] font-bold tracking-widest px-3 py-1">
+                    {roleConfig.label.toUpperCase()}
+                  </Badge>
+                  <span className="text-white/20 text-[10px] font-bold tracking-widest uppercase">
+                    {profile.identity.email}
+                  </span>
+                </div>
+              </div>
+            </div>
+            <p className="text-white/40 text-[10px] uppercase font-bold tracking-[0.4em]">
+              BErozgar Campus Identity ΓÇö {profile.identity.verified ? 'Verified' : 'Unverified'}
+            </p>
+          </div>
+
+          <div className="border-t border-white/5" />
+
+          {/* Role-specific sections ΓÇö conditional rendering */}
+          {profile.role === 'student' && <StudentSections profile={profile} />}
+          {profile.role === 'admin' && <AdminSections profile={profile} />}
+        </div>
+      </div>
+
+      {/* Scanlines ΓÇö z below cursor: --z-scanline: 80, --z-cursor: 90 (ISSUE-12) */}
+      <div className="fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-[var(--z-scanline)] bg-[length:100%_2px,3px_100%]" />
+    </div>
+  );
+};
+
+export default ProfilePage;
\ No newline at end of file
diff --git a/src/pages/ResalePage.tsx b/src/pages/ResalePage.tsx
index c35eedb..53c29ae 100644
--- a/src/pages/ResalePage.tsx
+++ b/src/pages/ResalePage.tsx
@@ -145,6 +145,12 @@ const ResalePage = () => {
             {categories.map((cat, i) => (
               <div
                 key={cat.id}
+                // UX-05: clicking a category card now filters the listing grid by that category
+                onClick={() => setSearchQuery(cat.id)}
+                role="button"
+                aria-label={`Filter by ${cat.title}`}
+                tabIndex={0}
+                onKeyDown={(e) => e.key === 'Enter' && setSearchQuery(cat.id)}
                 className={`category-card group cursor-pointer ${i === 0 ? 'md:col-span-7' : i === 1 ? 'md:col-span-5' : i === 2 ? 'md:col-span-4' : 'md:col-span-8'
                   }`}
                 style={{ perspective: '1000px' }}
@@ -267,11 +273,10 @@ const ResalePage = () => {
               setIsModalOpen(true);
             }}
             disabled={!canCreateListing}
-            className={`px-12 py-5 font-display uppercase tracking-wider text-sm group relative overflow-hidden transition-colors ${
-              canCreateListing
+            className={`px-12 py-5 font-display uppercase tracking-wider text-sm group relative overflow-hidden transition-colors ${canCreateListing
                 ? 'bg-portal-foreground text-portal hover:bg-teal-400'
                 : 'bg-portal-foreground/30 text-portal/50 cursor-not-allowed'
-            }`}
+              }`}
           >
             <span className="relative z-10 flex items-center justify-center">
               List Your First Item <Plus className="ml-2 w-4 h-4 group-hover:rotate-90 transition-transform duration-500" />
@@ -289,7 +294,11 @@ const ResalePage = () => {
       >
         <ResourceListingForm
           moduleName="Resale"
-          onSuccess={() => setIsModalOpen(false)}
+          onSuccess={() => {
+            setIsModalOpen(false);
+            // UX-06: refresh listing grid after successful submission
+            refetch();
+          }}
         />
       </ListingFormModal>
     </div>
diff --git a/src/pages/VerificationPage.tsx b/src/pages/VerificationPage.tsx
index e5512e6..aac8a8d 100644
--- a/src/pages/VerificationPage.tsx
+++ b/src/pages/VerificationPage.tsx
@@ -43,13 +43,25 @@ const VerificationPage = () => {
         }
     }, [isAuthenticated, authLoading, navigate, location.pathname]);
 
+    // Single interval on mount ΓÇö setter callback handles stopping at 0
+    // Avoids the chained re-registration bug where a new interval was created
+    // every time timeLeft changed (old and new intervals both running).
     useEffect(() => {
-        if (timeLeft <= 0) return;
         const timer = setInterval(() => {
-            setTimeLeft((prev) => prev - 1);
+            setTimeLeft((prev) => {
+                if (prev <= 1) { clearInterval(timer); return 0; }
+                return prev - 1;
+            });
         }, 1000);
         return () => clearInterval(timer);
-    }, [timeLeft]);
+    }, []);
+
+    // Guard: if no pending signup data and not authenticated, redirect to signup
+    useEffect(() => {
+        if (!pendingData && !isAuthenticated && !authLoading) {
+            navigate('/signup', { replace: true });
+        }
+    }, [pendingData, isAuthenticated, authLoading, navigate]);
 
     const minutes = Math.floor(timeLeft / 60);
     const seconds = timeLeft % 60;
@@ -66,9 +78,15 @@ const VerificationPage = () => {
             });
             // Navigation is handled by the useEffect watching isAuthenticated
         } catch (err) {
+            const msg = err instanceof Error ? err.message : '';
+            // AUTH-UX-01: distinguish expired OTP from wrong OTP so the user
+            // knows whether to resend or just retype.
+            const isExpired = /expired|expir/i.test(msg);
             toast({
-                title: "Verification Failed",
-                description: "Invalid code or no pending registration found.",
+                title: isExpired ? "Code Expired" : "Verification Failed",
+                description: isExpired
+                    ? "Your code has expired. Click \"Resend Code\" to get a new one."
+                    : "Invalid or incorrect code. Please check and try again.",
                 variant: "destructive",
             });
             setIsLoading(false);
@@ -85,10 +103,10 @@ const VerificationPage = () => {
             return;
         }
         try {
-            await api.post('/auth/signup', {
-                fullName: pendingData.fullName,
+            // AUTH-UX-02: use the dedicated resend endpoint (not /auth/signup).
+            // Calling signup again hits the 3/min rate limit and returns 409 Conflict.
+            await api.post('/auth/resend-otp', {
                 email: pendingData.email,
-                password: pendingData.password,
             }, { skipAuth: true });
             setTimeLeft(120);
             toast({
diff --git a/vite.config.ts b/vite.config.ts
index 2968a8e..f78d450 100644
--- a/vite.config.ts
+++ b/vite.config.ts
@@ -9,7 +9,7 @@ export default defineConfig(({ mode }) => {
 
   return {
     server: {
-      host: "::",
+      host: true,
       port: 8080,
       hmr: {
         overlay: false,
@@ -53,10 +53,10 @@ export default defineConfig(({ mode }) => {
       }),
     },
     esbuild: {
-      // Strip console.log/debug/info and debugger in production builds
+      // Strip console.log/debug/info/warn and debugger in production builds
       ...(isProd && {
         drop: ['debugger'],
-        pure: ['console.log', 'console.debug', 'console.info'],
+        pure: ['console.log', 'console.debug', 'console.info', 'console.warn'],
       }),
     },
   };
